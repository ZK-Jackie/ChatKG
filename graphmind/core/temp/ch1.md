# 第一章  集合与计数基础  

离散数学以各种离散量的概念、关系、结构和运算性质为研究对象，以充分满足计算机相关学科对离散量进行表示和处理的数学需求。正如微积分支撑了作为近代工业文明基础的物理学，离散数学支撑了作为现代信息社会基础的计算机科学。事实上，离散数学是一门综合的数学学科，由多个数学分支组成，包括集合论、数理逻辑、图论、数论、组合分析、代数结构等，分别从不同角度出发研究各种离散量之间数与形的关系。本章比较系统地介绍集合论与计数的基础知识， 它们是学习各个离散数学分支所必备的入门基础。 尽管读者可能已 经从其它途径获悉其中某些概念，但是要想掌握作为支撑整个计算机学科基石的离散数学，就必须重新审视和系统地学习这些入门知识。


## §1.1 集合的基本知识  

集合论是整个数学的基础和出发点， 当然也是离散数学的基础和出发点， 要学好离散数 学，首先必须学习集合论的有关知识。学习集合论还有一个非常重要的原因，那就是计算机的各个领域都与集合论有着极其密切的关系。因为集合不仅可以表示数值信息，而且还可表示和处理各种非数值信息，例如对各种数据的增删查改、对数据之间关系的描述等等，甚至可以让这些数据信息像数值一样进行运算。在本节，我们将学习集合论的基本知识，包括数学危机与集合论的由来、集合的概念与表示、集合的基本运算及运算性质等。  

### 1.1.1 数学危机与集合论  

众所周知，数学是整个自然科学体系的基础，人们对自然界的认识结论一般需要通过数学演算或数学证明来保证其正确性。打铁还需自身硬，从理论上说，数学既然能够作为一种可以鉴别认识结论真伪的基本工具，那么其自身就不应该有任何错误或矛盾。但实际情况并没有这么简单，千百年来陆续出现的希帕索斯悖论、贝克莱悖论、理发师悖论，使得数学理论的正确性面临一次又一次严峻挑战，历史上称之为数学危机。为拯救数学于危机之中，捍卫数学理论的正确性，无数杰出科学家做了大量深入系统的研究工作。直到在十九世纪初，柯西、维尔斯特拉斯等数学家通过创立极限理论，终于解决了希帕索斯悖论、贝克莱悖论问题，为实数理论和微积分的正确性奠定了坚实的基础。  

但是，极限理论在逻辑上还有需要完善的地方.因为极限概念由自然数定义，要保证极限理论的正确性，首先必须要保证自然数概念及相关理论的正确性。虽然自然数是大家熟知且常用的一个基本概念，大家从小学就开始学习自然数的计数和运算，但是对自然数概念的理解主要还是依靠经验。为保证极限理论的正确性，必须对自然数进行正式的数学定义。数学家冯·诺依曼用集合的方式定义了自然数并取得成功。由此，对整个数学理论体系正确性和无矛盾性的论证就转化为对集合论的正确性和无矛盾性的论证，集合论成为整个数学大厦的根基。尽管卢素提出理发师悖论指出了集合论的局限性，一度动摇了这个根基，但是有惊无险，策莫罗提出的公理化集合论有效解决了理发师悖论问题，不仅稳定了数学根基，而且进一步确立了集合论在整个数学大厦中的基础地位。集合论被誉为十九世纪最伟大的数学成就，集合论的创始人康托被誉为整个十九世纪最伟大的数学家，没有之一。  

### 1.1.2 集合的概念与表示  

集合论从一个比数更加基本的概念——集合出发，定义出数和数的运算，进而演化出整个数学学科的理论体系。本小节将从集合的基本概念出发，介绍集合论中最为基础的知识，包括集合概念的含义、元素的概念与性质、集合的表示方法、集合之间的相等与包含关系、若干常用的特殊集合等。  

#### 一、集合与元素的概念  

我们知道，如果要定义一个概念，必须要使用其它概念。例如，在“边长相等的三角形是等边三角形”这个定义中，就要用到边长、相等、三角形等概念。而要定义其它概念就必须使用另外其它的概念，而且不能循环使用。如此下去，必然会存在一些最原始的概念作为一切概念的出发点，只能使用这些原始概念来定义其它概念而不能用其它概念来定义这些原始概念。也就是说，这些原始概念的含义是不言自明的，只能通过其它的概念去理解或解释其含义，而不能对其下严格的定义。例如，几何学中的点、线、面的概念就是原始概念，我们都知道这些概念的具体含义，但它们是没有定义的。  

集合就是这样一种没有定义的原始概念，我们可对其含义进行如下描述或理解：  

所谓集合，就是在指定范围内满足给定条件、能相互区分的所有对象构成的总体，集合中每个对象称为该集合的元素。  

【例题1.1】判断“合肥工业大学计算机专业所有学生”是否为一个集合。  

【分析】“合肥工业大学计算机专业”是指定范围，“所有学生”是所有对象，合肥工业大学计算机专业每个学生都是集合中元素，但是其它专业学生都不是该集合中元素，故符合集合的含义。  

【解】“合肥工业大学计算机专业所有学生”是一个集合。□ 集合的含义非常广泛，集合的例子比比皆是，例如下面4 条语句描述的都是集合：  

（1） 硬币有两面——正面和反面，“正面、反面”构成一集合。（2） 计算机内存的全体单元构成一集合。 （3） 所有三角形构成的三角形集合。 （4） 所有正整数的集合。  

根据集合概念的上述解释，不难看出元素与集合之间的归属关系是明确的：对于任意一个集合和任意一个对象，该对象要么属于这个集合，要么不属于这个集合，两者必居其一且仅居其一。除此之外，还可看出集合中每个元素必须满足如下三条基本性质：  

1。互异性：集合中的每个元素都是互不相同的，凡是相同的元素都视为同一元素。例如集合{5, 5, 6}应该理解为$\{5,\,6\}$。  

2。可分性：集合中的每个元素都是可以明确加以区分的对象。3。无序性：集合中的元素之间是没有次序的。例如：{5, 6}和{6, 5}应视为同一集合。  

通常用带下标或不带下标的大写英文字母$A$，$B$，$C$，…表示集合，用带下标或不带下标的小写英文字母$x$，y，$z$，…表示集合中的对象或元素。  

【定义1.1】对于任意一个对象$x$ 和任意一个集合𝐴，当对象$x$ 是集合$\cdot A$中元素时，称$x$属于𝑨，记为$x\in A$；当对象$x$ 不是集合$A$ 中元素时，称$_x$ 不属于$A$，记为$x\notin A$。  

【例题1.2】（理发师悖论）某个孤岛上住着一些人家，岛上只有一位理发师。该理发师给且仅给那些不给自己理发的人理发。那么就有一个问题：谁给这位理发师理发？  

【分析】对于理发师，若他不给自己理发，则属于“不给自己理发的人”，他就要给自己理发；若他给自己理发，则又属于“给自己理发的人”，他就不能给自己理发。由此产生理发师悖论或罗素悖论。罗素悖论曾使集合论产生危机。  

【解】设$\scriptstyle{C=\{\,x\mid x$ 是不给自己理发的人}，$b$ 是这位理发师，则有：  

罗素悖论产生的原因是集合的定义不受限制。经过研究发现如果允许将集合作为其自身的元素，则会产生一些矛盾或悖论.因此，德国数学家康托之后创立的许多公理化集合论都直接或间接地限制集合成为它自己的元素，有效避免了罗素悖论。  

#### 二、集合的表示方法  

集合的表示方法主要有枚举法、描述法、归纳法和文氏图法。  

##### 1.枚举法  

所谓枚举法，就是列出集合中所有元素或者可以看出元素变化规律的部分元素。对于一个集合，如果该集合中仅含个数较少的有限个元素，或者集合中元素之间有明显关系时，通常使用枚举法表示该集合。  

【例题1.3】指出下列集合的表示方法： $A=\{1,2,3,4\};~~(2)~~B=\{{\mathrm{a}},0,{\mathrm{C h i n a}}\};~~(3)~~C=\{1,2,3,~\cdots~,99\}\,.$  

【分析】（1）集合中共含有4 个元素，表示小于5 的正整数集合，用枚举法表示；（2）虽然集合常用来表示一组具有相同性质的元素，但有的集合中的元素可以看起来毫不相关，集合共含有3 个元素，采用枚举法将其全部列出；3）集合$C$ 表示小于100 的正整数集合，当集合中元素存在明显变化规律时，可列出部分元素，其余用省略号表示，也是枚举法。  

【解】（1）、（2）、（3）的表示方法都是枚举法。□  

枚举法表示的是集合的外延，是一种显示表示方法，具有直观性强、易于理解等优点。但对于元素数目较多的集合，枚举法显然不是一种有效方法、甚至不可行。从计算机的角度看，如果一次性将大量数据输入计算机，将占据大量内存。因此，有时需要使用描述法、归纳法等其它方式来表示集合。  

##### 2.描述法  

所谓描述法，就是描述集合中元素所具备的某种特性来表示集合。通常用数学符号来表示集合中的任意元素都具有性质$P$。集合描述法表示的具体形式如下：  

$$
A=\{x|P(x)\}
$$

其中：符号$P(x)$表示元素$x$具有性质$P$  

【例题1.4】指出下列集合的表示方法：  

（1）$\scriptstyle A\;=\left\{\,x\;\vert\;x\,\right\vert$ 是小于5 的正整数}；     （2）$B=\{x\in Z^{+}|x<100\}.$。 （3）$C{=}\{x\in R|x=p/q,p,q$为正整数}；  （4）$D{=}\{\,x\mid x$是实数, $x^{2}+1=0\}$。  

【分析】（1）$A$ 表示小于5 的正整数集合；（2）集合$B$ 指定正整数集合的一个范围，表示小于100 的正整数；（3）集合$C$ 表示所有正有理数集合，无法给出集合所有元素；（4）集合$D$ 无解，因此集合$D$ 中没有元素。  

【解】（1）\~（4）均通过描述集合中元素性质来表示集合，因此都是描述法。□  

描述法表示的是集合的内涵，是一种隐式表示方法，表达内容具有一定的抽象性和普适性。描述法的优点是不需要列出集合中全部元素，只需给出集合中元素的描述特性。因此，描述法的表达能力很强，既可表示有限集合，也可表示无限集合。  

##### 3.归纳法  

归纳法是一种基于构造策略的表示方法。该方法通过定义一些规则把集合构造出来，由此实现对集合的表示。具体的构造规则通常由如下三个部分组成：  

（1）基础部分：确定集合中某些最基本的元素；（2）归纳部分：确定由集合中已有元素构造出新元素的规则或方法；（3）边界部分：确定集合在通过构造元素实现不断扩张的过程中不能超过的界限。  

上述基础部分决定了该集合为非空集合并确定了集合的初始元素，归纳部分则根据集合中初始元素通过一定的规则或方法不断构造出新的元素，是集合不断扩张的过程，边界部分则是对集合的扩张进行限制，给出了集合的边界，由此构成一个具有确定边界的集合。  

总之，基础部分和归纳部分确定了集合中至少包含哪些元素，边界部分则是确定了集合中最多包含哪些元素。  

集合归纳表示法的构造性特点非常适合用计算机进行处理，在计算机相关领域得到广泛应用。在后续内容中，我们将会看到，通过用归纳法构造集合的方式来定义一个概念或设计一个算法，在计算机相关领域是一件屡见不鲜的事情。  

【例题1.5】集合$A$ 按如下方式定义，试指出其定义方式。  

（1）2 是$A$ 中的元素。 （2）如果$a$ 是$A$ 中的元素，则$2a$ 也是$A$ 中的元素。 （3）有限次使用（1）、（2）后所得到的字符串都是$A$ 中的元素。  

【分析】（1）指出了集合中的基本元素2；（2）给出了由2 构造新元素的方法如4, 8, 16, 32 等都是由2 构造的集合$A$ 中的新元素；（3）指出了集合扩张的界限。  

【解】集合$A$ 的定义方式是归纳法。□ 再看一个例子：  

【例题1.6】集合$A$ 按如下方式定义，试指出其定义方式。 （1）0 和1 都是$A$ 中的元素。 （2）如果$a$，$b$ 是$A$ 中的元素，则$a b$，ba 也是$A$ 中的元素。 （3）有限次使用（1）、（2）后所得到的字符串都是$A$ 中的元素。  

【分析】（1）指出了集合中的基本元素是0 和1；（2）给出了由0 和1 构造新元素的方法，如00, 01, 11 等都是由0 和1 构造的集合$A$ 中的新元素；（3）指出了集合$A$ 的界限。  

【解】显然（1）是基础，（2）是归纳，（3）是边界，符合集合归纳表示法的标准。集合$A$ 的定义方式是归纳法。□  

##### 4.文氏图法  

文氏图（或称文恩图）以英国数学家文恩的名字命名.文恩在1881 年介绍了这种图的使用方法。文氏图用长方形表示全集，用长方形内部的圆或其它几何图形表示普通集合。文氏图常用于形象地表示集合之间的关系。  

【例题1.7】设$U$为26 个英文字母，$A=\{\mathsf{a},\mathsf{b},\mathsf{c},\mathsf{d},\mathsf{e}\}$，画出$A$ 的文氏图。  

【分析】如图1-1，画一个长方形表示全局$U$，也就是所有英文字母的集合。在长方形中画一个圆表示集合$A$。  

【解】$A=\{\mathsf{a},\mathsf{b},\mathsf{c},\mathsf{d},\mathsf{e}\}$的文氏图如图1-1 所示。□  

![](images/e1a6ed3cb2cd212ff1b9670f37c23a83a1a9b5d060cc759695fbbd390137434b.jpg)  
图1-1 集合$A$ 的文氏图  

#### 三、集合与集合的关系  

如前所述，集合中凡是相同的元素都看成是同一个元素，而且集合中元素之间的排列次序也不加区分，或者说是无序的。如此一来，集合就完全取决于集合中的元素。换句话说，对于任意两个集合，如果这两个集合中具有完全相同的元素，那么这两个集合就是完全一样的。或者说，这两个集合是相等的。于是得到如下关于集合相等的外延性原理：  

【定理1.1】（外延性原理）对于任意的集合$A$ 和集合$B$，$\pmb{A}$ 与$\pmb{B}$ 相等当且仅当两者具有相同元素；或者说，$\pmb{A}$ 与$\pmb{B}$ 相等当且仅当$A$ 中每个元素都属于$B$ 且$B$ 中每个元素都属于$A$。如果集合$A$ 与$B$ 相等，则记为$A=B$；否则，如果$A$ 与$B$ 不相等，则记为$A\ne B$。  

【例题1.8】设$A=\{x|(x-1)(x-2)=0,\ x\in R\},$, ， $B=\{x|(\mathrm{x}\in Z^{+})$且$(x^{2}\leq4)^{\rceil}$}，试指出集合$A$ 和$B$ 中的元素，并判断集合$A$ 和$B$ 的关系。  

【分析】满足$(x-1)(x-2)=0$的$x$ 值为1, 2，因此$A{=}\{1,2\}$；满足$x^{2}\leq4$的正整数的$x$ 值为1, 2，因此$B{=}\{1,2\}$。  

【解】$A{=}\{1,2\}$；$B{=}\{1,2\}$。集合$A$ 和集合$B$ 中的元素都相同，故这两个集合相等。□  

【定理1.2】集合的相等关系具有如下三条基本性质： （1）自反性：对于任意给定的集合$A$，成立$A{=}A$； （2）对称性：对于任意给定的两个集合$A$ 和$B$，若有$A{=}B$，则有$B{=}A$；  

（3）传递性：对于任意三个集合$A$、$B$、$C$，若有$A{=}B$ 且$B{=}C$，则有$_{A=C}$  

【证明】显然。□  

【例题1.9】设$A{=}\{1,2,3,4\}$，$B{=}\{2,4,1,3\}$，$C{=}\{2,1,3\}$，试判断它们之间的关系。  

【分析】集合$A$ 和$B$ 含有完全相同的元素，只是顺序不同，根据集合的无序性，可知$A$与$B$ 相等；集合$C$ 与$A$ 所包含的元素不完全相同，故$A\neq C$，同理$\mathbf{B}\neq C$。  

【解】$A{=}B$, $A\neq C$, $B\neq C$。□  

由【例题1.9】可以看出，集合$C$ 中的每个元素都是集合$A$ 中的元素，此时$A$ 完全包含了$C$，可将$C$ 看成是$A$ 的一个部分，由此得到如下集合的包含关系和子集的概念：  

【定义1.2】对于任意两个集合$A$ 和$B$，若$B$ 中的每个元素都是$A$ 中的元素，则称$\pmb{B}$ 包含于$\pmb{A}$（或$\pmb{A}$ 包含$\pmb{B}$），记为$B\subseteq A$，亦称$\pmb{B}$ 是$\pmb{A}$ 的子集，称符号$\subseteq$为集合之间的包含关系。如果$B$ 不能被$A$ 所包含，则称$\pmb{B}$ 不是$\pmb{A}$ 的子集，记为$B\nsubseteq A$。  

【定理1.3】集合的包含关系具有如下三条基本性质：（1）自反性：对于任意给定的集合$A$，都成立$A\subseteq A$  

（2）反对称性：对于任意两个集合$A$ 和$B$，$A{=}B$当且仅当$A\subseteq B$且$B\subseteq A$（3）传递性：对于任意三个集合$A$、$B$、$C$，若$A\subseteq B$且$B\subseteq C$，则$A\subseteq C$  

【证明】显然。□ 【例题1.10】设$A{=}\{1,2,3,4,5\}$，$B{=}\{2,3\}$，$C{=}\{1,2\}$，$D{=}\{1,2\}$。判断$A$、$B$、$C$、$D$之间的包含关系。  

【分析】B、$C$、$D$ 中所有元素都是$A$ 的元素，$C$ 和$D$ 中元素相同。根据子集的定义有：$B\subseteq A$，$C\subseteq A$，$D\subseteq A$，$C\subseteq D$，$D\subseteq C$。  

【解$\mathrm{~\bf~l~}_{A},\mathrm{~\bf~}_{B},\mathrm{~\bf~}_{C},\mathrm{~\bf~}_{D}$ 之间的包含关系为：$B\subseteq A$，$C\subseteq A$，$D\subseteq A$，$C\subseteq D$，$D\subseteq C$。□  

【定义1.3】对于任意两个集合$A$ 和$B$，如果$B\subseteq A$且$A\neq B$，则称$B$ 是$A$ 的真子集，记为$\mathrm{B}\subset\mathrm{A}$，并称符号$\subset$为集合之间的真包含关系。  

【例题1.11】判断下列集合之间是否具有真包含关系： $A{=}\{a,b,c\},\;\;B{=}\{a,b,c,d,e\};\;\;(2)\;\;C{=}\{a,b,c\},\;\;D{=}\{a,b,c\};$ （3）$E{=}\{a\}$，$\scriptstyle\mathbf=\left\{\{a\}\right\},\ P=\left\{\{\{a\}\}\right\},\ Q=\left\{a,\{a\},\{\{a\}\}\right\}.$。  

【分析】（1）集合$A$ 的元素都是集合$B$ 的元素，但集合$B$ 中存在元素d 不是$A$ 中的元素。根据真子集的定义，集合$A$ 是集合$B$ 的真子集。2）集合$C$的元素都是集合$D$ 的元素，但集合$D$ 中不存在元素不是$C$中的元素。根据真子集的定义，集合$C$ 不是集合$D$ 的真子集，集合$D$ 也不是集合$C$ 的真子集。（3）集合$E$的元素都是集合$\mathcal{Q}$中的元素，但集合$\mathcal{Q}$中的元素$\{a\}$和$\{\{a\}\}$不是集合$E$ 中的元素；集合$F$ 的元素都是集合$\mathcal{Q}$中的元素，但集合$\mathcal{Q}$中的元素$\{\{a\}\}$和$a$ 不是集合$E$ 中的元素；集合$P$ 的元素都是集合$\mathcal{Q}$ 中的元素，但集合$\mathcal{Q}$ 中的元素$\{a\}$和$a$ 不是集合$E$ 中的元素。根据真子集定义，集合$E$$F,\,P$ 是$\mathcal{Q}$的真子集。  

【解】（1）$A\subset B$;（2）$C\not\subset D$ ，$D\not\subset C$；（3）$E\subset Q$，$F\subset Q$，$P\subset Q$。 □  

#### 四、常用的特殊集合  

集合论中有一些非常重要和常用的特殊集合，它们分别具有一些特殊性质。离散数学中很多基本概念的定义及其性质讨论都离不开它们。下面具体介绍这些特殊集合的基本概念及性质，包括空集、全集、有限集、无限集、子集、幂集等。  

##### 1.空集与全集  

通常将不包含任何元素的集合定义为空集，即有：  

【定义1.4】不含任何元素的集合称为空集，记作$\varnothing$。 【例题1.12】设$A{=}\{x|(x{\in}R)$且$\scriptstyle{x^{2}<\theta}\}$，判断$A$ 中是否包含元素，是否为空集。  

【分析】$\scriptstyle x^{2}<0$ 无解，所以$A$ 是空集。  

【解】$A$ 中没有任何元素，是空集。 □ 下面的定理表明了空集两个基本性质，即最小性和唯一性。  

【定理1.4】空集是一切集合的子集并且是绝对唯一的。  

【分析】可以用反证法进行证明。  

【证明】首先证明空集是一切集合的子集，用反证法。假设存在某个集合$A$，空集$\varnothing$不是$A$ 的子集，那么必然至少存在一个元素$x$，满足：$x\in\emptyset$但$x\notin A$。这与空集的定义矛盾，假设不成立，故空集是一切集合的子集。 再证空集的唯一性，用反证法。假设存在两个不同的空集$\varnothing_{2}$和$\varnothing_{1}$，由于空集是一切集合的子集，故有：$\varnothing_{1}\subseteq\varnothing_{2}$且$\varnothing_{2}\subseteq\varnothing_{1}$。由定理1.3 可知，必有：$\varnothing_{1}=\varnothing_{2}$。与假设矛盾！因此，空集集必然是唯一的。□  

【例题1.13】判断下列结论的对错。 $\emptyset\subseteq\emptyset;\ \ (\,2\,)\quad\emptyset\in\emptyset;\ \ (\,3\,)\ \ \emptyset\subseteq\{\emptyset\};\ \ (\,4\,)\ \ \emptyset\in\{\emptyset\}\,.$  

【分析】因为空集是任一元素的子集，所以（1）和（3）对，（4）中把$\emptyset$看成一个元素，所以（4）对。因为空集不含任何元素，所以（2）错。  

【解】（1）（3）（4）均为对，（2）为错。□ 在日常生活和实际工作中，对任何一个问题的讨论和处理一般都是在一个相对固定的范围之内。这个范围构成了问题讨论的默认论域或背景，由此得到如下全集的概念：  

【定义1.5】相对固定范围之内所有元素组成的集合称为全集，通常用$U$ 表示。  

在集合的文氏图表示法中，一般用矩形表示全集，圆形表示非全集集合。 对于每个具体的问题，默认论域或背景应当是唯一的，否则就会引起该问题在概念理解上的歧义和混乱。但是，对于不同的问题，通常具有与之相应的不同默认论域或背景，因而具有与之相应的不同全集。因此，全集是相对唯一的。  

##### 2.有限集与无限集  

在集合的理论研究和实际应用中，经常需要对集合中元素的数量规模进行度量，由此得到集合基数的概念，具体定义如下：  

【定义1.6】对于任意集合$A$，$A$ 中所含元素的个数称为$A$ 的基数，记为$|A|\circ$  

【例题1.14】求下列集合的基数。 $A=\emptyset;\quad(\,2\,)\quad B=\{\emptyset\}\ \ ;\ \ (\,3\,)\ \ C=\{a,b,c\};\quad(\,4\,)\quad D=\{a,\{b,c\}\}\,\circ\,$  

【分析】（1）中不包含任何元素，$\scriptstyle|A|=0$；（2）中包含一个元素$\varnothing$，$|B|{=}I$；（3）中包含三个元素$a,b,c$ , 故$|C|{=}3$；（4）中包含两个元素$a,\,\{b,c\}$，故$|D|{=}2$。  

【解】$\scriptstyle|A|=0$；$|B|{=}1$；$|C|{=}3$；$|D|{=}2$。□ 根据集合基数的概念，可以得到如下有限集和无限集的定义：  

【定义1.7】对于任意给定的集合$A$，如果它的基数是一个有限数，则称该集合是一个有限集，否则称之为无限集。  

有限集中元素的个数是有限的，无限集中元素的个数是无限的。无论从概念上还是方法看，有限集和无限集的规模度量或计数都有着本质上的区别，我们将在后续相关内容中对此做具体介绍和分析。  

##### 3.有限子集与幂集  

对于有限集合，我们可以构造出相关的子集并对子集进行计数，具体定义如下：  

【定义1.8】设$A$ 是任一有限集合，若$A$ 中含有$n$ 个元素，即有$\left|A\right|{=}n$，则称$A$ 为$n$ 元集合。对于$A$ 的任意一个子集$B$，若$B$ 中含有$m$ 个元素，则称$B$ 为$A$ 的$m$ 元子集。  

【例题1.15】设$A{=}\{1,2,3\}$，求出$A$ 的全部$m$ 元子集。  

【分析】因为$\cdot|A|{=}3$，所以$m$ 可取0，1，2，3。用$C(n,r)$表示从含有$n$ 个元素的集合中任意取出$r$ 个元素的组合数，则有： 当$m{=}0$ 时，$A$ 的0 元子集：$\varnothing$，有$C(3,0)=1$个； 当$m{=}1$ 时，$A$ 的1 元子集：{1}，$\{2\}$，{3}，有$C(3,1)=3$个；  

当$m{=}2$ 时，$A$ 的2 元子集：$\{1,2\},\;\;\{1,3\},\;\;\{2,3\}$，有$C(3,2)=3$个；当 $m{=}3$  时， $A$  的 3  元子集： $\{1,2,3\}$ ，有 $C(3,3)=1$ 个。  

【解】对于含有3 个元素的集合$A$，其全部$m$ 元子集一共有8 个，即：$\varnothing$，$\{1\}$，$\{2\}$，{3} ， $\{1,2\}$ ， $\{1,3\}$ ， {2, 3} ， {1, 2, 3} 。□  

一般地，$n$ 元集合$A$ 的$m$（$0\leq m\leq n.$）元子集共有$C(n,m)$个，故其所有子集数为：  

$$
C(n,0)+C(n,1)+\cdots+C(n,n-1)+C(n,n)=2^{n}
$$

也就是说：$n$ 元集合共有$2^{n}$个不同的子集。  

事实上，对于任意一个集合$A$，还可以将其每个子集分别作为一个元素构成一个新的集合，由此得到如下幂集的概念：  

【定义1.9】假设$A$ 任意一个给定的集合，以$A$ 的所有不同子集为元素构成的集合称为$A$ 的幂集，记为$P(A)$或$2^{A}$，即有：  

$$
P(A)=\{B|B\subseteq A\}
$$

对于以集合作为元素的集合，亦即集合的集合，通常称之为集族。由此可知，幂集其实就是一种特殊的集族。  

【例题1.16】若$A{=}\{a,b,c\}$，求$A$ 的幂集。  

【分析】包含关系$\subseteq$两边必须是集合，并且这两个集合的级别相同；属于关系左边是元素，右边是集合，两边级别不一样。  

$\mid2^{A}{=}\{\emptyset,\,\{a\},\,\{b\},\,\{c\},\,\{a,b\},\,\{a,c\},\,\{b,c\},\,\{a,b,c\}\}\,\circ$  

【例题1.17】计算如下幂集。 $P(\emptyset);~(\,2\,)~P(\{\emptyset\});~(\,3\,)~P(\{a,\{b,c\}\,\,\})\,\circ$  

【分析】（1）由于$|\emptyset|=0$，故$\varnothing$仅有一个子集$\varnothing$，即$P(\varnothing)=\{\varnothing\}$。（2）（3）类似分析。  

【解】1）$P(\varnothing)=\{\varnothing\}$2）$P(\{\emptyset\})=\{\emptyset,\{\emptyset\}\ \}.$3）𝑃({𝑎, {𝑏, 𝑐}}) ={∅，{𝑎}，$\big\{\{b,c\}\big\}$$\{a,\{b,c\}\}$ 。□  

### 1.1.3 集合的基本运算  

我们学过实数的加、减、乘、除、乘方、开方等各种运算，通过这些运算可由已有实数生成新的实数。事实上，从数学方法论的角度来看，运算一种非常基本的数学手段。对于任何一个数学概念，在确定其内涵之后，我们总是通过构造概念运算的方式产生新的概念，代数式通过运算可以产生新的代数式、函数通过运算可以产生新的函数、命题通过运算可以产生新的命题、矩阵通过运算可以产生新的矩阵，等等。对集合的学习和探讨也是如此，在掌握集合的基本概念之后，下面进一步学习集合的基本运算及其性质，通过运算机制从已有集合中构造出新的集合，具体包括交运算、并运算、差运算、补运算和对称差运算。  

#### 一、交运算与并运算  

有时候需要将两个集合的中的元素合并起来构成一个新的集合，由此得到集合并运算的概念；有时需要将两个集合中的共同部分取出来构成一个新的集合，由此得到集合交运算的概念。这两个运算的具体定义如下：  

【定义1.10】对于任意两个集合$A$ 和$B$， $A\cup B=\left\{x\middle|x\in A\right.$或者$\cdot x\in B\}$称为$A$ 和$B$ 并集，亦称$A\cup B$为集合$A$ 和$B$ 的并运算；$A\cap B=\{x|x\in A$并且$x\in B.$}称为$A$ 和$B$ 交集，亦  称$A\cap B$为集合$A$ 和$B$ 的交运算。  

由上述定义可知，对于任意两个集合$A$ 和$B$，两者并运算的结果产生一个新集合，该集合是由$A$ 和$B$ 中元素合并而成，如图$1{\cdot}2(a)$所示；两者交运算结果产生另外一个新集合，该集合由$A$ 和$B$ 的共同部分组成，或者说由同时属于$A$ 和$B$ 的元素组成，如图1-2(b)所示。  

![](images/4fb6199ac21b049856dda6721c89f3d4f0739da1971ad0bbc7426e82d630f6b5.jpg)  
图1-2 并、交运算的文氏图  

【例1.18】设$A{=}\{a,c,d,f\}$, $B{=}\{b,d,f\}$。求$A\cap B$和$A\cup B$【解】$A\cap B=\{d,f\}$; $A\cup B=\{a,b,c,d,f\}$。□  

不难看出，并运算和交运算其实分别就是实数加法和乘法在集合论领域的推广。根据并运算与交运算的定义，不难证明它们满足如下基本运算性质：  

(1) 幂等律：对于任意集合$A$，有：$A\cup A=A$；$A\cap A=A$ (2) 交换律：对于任意两个集合$A$ 和$B$，有：$A\cup B=B\cup A$；$A\cap B=B\cap A$ (3) 结合律：对于任意三个集合$A,\ B$ 和$C$，有：  

$$
(A\cup B)\cup C=A\cup(B\cup C);\;\;(A\cap B)\cap C=A\cap(B\cap C)
$$

(4) 同一律：对于任意集合$A$，有：$A\cup\varnothing=A$；$A\cap U=A$(5) 零  律：对于任意集合$A$，有：$A\cup U=U$；$A\cap\varnothing=\varnothing$(6) 分配律：对于任意三个集合$A,\ B$ 和$C$，有：  

$$
\begin{array}{r}{A\cap(B\cup C)=(A\cap B)\cup(A\cap C)}\\ {A\cup(B\cap C)=(A\cup B)\cap(A\cup C)}\end{array}
$$

(7) 吸收律：对于任意两个集合$A$ 和$B$，有：  

$$
A\cup(A\cap B)=A;\,\,\,A\cap(A\cup B)=A
$$

(8) 对于任意两个集合$A$ 和$B$，有：  

$A\subseteq B$当且仅当$A\cup B=B$ $A\subseteq B$当且仅当$A\cap B=A$  

其中$U$和$\varnothing$分别表示全集和空集。  

上述性质既可根据文氏图简单直观地得到，也可根据集合相等的定义给出数学证明。现仅以分配律为例进行证明，读者可自行给出其余性质的证明。  

【例题1.19】对于任意三个集合$A$、$B$ 和$C$，证明如下分配律：  

$$
A\cap(B\cup C)=(A\cap B)\cup(A\cap C)
$$

$$
A\cup(B\cap C)=(A\cup B)\cap(A\cup C)
$$

【证明】对于任意的元素$\cdot x\in A\cap(B\cup C)$，则有：$x\in A$并且$x\in B\cup C$。对于$x\in B\cup C$则有：$x\in B$或者$\cdot x\in C$。故有：$x\in A$并且$x\in B$；或者有：$x\in A$并且$x\in C$。即有：  

$$
x\in(A\cap B)\cup(A\cap C)
$$

故有：$A\cap(B\cup C)\subseteq(A\cap B)\cup(A\cap C)$  

可类似证明：  

$$
(A\cap B)\cup(A\cap C)\ \ \subseteq\ \ A\cap(B\cup C)
$$

故有：$A\cap(B\cup C)=(A\cap B)\cup(A\cap C).$  

同理可证：$A\cup(B\cap C)=(A\cup B)\cap(A\cup C)$。□  

上述两个集合的并与交运算可以推广到如下多个集合的情形：  

【定义1.11】对于任意$n$ 个集合$A_{1},A_{2},\ldots,A_{n}$，其交运算和并运算分别为：  

$A_{1}\cap A_{2}\cap,\ldots,\cap A_{n}=\{x|x\in A_{1}$ 或 ${\boldsymbol{x}}\in A_{2}$ 或 …  或 $\textstyle{\boldsymbol{x}}\in A_{n}]$ }   $A_{1}\cup A_{2}\cup,\ldots,\cup A_{n}=\{x|x\in A_{1}$ 且 $x\in A_{2}$ 且 …  且 $x\in A_{n}\}$  

【例题1.20】设集合$A{=}\{1,2,4\}$，$B{=}\{3,4,5\}$，$C{=}\{4,6\}$，求A$,\cap B\cap C$、$\mathrm{A}\cup B\cup C$。  

【分析】根据多个集合的交与并运算的定义很容易得到答案$.\mathrm{A}\cap B\cap C$即为三个集合共有元素组成的集合，$\mathrm{A}\cup B\cup C$即为三个集合所含全部元素的合并构成的集合。  

【解${\mathsf{I}}\ A\cap B\cap C=\{4\}$，$\mathsf{A}\cup\mathsf{B}\cup\mathsf{C}=\{1,2,3,4,5,6\}$。□  

#### 二、差运算与补运算  

对于任意给定的两个集合$A$ 和$B$，有时需要将属于$A$ 但不属于$B$ 的所有元素取出来构成一个新的集合，由此得到如下集合差运算的概念：  

【定义1.12】对于任意给定的两个集合$A$ 和$B$，集合$\cdot A-B=\{x|x\in A$并且$x\notin B\}$称为$A$ 与$B$ 的差集，$A-B$亦称为集合𝐴与$B$的差运算；令$U$表示全集，则${\bar{A}}=U-A=\{x|x\in$$U$且$x\notin A\}$称为$A$ 的补集，亦称$\bar{A}$为对集合$A$ 的补运算。  

一般来说，所谓两个对象互补，是指这两个对象之间无共同部分并且若将两者合并则构成一个完整的整体。如果将全集𝑈看成是一个完整的整体，那么任何一个集合与它的补集显然构成一种互补关系。图1-3 为集合差运算和补运算的文氏图。  

![](images/3dd3ff26327d44646f11d3b3940708dbd5563cf42578e139e0a56534e35c5eff.jpg)  
图1-3 差、补运算的文氏图  

【例题1.21】设全集$\scriptstyle U=\{a,b,c,d,e,f\}$，$A\!=\!\{a,c,d,f\}$， $B{=}\{b,d,f\}$。求$A-B$和𝐴  

【解】$A-B=\{\sf a,c\}$；$\bar{A}=\{\sf b,e\}$。□  

不难看出，集合的差运算和补运算其实就是实数减法运算在集合论中的推广。根据集合差运算与补运算的定义，不难证明它们满足如下基本运算性质：  

(1) 矛盾律：对于任意给定的集合$A$，有：$A\cap{\bar{A}}=\emptyset$；(2) 排中律：对于任意给定的集合$A$，有：$A\cup\bar{A}=U$  

(3) 双重否定律：对于任意给定的集合$A$，有：$\bar{\bar{A}}=A$  

(4) 德摩根律：对于任意给定的两个集合$A$ 和$B$，有： $\overline{{A\cup B}}=\bar{A}\cap\bar{B},\,\,\,\overline{{A\cap B}}=\bar{A}\cup\bar{B}$  

(5) 对于任意给定的三个集合$A$、$B$ 和$C$，有：  

$A\cup(B\cup C)=(A\cup B)\cup C;\;A\cap(B\cap C)=(A\cap B)\cap C\circ$ $A\cap(B\cup C)=(A\cap B)\cup(A\cap C);\;A\cup(B\cap C)=(A\cup B)\cap(A\cup C)\,.$ $A\cap(A\cup B)=A;\,\,\,A\cup(A\cap B)=A\,.$  

现仅以德摩根律为例给出上述运算性质的证明，读者可自行给出其余证明。【例题1.22】对于任意给定的两个集合$A$ 和$B$，证明如下德摩根律：  

$$
{\overline{{A\cup B}}}={\bar{A}}\cap{\overline{{B}}}\,;\;{\overline{{A\cap B}}}={\bar{A}}\cup{\bar{B}}
$$

【分析】设$A$、$B$ 是任意两个集合，由于$\mathrm{A}\subseteq B$，$B\subseteq A\Longleftrightarrow\mathrm{A}=\mathrm{B}$，因此要证明${\overline{{A\cup B}}}=$$\bar{A}\cap\bar{B}$，只需证明${\overline{{A\cup B}}}\subseteq{\bar{A}}\cap{\bar{B}}$与${\bar{A}}\cap{\bar{B}}\subseteq{\overline{{A\cup B}}}$同时成立即可；同理，要证明${\overline{{A\cap B}}}={\bar{A}}\cup{\bar{B}}$，只需证明${\overline{{A\cap B}}}\subseteq{\bar{A}}\cup{\bar{B}}$与${\bar{A}}\cup{\bar{B}}\subseteq{\overline{{A\cap B}}}$同时成立即可。  

【证明】（1）要证${\overline{{A\cup B}}}={\bar{A}}\cap{\bar{B}}$。首先证明${\overline{{A\cup B}}}\subseteq{\bar{A}}\cap{\bar{B}}$  

对任意$x\in{\overline{{A\cup B}}}\Rightarrow x\notin A\cup B\Rightarrow x\notin A$且$x\notin B\Rightarrow x\in{\bar{A}}$ 且$x\in{\bar{B}}\Rightarrow x\in{\bar{A}}\cap{\bar{B}}$ 即有：  

$$
{\overline{{A\cup B}}}\subseteq{\bar{A}}\cap{\bar{B}}
$$

然后证明${\bar{A}}\cap{\bar{B}}\subseteq{\overline{{A\cup B}}}$  

对任意$x\in\bar{A}\cap\bar{B}\Rightarrow x\in\bar{A}$且$x\in{\bar{B}}\Rightarrow x\notin A$且$x\notin B\Rightarrow x\notin A\cup B\Rightarrow x\in\overline{{A\cup B}}$ 即有：  

$$
{\bar{A}}\cap{\bar{B}}\subseteq{\overline{{A\cup B}}}
$$

由（1-4）和（1-5）式，有：  

$$
{\overline{{A\cup B}}}={\bar{A}}\cap{\bar{B}}
$$

（2）往证${\overline{{A\cap B}}}={\bar{A}}\cup{\bar{B}}$。在(1 −5)式中，分别用$\bar{A}$和$\bar{B}$取代$A$ 和$B$，得到：  

$$
\overline{{\bar{A}\cup\bar{B}}}=\bar{\bar{A}}\cap\bar{\bar{B}}=A\cap B
$$

故有： ̅̅̅̅̅̅̅ = 𝐴∩𝐵 ，即有： ${\bar{A}}\cup{\bar{B}}={\overline{{A\cap B}}}$ 。□  

【例题$1.231\ E=\{a,b,c,d,e,f\},A=\{a,c,d,f\},B=\{b,d,f\}$。求集合$\mathit{A-B}_{\mathit{\Phi}}\;\mathit{B-A}_{\mathit{\Phi}},\;\mathit{\bar{A}}_{\mathit{\varphi}}$  

【解】$A{\mathrm{-}}B=\{a,c\}$、$B–A{=}\{b\}$、$\bar{A}=\{b,e\}$。□  

【例题1.24】化简：$((A\cup(B-C))\cap A)\cup(B-(B-A))\,.$  

【分析】根据集合运算性质化简。  

$((A\cup(B-C))\cap A)\cup(B-(B-A)){\overset{=}{A\cup(B-(B-A))=A\cup(A\cap B)=A}}.$  

#### 三、环和运算与环积运算  

对于任意给定的两个集合，有时需要对这两个集合进行比较并找出其中差异，由此得到如下集合对称差运算或者环和运算的概念：  

【定义1.13】对于任意给定的两个集合$A$ 和$B$，集合$A\oplus B=(A-B)\cup(B-A)$称为对称差集合或者环和集合，$A\oplus B$亦称为集合$A$与$B$ 对称差运算或环和运算。  

![](images/cda5b5845563c39065ac8e7bd4a9676d4d5a525cdb5bfa2dca42f0b84bd76fca.jpg)  
图1-4  环合运算  

![](images/faf26ad66d0551eb722a3198ad99afacced0684c25c72d96e83ff1cc3d2239ec.jpg)  
 图1-5 环积运算  

如图1-4 所示，对称差集合其实就是由两个集合中彼此不同的部分构成的集合，对称差运算则是对称差集合过程，即找出两个集合中彼此不同的部分，然后将其组成一个集合。不难证明对称差运算满足如下基本运算性质：  

(1) 交换律：对于任意两个集合$A$ 和$B$，有：$A\oplus B=B\oplus A$  

(2) 结合律：对于任意三个集合$A$、$B$ 和$C$，有：$(A\oplus B)\oplus C=A\oplus(B\oplus C)$  

(3) ∩对⊕分配律：对于任意三个集合$A,B$ 和$C$，有$A\cap(B\oplus C)=(A\cap B)\oplus(A\cap C)$ (4) 同一律：对于任意给定的集合$A$，有：$A\oplus\varnothing=A$  

(5) 零  律：对于任意给定的集合$A$，有：$A\oplus A=\emptyset$；$A\oplus\bar{A}=U$  

由读者自行给出上述运算性质的证明。  

【例题1.25】设集合$A{=}\{1,2,4,6,8,9\}$和$B{=}\{1,3,4,6,10\}$，集合。【分析】$A$ 中与$B$ 不同的元素结合为{2, 8, 9}，$B$ 中与$A$ 不同的元素结合为$\lbrace3,\,10\rbrace$，将两个不同的元素集合求并即可。  

【解$\mid A\oplus B=\{2,3,8,9,10\}$。□  

【例题1.26】证明当$A\oplus B=C$时，$A\oplus C=B$  

【证明】因为$A\oplus B=C$，所以$C=(A\cup B)-(A\cap B)$。故有：                         𝐴⊕𝐶= 𝐴⊕[(𝐴∪𝐵) −(𝐴∩𝐵)] $\begin{array}{r l}&{A\oplus C=A\oplus[(A\cup B)-(A\cap B)]}\\ &{=\{A\cup[(A\cup B)-(A\cap B)]\}-\{A\cap[(A\cup B)-(A\cap B)]\}}\end{array}$  

由于：  

$$
\begin{array}{r l}&{A\cup[(A\cup B)-(A\cap B)]=A\cup[(A\cup B)\cap\overline{{A\cap B}}]}\\ &{\qquad\qquad=A\cup[(A\cup B)\cap(\bar{A}\cup\bar{B})]\quad(\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to}\not\|\chi_{\overline{{A}}}\not\to)}\\ &{\qquad\qquad=(A\cup A\cup B)\cap(A\cup\bar{A}\cup\bar{B})\ \ (\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to}\stackrel{\mathrm{def}}{\not\to})}\\ &{\qquad\qquad\qquad=(A\cup B)\cap(E\cup\bar{B})=(A\cup B)\cap E=A\cup B}\\ &{A\cap[(A\cup B)-(A\cap B)]=A\cap\{(A\cup B)\cap\overline{{A\cap B}}\}}\\ &{\qquad\qquad\qquad=A\cap(A\cup B)\cap[\overline{{A\cap B}}]=A\cap\overline{{A\cap B}}}\end{array}
$$

故有：  

$$
\begin{array}{c}{{A\oplus C=(A\cup B)-\{A\cap[\overline{{A\cap B}}]\}=(A\cup B)\cap\left\{\,\,\overline{{A\cap[\overline{{A\cap B}}]}}\,\,\right\}\,\,(\not\perp_{\overline{{\mathbb{C}}}}^{T})}}\\ {{=(A\cup B)\cap\left\{\bar{A}\cup\overline{{\overline{{A\cap B}}}}\right\}=(A\cup B)\cap[\bar{A}\cup(A\cap B)]}}\\ {{=(A\cup B)\cap[(\bar{A}\cup A)\cap(\overline{{A\cup B}})]=(A\cup B)\cap[E\cap(\overline{{A\cup B}})]}}\end{array}
$$

$$
=(A\cup B)\cap({\overline{{A\cup B}}})=B\cap(A\cup{\bar{A}})=B
$$

有时需要对两个集合求环积运算，如图1-5 所示，所谓环积运算，其实就是环和运算的补集，具体定义如下：。  

【定义1.14】对于任意给定的两个集合$A$ 和$B$，集合$\cdot A\odot B={\overline{{A\oplus B}}}=(A\cap B)\cup({\bar{A}}\cap B).$$\bar{B}^{\cdot}$̅)称为环积集合，符号“⊙”称为环积运算。  

不难证明环积运算满足如下基本运算性质：  

(1) 交换律：对于任意两个集合$A$ 和$B$，有：$A\odot B=B\odot A$  

(2) 结合律：对于任意三个集合$A$、$B$ 和$C$，有：$(A\odot B)\odot C=A\odot(B\odot C)$  

(3) ∪对$\odot$分配律：对于任意三个集合$A,B$ 和$C$，有$A\cup(B\odot C)=(A\cup B)\odot(A\cup C)$  

(4) 同一律：对于任意给定的集合$A$，有：$A\odot\varnothing={\bar{A}}$  

(5) 零  律：对于任意给定的集合$A$，有：$A\odot A=U$；$A\odot\bar{A}=\emptyset$  

上述运算性质的证明由读者自行给出。  

【例题1.27】设全集$\mathrm{U}{=}\{1,2,3,4,5,6,7,8,9\}$，集合$A{=}\{1,2,4,6,8,9\}$，集合$B{=}\{1,3,$, $4,6\}$，求集合$\cdot A\odot B$。  

【分析】求集合A 和B 的环积运算，可以先根据环和运算定义求出A 和B 的环和集合$A\oplus B$，再对$\overset{\cdot}{A}\oplus\overset{\cdot}{B}$求补集即可。  

【解】因为𝐴⊕$B=\{2,3,8,9\}$，所以$A\odot B=\overline{{A\oplus B}}=\{1,4,5,6,7\}$。□  

### 1.1.4 集合的二进制表示  

集合在计算机中有着广泛的应用，一般都是将集合中的元素顺序的存放在计算机中，但这种存储方式会使得在计算集合的交、并、差等运算时需要对元素进行搜索，随之而来的是不必要的时间开销。为了避免这个问题，现在介绍一种比较有效的存储方法。  

假设全集$U$是有限集合，$A{=}\{a_{1},a_{2},{\ldots},a_{n}\}$是$U$的一个子集且对应一个长度为$n$的比特串$B{=}b_{1}b_{2}{...}b_{n}$。串$B$ 的每一位数字按如下方式取值：如果$a_{i}{\in}A$，则$b_{i}{=}1$，否则$b_{i}{=}0$。此时对于全集$U$ 的任意两个子集合，它们之间的交、并运算就可以按二进制数的布尔乘、布尔加运算进行，即：两个子集交的编码是两个子集编码对应位置的布尔乘；两个子集并的编码是两个子集编码对应位置的布尔加。布尔乘、布尔加的具体运算规则如下：  

$\begin{array}{r l r}{0+0=0}&{{}}&{0+1=1+0=1+1=1}\end{array}$ $\begin{array}{r l r}{1\times1=1}&{{}}&{0\times1=1\times0=0\times0=0}\end{array}$  

下面进一步考察集合补运算的二进制编码表示.假设集合$A{=}\{a_{1},\,a_{2},\,...,a_{n}\}$对应长度为$n$的比特串为$B{=}b_{1}b_{2}{\ldots}.b_{n}$，则集合$A$ 的补集的二进制编码只需要简单地把$B{=}b_{1}b_{2}{\ldots}b_{n}$ 中每个1换成0，每个0 换成1 即可。  

【例题1.28】设集合$\scriptstyle U=\{1,\,2,\,3,\,4,\,5,\,6,\,7,\,8,\,9,\,10\}$，解答下列问题：（1）求$A{=}\{1,3,5,$, 7, 9}，$B{=}\{2,4,6,8,10\}$，$\scriptstyle{C=\{1,2,3,4,5\}}$对应的二进制位串；（2）计算$A\cup B$，$A\cup C$。  

【分析】根据$U$ 的定义以及比特串的定义可求对应的比特串；集合的并与交转化为对应比特串的并与交，然后再还原为集合即可。  

【解】（1）$A$ 对应的比特串为$A_{1}{=}1010101010$，$B$ 对应的比特串为$B_{1}{=}0101010101$，C对应的比特串为$C_{1}{=}1111100000$。  

（2）$A_{1}\cup B_{1}{=}10101010\cup0101010101{=}11111111111,$，所以$A\cup$  

$B{=}\{1,\!2,\!3,\!4,\!5,\!6,\!7,\!8,\!9,\!10\}$；同理，因为$A_{1}\cup C_{1}{=}1010101010\cup1111100000{=}1010100000$，所以$A\cup C{=}\{1,3,5\}$ 。□  

【例题1.29】设集合{1, 3, 5}和{3, 6, 9}是集合$\{1,2,3,4,5,6,7,8,9,10\}$的子集。利用子集的编码表示求{1, 3, 5}和{3, 6, 9}的交集、并集以及各自补集的二进制编码。  

【分析】先计算$\{1,3,5\}$和{3, 6, 9}的二进制编码，再按二进制编码交并补定义求解。  

【解】因为$\{1,3,5\}{=}\{1010100000\}$，$\scriptstyle\{3,6,9\}=\{0010010010\}\,,$， $\{1,3,5\}\cap\{3,6,9\}{=}\{101010000\}\cap\{0010010010\}{=}00100000000,$  

同理$\{1,3,5\}\cup\{3,6,9\}{=}\{1010100000\}$并$\{0010010010\}{=}1010110010,$$\{1,3,5\}$的补集为：0101011111；{3, 6, 9}的补集为：1101101101。

集合在数据库中具有着广泛应用，基于二进制编码的集合运算可以大大提高记录增、删、改的计算效率。数据库中数据在计算机系统中一般以二维表形式存在，可将其中每一列分别看作是一个集合，列标题就是该集合的名称，每一行是一个数据序列，称为记录。又可将整个二维表看成是记录的集合。下面考察一个具体例子：  

【例题1.30】在表1-1 所示的二维表中，全集为$\scriptstyle{U=\left\{\begin{array}{l l}\end{array}\right.}$刘涛，李亮，王桐，杜飞，陈兰，曹秀秀，赵晓松，吴秀波，周军，张海生，王云峰}, 定义如下关于$U$的子集：  

$$
A=\{x|x {\in} U 且x的年龄 \ge 40 \}=\{ 刘涛，吴秀波 \}
$$

$$
B=\{x|x {\in} U 且40\gt x的年龄 \ge 30 \}=\{ 王桐，曹秀秀，赵晓松，张海生，王云峰 \}
$$

$$
C=\{x|x {\in} U 且x的年龄 \lt 30 \}=\{ 李亮，杜飞，陈兰，周军 \}
$$

$$
D=\{x|x {\in} U 且x的文化程度为本科 \}=\{ 李亮，陈兰，赵晓松，吴秀波 \}
$$

$$
F=\{x|x {\in} U 且x的文化程度不及本科 \}=\{ 王桐，曹秀秀，张海生 \}
$$

$$
G=\{x|x {\in} U 且x的表现一般 \}=\{ 刘涛，王桐，曹秀秀，周军 \}
$$

$$
H=\{x|x {\in} U 且x的表现良好 \}=\{ 陈兰，赵晓松，张海生，王云峰 \}
$$

$$
I=\{x|x {\in} U 且x的表现优秀 \}=\{ 李亮，杜飞，吴秀波 \}
$$

求年龄不足40 岁、工作表现良好或优秀且学历不低于本科的人组成的集合。  

表1-1 二维表 
![](images/ed20520091902c2b692c4144896337caee56d7b09ec379326531846771b24a4c.jpg)  

【解】设所求集合为$X$，根据集合的基本运算可知：  

$$
X=\bar{A}\cap\bar{F}\cap(H\cup I)\ \ =\ \ \bar{A}\cap\bar{F}\cap\bar{G}
$$

若将含有$N$ 个元素的集合排成序列，则每个元素占据一位，全集的任一子集便可以与一个0 和1 组成的二进制串对应。即：若全集中第$i$个元素属于某子集，则子集所对应的二进制的左起第$i$ 位为1，否则为0。据此得到各个子集合的二进制编码如下：  

$$
C(E)=1\  1\  1\  1\  1\  1\  1\  1\  1\  1\  1 \newline
C(A)=1\  0\  0\  0\  0\  0\  0\  1\  0\  0\  0 \newline
C(B)=0\  0\  1\  0\  0\  1\  1\  0\  0\  1\  1 \newline
C(C)=0\  1\  0\  1\  1\  0\  0\  0\  1\  0\  0 \newline
C(D)=0\  1\  0\  0\  1\  0\  1\  1\  0\  0\  0 \newline
C(F)=0\  0\  1\  0\  0\  1\  0\  0\  0\  1\  0 \newline
C(G)=1\  0\  1\  0\  0\  1\  0\  0\  1\  0\  0 \newline
C(H)=0\  0\  0\  0\  1\  0\  1\  0\  0\  1\  1 \newline
C(I)=0\  1\  0\  1\  0\  0\  0\  1\  0\  0\  0 \newline
$$

根据题意，所求集合为$\begin{array}{r}{\begin{array}{r l}{X}&{=\bar{A}\cap\bar{F}\cap\bar{G}}\end{array}}\end{array}$  

$$
\begin{array}{c c}{{}}&{{0\;\;1\;\;1\;\;1\;\;1\;\;1\;\;0\;\;1\;\;1\;\;\bar{A}}}\\ {{\cap}}&{{1\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;\bar{F}}}\\ {{}}&{{0\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;0\;\;1\;\;0\;\;1\;\;}}\\ {{\cap}}&{{0\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;1\;\;\bar{G}}}\\ {{}}&{{0\;\;1\;\;0\;\;1\;\;1\;\;0\;\;1\;\;0\;\;0\;\;0\;\;1}}\end{array}
$$

将二进制码$\mathrm{~{~0~\mathrm{~1~0~1~1~0~1~0~0~0~1~}~}~}$ 与全集对照可得： $\begin{array}{r}{X=\left\{\begin{array}{r l}\end{array}\right.}\end{array}$李亮，杜飞，陈兰，赵晓松，王云峰}。

## §1.2 可数集与不可数集  

我们知道，基数是度量集合规模大小的指标，当集合基数为有限数时，该集合为有限集，其基数就是集合中元素的个数。当集合基数为无穷大时，该集合为无限集。对于无限集，如何使用基数度量其大小规模？例如，对于自然数集与有理数集，如何比较这两个无限集的基数，对于有理数集和无理数集，又如何比较两者的基数，等等。无穷大到底有多大？是否可以对无穷大的规模进行差异性分析，将其划分为不同层次或等级？本节将通过探讨与此相关的概念和问题，使得读者能够对无限集有着比较清晰的认识和本质性把握。  

### 1.2.1 无限集的度量问题  

现考察集合规模的度量问题。直观上看，集合中元素数目越多集合的规模就越大。关键是如何界定集合中元素数目的多少？对于有限集，这个不成问题，可通过对集合中元素进行计数的方法解决。然而，对于无限集来说，问题就没这么简单了。例如对于下列问题：  

正整数集合$\{1,2,3,\ \cdots\ \}$和正整数平方集合$\{1^{2},2^{2},3^{2},\ \cdots\ \}$，哪个集合的元素更多？  

显然，正整数平方集合是正整数集合的一个真子集，因此正整数集合似乎应该更大一些。但这两个集合元素之间又显然存在一一对应关系。从传统有限集合计数的观点看，两者的数目又必定是相等的。这似乎存在一种矛盾。事实上，早在1638 年，意大利物理学家伽利略也发现了类似于这样的问题，但是他无法解决并感到困惑，便提出了所谓的伽利略悖论。  

其实，无限集所具有的无限延展特性使其与有限集合有着本质性差异，对有限集合进行精确计数的方式不再适用于对无限集合的度量。因此，必须采用同时适合有限集与无限集的新方法来实现对集合规模的度量。由此得到如下关于集合等势的概念：  

【定义1.15】设$A$ 和$B$ 是任意两个集合，如果$A$ 和$B$ 之间存在一一对应的关系：  

$$
\psi{\colon}A\to B
$$

则称$\pmb{A}$ 与$\pmb{B}$ 等势，记为：$A^{\circ}B$  

显然，若 $\scriptstyle A=B$ ，则 $A^{\scriptscriptstyle\frown}B$ ，反之不然。  

【例题1.31】设$A=\{2,4,6,8,\cdots,2n,\cdots\}$，$B=\{1,3,5,\cdots,2n-1,\cdots\}$，试证明：$A\,^{\scriptscriptstyle\frown}\!B$  

【证明】存在$f(x)=x-1$，使得$A$ 和$B$ 之间一一对应，故$A\,^{\scriptscriptstyle{\frown}}\!B$。□  

【例题1.32】设$R$ 为实数集，$S=(0,1)=\{x|x\in R,0<x<1\}$，试证明$S\sim\mathtt{R}$  

【证明】构造如下函数：  

$$
f\colon R\rightarrow S,f(x)=\frac{1}{\pi}a r c t a n(x)+\frac{1}{2}(-\infty<x<\infty)
$$

显然$f$是从$R$到𝑆上的一个一一映射，故有$S\frown R$。□  

等势刻画了两个集合在大小规模上的等价关系。对于有限合来说，两个集合等势，当且仅当这两个集合具有相同的元素个数，有限集不可能与其真子集等势。但是，从上例可以看出，无限集则可与其真子集等势。因此，两个无限集合等势并不是说这两个集合所含元素的个数相等。事实上，无限集所具有的无限延展特性已经决定了它已无法像有限集合那样精确计数。所谓两个无限集合等势，其实就是说这两个集合的大小规模处在同一个量级。  

与数的相等关系一样，根据等势的定义，不难证明等势关系满足等价的三条基本性质。因此，集合等势关系可以看成是对有限集合所含元素数目相等关系的一种自然推广。  

【定理1.5】集合的等势满足如下三条基本性质：（1）自反性：对于任意集合$A$，有$A{\sim}A$；（2）对称性：对于任意两个集合$A$ 和$B$，如果$A{\sim}B$，则有$B{\sim}A$（3）传递性：对于任意三个集合$A$、$B$ 和$C$，如果$A{\sim}B$ 且$B{\sim}C$，则有$A{\sim}C$  

【证明】假设$S$ 为任一集簇，则有： （1）对任意$A\in S$，存在双映射函数$f(x)=x$，满足$A\frown A$，因此$\backsim$具有自反性。  

（2）对任意的$A$，$B\in S$，若$A\frown B$，则有双映射函数$f\!:\!A\rightarrow B$，$f$的逆函数$f^{-1}{\colon}B\to A$，也是双映射函数，故有$B\smile A$，$\backsim$具有对称性。 （3）对任意$A,B,C\in S$，若$A\frown B$且$B\backsim C$，则必有双映射函数𝑓:$A\rightarrow B$，和$g$：$B\rightarrow C$，于是$g\circ f\colon A\to C$也是双映射函数，$A\sim C$，∽具有传递性。□  

上述等势概念表达的仅仅是集合在数量规模上次序比较关系，要真正实现对无限集规模的度量，还需确定一个基本的规模度量单位作为度量标准或基准。显然，任何无限集都可生成一个子集与自然数集等势，因此可将自然数集合作为无限集规模度量的一种基准。下面着重介绍自然数的基本概念与性质。  

### 1.2.2 自然数的集合定义  

对于任意一个无限集合$A$，从中任取一个元素做为第一个元素，记为$\vert x_{1}$；然后再从𝐴−$\{x_{1}\}$中任取一个元素作为第二个元素，记为$x_{2}$；如此下去，…。由于$A$ 是一个无限集，故此这个过程可以无限进行下去，从而得到$A$ 的一个子集合$\{x_{1},x_{2},\ldots,x_{n},\ldots\}$。  

由以上分析可知，对于任意一个无限集合，都可找到它的一个子集与自然数集等势。因此，自然数集应当是刻画或度量无限集的一种最小单位。要解决无限集的度量问题，首先必须搞清楚什么是自然数和自然数集合。  

#### 一、皮亚诺公理  

我们知道，自然数是对有限集合中所含元素个数进行度量和比较的一种工具。如果将所含元素个数彼此相等的有限集合抽象成一个抽象集合，或者说从所含元素个数彼此相等的有限集合中选出一个集合作为代表构成抽象集合，那么所有这些抽象集合就可以按其规模的大小排成一个有序序列。因此，从本质上说自然数就是表示这些抽象集合及其有序序列的一种数学符号。例如，可以将自然数3 定义为能够表示所有3 元集合的一种抽象集合、将自然数5 定义为能够表示所有5 元集合的一种抽象集合，等等。自然数的上述本质特征并不难以理解，问题是如何找到一种恰当的方法来定义这种抽象集合。  

1891 年，著名数学家皮亚诺以0 和后继数这两个不定义概念外加5 条公理表述了自然数的上述本质特征，创立了如下关于自然数的皮亚诺公理系统，为自然数的抽象集合定义及相关的算术运算系统构造提供了一个标准.皮亚诺5 公理的具体内容如下：  

公理1：至少存在一个体是自然数，它被记为0； 公理2：如果$n$ 是自然数，那么$n$ 必定含有一个直接后继，记为$|n^{+}$  

公理3：0 不是任何自然数的直接后继； 公理4：如果自然数$m,n$ 的直接后继$m^{+}$, $n^{+}$相同，那么$m{=}n$  

公理5：不满足上述条件的个体均非自然数。  

可以证明，自然数的所有运算性质都可从上述5 条公理出发推演获得。根据上述5 条公理，可以构建一套比较完备的自然数算术运算系统。定义自然数其实就是要找出一系列具体个体，让它们满足这5 条公理，其中关键要点就是要给出0 和后继数的具体定义。  

#### 二、自然数的归纳定义  

1923 年，著名数学家冯·诺依曼用集合给定义了0 和后继数的概念，并由此通过归纳的方式实现自然数和自然数集合的完美定义。  

【定义1.16】对于任意一个给定的集合$A$，称集合$\cdot A^{+}=A\cup\{A\}$为$A$ 的直接后继。【例题1.33】求集合$\scriptstyle\left\{a,b\right\}$、∅、{∅}以及$\{\varnothing,\{\varnothing\}\}$的直接后继。【分析】直接根据集合的直接后继的定义求解。  

【解】  $\{a,b\}^{+}=\{a,b,\{a,b\}\}$$\varnothing^{+}=\varnothing\cup\{\varnothing\}=\{\varnothing\}$       $\{\varnothing\}^{+}=\{\varnothing\}\cup\left\{\{\varnothing\}\right\}=\{\varnothing,\{\varnothing\}\}$       $\{\emptyset,\{\emptyset\}\}^{+}=\{\emptyset,\{\emptyset\},\{\emptyset,\{\emptyset\}\}\}\quad\sqcup$  

【定义1.17】对于任意给定的集合$N$，若它满足如下两个条件，则称其为自然数集合：  

（1）基础条款：空集属于集合$N$，即有$\emptyset\in N$，并将$\emptyset$定义为自然数0； （2）归纳条款：对于任意一个集合$A$，若有$A\in N$，则必有$A^{+}=A\cup\{A\}\in N.$  

上述自然数集合的归纳定义是一种构造性定义方法，通过基础条款和归纳条款构造出自然数集的全部元素 . 基础条款决定了自然数集合为非空集合并确定了集合的初始元素，即自 然数0；归纳条款则以初始元素为出发点通过构造后继元素的方式不断产生新的元素。  

具体地说，按以上定义，自然数集合由如下形式的元素构成：  

$$
\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\},\ \{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\},\ \{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\}\}\},\ \cdots
$$

根据等势的定义，$\{\emptyset\}$与所有含有1 个元素的集合等势，可以看成是这些集合的代表，令其为自然数1；同理有：$\{\varnothing,\;\;\{\varnothing\}\}$与所有含有2 个元素的集合等势，可以看成是这些集合的代表，令其为自然数2；$\{\varnothing,\;\;\{\varnothing\}$，$\{\varnothing,\;\;\{\varnothing\}\}$与所有含有3 个元素的集合等势，可以看成是这些集合的代表，令其为自然数3；$\{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\}\}$与所有含有4 个元素的集合等势，可以看成是这些集合的代表，令其为自然数4；如此下去，便可得到所有自然数：0, 1, 2, 3, 4，…，并显然成立如下递推关系：  

$$
0\!\!=\!\!\emptyset;\;\;1\!\!=\!\!\{0\};\;\;2\!\!=\!\!\{0\,,\;\;1\};\;\;3\!\!=\!\!\{0\,,\;\;1\,,\;\;2\};\;\;4\!\!=\!\!\{0\,,\;\;1\,,\;\;2\,,\;\,3\};\;\;\cdots
$$

一般地，有：  

$$
n=\{0\,,\ 1\,,\ 2\,,\ \dots\ \,,\ n-1\}
$$

下述定理表明上述自然数定义满足皮亚诺公理系统的要求：【定理1.6】自然数的集合定义满足皮亚诺提出的5 条公理。  

【证明】现在我们来证明自然数的集合定义满足皮亚诺提出的5 条公理。事实上只需证明它们满足公理1-公理4。  

显然满足公理1，至少有$\varnothing$作为自然数0 在$n$ 中。  

为了证明公理2，设$n$ 为一自然数。首先，$n$有后继$n^{+}=n\cup\{n\}$。其次可证$n^{+}$是唯一的，因为$|n\cup\{n\}=\{0,1,2,\cdots,n\}$是唯一确定的集合。  

为了证明公理3，反设$\varnothing$是自然数$n$ 的后继。$n^{+}=n\cup\{n\}$，从而$\emptyset=n\cup\{n\}$，但这是不可能的，因为右边至少有元素$n$。因此$\varnothing$不是任何自然数的后继。  

为了证明公理4，反设有自然数$m,n,m^{+}=n^{+}$，但$m\neq n$  

由于$m^{+}=n^{+}$，$m\cup\{m\}=n\cup\{n\}.$。因$m\neq n$故总有元素$x\in m$，但$x\notin n$；或$x\in n$但$x\notin$$m$，不妨设$x\in m$，但$x\notin n$。于是有$\cdot x\in m\cup\{m\}=n\cup\{n\}$，进而有$x\in n\cup\{n\}$。  

由于$\cdot x\notin n$故$x\in\{n\}$，即$x=n$。这样便有$\cdot_{x}=n\in m$。由于$\cdot n\in m$，可知$|m\neq n$，$m\not\in n$。这与$m\cup\{m\}=n\cup\{n\}$矛盾! 故有：$m{=}n$，公理4 得证。□  

有了自然数，便可以定义自然数集合上的各种运算、函数和特殊自然数，这里就不再一一赘述，下面仅给出自然数子集上最大数和最小数的相关定义：  

【定义1.18】如果对$x$ 作不少于一次的后继运算后得到$y$，那么称$x<y$。如果$x$在自然数子集$K$ 中，$K$ 中没有其它数小于$x$，那么称$x$ 是子集$K$ 中的最小数，如果$x$ 在自然数子集$K$ 中，$x$ 不小于$K$中其它数，那么称$x$ 是子集$K$ 中的最大数。  

根据上述定义，在由单个自然数$a$ 组成自然数子集$\{a\}$中，$a$ 既是最小数也是最大数。下面定理给出了自然数子集中最小值和最大值的存在性：  

【定理1.7】自然数集合具有如下三个基本性质：  

（1）0 是自然数集合的最小数。  

（2）自然数集合的所有非空子集具有最小数（最小数原理），从而正整数集合的所有非空子集均有最小数。  

（3）自然数集合的所有非空有限子集均有最大数，从而正整数集合的所有非空有限子集均有最大数。  

【证明】皮亚诺公理3 蕴含（1）  

为了证明（2），我们从0 开始逐个检查自然数，第一个出现在该子集中的自然数便是其最小数.（3）的证明留给读者思考。□  

#### 三、自然数的归纳证明  

使用归纳法不仅可以实现对自然数集合的一种构造性定义，而且还提供了关于自然数命题的一种有效证明方法，即自然数的归纳证明法。这种证明法两种具体形式，分别基于数学归纳法第一原理和数学归纳法第二原理。  

【数学归纳法第一原理】假设$P(n)$是一个关于自然数$n$ 的命题，若有：  

（1）基础步骤：$P(0)$为真；  

（2）归纳步骤：对于任意正整数$k$，如果$P(k)$为真，则$P(k{+}1)$为真。则$P(n)$对一切自然数$n$ 均为真。  

【证明】假设已经对$P(n)$完成了基础步骤和归纳步骤的证明，但是存在某个自然数$m_{0}$使得 $P(m_{0})$为假。令集合$S$ 为所有使得$P(n)$为假的自然数组成的集合，即：  

$S=\{m|m为自然数且P(m)为假\} $

由于$\cdot m_{0}\in S$，故𝑆为非空集合，根据定理1.7 中的最小数原理知，$S$中必然存在最小的自然数$s$。由于$P(0)$为真，故$s\neq0$。因此，$s-1$为自然数且不在集合𝑆中，即$P(s-1)$为真。根据归纳假设有$P(s)$为真，这与$s\in S$矛盾！故$P(n)$对一切自然数$n$ 均为真。□  

使用数学归纳法第一原理完成证明的关键在于：首先需要假定对任意一个正整数$k$，$P(\mathrm{k})$为真，然后在此假定下证明$P(k{+}1)$必为真。如果用数学归纳法完成了上述原理中的两  

个步骤，那么就证明了对所有自然数而言$P(n)$为真。  

【例题1.34】证明：若$n$ 为正整数，则$1{+}2{+}\dots{+}n{=}\,n(n{+}1)/2$  

【分析】可用数学归纳法证明。  

【证明】设命题$P(n)$为：前$n$ 个正整数之和是$n(n{+}1)/2$。用数学归纳法证明如下：基础步骤：因为$1{=}1(1{+}1)/2$，所以$P(1)$为真。 归纳步骤：归纳假设对任意一个正整数$k$，$P(k).$成立，即：  

$$
1+2+\cdots+k=\ k(k+1)/2
$$

1-8）  

要证明在此假定下，必有$P(k{+}1)$为真，即：  

$$
1+2+\cdots+k+(k+1)\,\,\,=\,\,\,(k+1)[(k+1)+1]/2
$$

式(1.2.2)两边都加上$_{k+1}$ 可得：  

$$
1+2+\cdots+k+(k+1)={\frac{k(k+1)}{2}}+(k+1)
$$

$$
=\!{\frac{k(k+1)+2(k+1)}{2}}\!=\!{\frac{(k+1)(k+2)}{2}}
$$

故有$P(k)$为真的假设下，$P(k{+}1)$为真，完成归纳步骤。综上两步，根据数学归纳法第一原理知，命题得证！□ 【例题1.35】证明：当$n$ 为不小于3 的自然数时，成立：$n^{n+1}\geq(n+1)^{n}$。  

【分析】在$n{=}3$ 时易证，但归纳推理比较困难，因为同一变元$n$ 分别处于底数和指数的位置，归纳假设$k^{k+1}\geq(k+1)^{k}$难以利用。为此将底数中的$n$ 与指数中的$n$ 拆裂开，即引入变元$u$，去证明更为一般的结论：$u\geq n\geq3$时有$n u^{n}\geq(u+1)^{n}$。  

【证明】对$n$ 归纳，视$u$ 为参数。基础步骤：$n=3$ 时，$u\ge3$，而：  

$$
\begin{array}{l}{3u^{3}=u^{3}+2\mathrm{u}u^{2}\geq u^{3}+6u^{2}}\\ {\mathrm{~}\geq u^{3}+3u^{2}+3u+1=(u+1)^{3}}\end{array}
$$

即$n=3$ 时，$n u^{n}\geq(u+1)^{n}$成立。  

归纳步骤：设$n=k$ 时，$n u^{n}\geq(u+1)^{n}$对一切$u\ge3$成立，即$k u^{k}\geq(u+1)^{k}$，那么当$n=k{+}1$ 时，有：  

$$
\begin{array}{r l}&{n u^{n}=(k+1)u^{k+1}=(k+1)u u^{k}}\\ &{\qquad\qquad=(k u+u)u^{k}\geq(u+1)k u^{k}}\\ &{\qquad\qquad\geq(u+1)(u+1)^{k}=(u+1)^{k+1}}\end{array}
$$

因此当$n=k{+}1$ 时，$n u^{n}\geq(u+1)^{n}$仍然成立。由归纳法知$n u^{n}\geq(u+1)^{n}$得证。令其中$u=n$，即得$\cdot n^{n+1}\geq(n+1)^{n}$。命题得证！

【数学归纳法第二原理】假设$P(n)$是一个关于自然数$n$ 的命题，若有：  

1）基础步骤：$P(1)$为真；  

（ 2 ）归纳步骤：对于任意正整数 $k$ ，若 $P(1),P(2),\dots,P(k)$ 均为真，则 $P(k{+}1)$ 为真。 则$P(n)$对一切自然数$n$ 均为真。  

【证明】与数学归纳法第一原理的证明类似，读者可自行给出证明。 利用数学归纳法第二原理证明的方法一般叫作强归纳法。用强归纳法证明时，需注意  

归纳假设包含了$k$ 个命题$P(1),P(2),\ldots,P(k)\,\cdot$。【例题1.36】证明：若$n$ 是大于1 的整数，则$n$ 可以写成素数之积。  

【证明】设命题$P(n)$为：$n$ 可以写成素数之积.下面用强归纳法证明： 基础步骤：$P(2)$为真，因为2 可以写成一个素数之积，即它本身。 归纳步骤：假定对所有满足$j{\leqslant}k$的正整数$j$ 来说$P(j)$为真，往证在这个假定下$P(k{+}1)$为真。这里有两种可能，即$_{k+1}$ 是素数或者$_{k+1}$ 是合数。 若$_{k+1}$ 是素数，易知$P(k{+}1)$为真。 若$_{k+1}$ 是合数，则可写成$2{\leqslant}a{\leqslant}b{<}k+1$ 的两个整数$a$ 和$b$ 之积。根据归纳假设，$a$和$b$ 都可写成素数之积。 因此，若$_{k+1}$ 是合数，则它可写成素数之积，即为$a$ 的因子分解中的那些素数与$b$ 的因子分解中的那些素数之积。 综上得证：若$n$ 是大于1 的整数，则$n$ 可以写成素数之积。□ 【例题1.37】有数目相等的两堆棋子，两人轮流从任一堆里取几颗棋子，但不能不取也不能同时在两堆里取。规定凡取得最后一颗者胜。求证后取者必胜。 【证明】设每堆棋子数目为$n$，甲为先取者，乙为后取者。 基础步骤：当$n{=}1$ 时，甲须在某堆中取一颗，此时乙取另一堆的一颗，乙胜。 归纳步骤：假设$n{\leqslant}k$ 时，后取者胜。也就是说每次开始取时，两堆各有$n$ 个棋子，并且$n{\leqslant}k$，后取者乙总为获胜。现要证$\scriptstyle n=k+1$ 时也是后取者胜。 现设取棋子之前两堆各有$_{k+1}$ 颗棋子，并设第一轮甲在某堆先取$r$颗，$\scriptstyle0\leqslant r\leqslant k$，则该堆还剩下$_{k+1-r}$ 颗棋子。乙的对策是在另一堆中也取$r$颗，这时两堆各有$_{k+1-r}$颗棋子。 下面分两种情况讨论：  （1） 若$r<\!k\!+\!1$，经过两人各取一次之后，两堆都只有$_{k+1-r}$ 颗，$k{+}1{-}r{<}k$，现在又是甲先取，根据归纳假设乙总是能胜。 （2） 若$r=k{+}1$，即甲取走了某堆中所有棋子，显然乙可以通过取走所有另一堆的所有棋子获胜。 综上得证。□  

### 1.2.3 无限集的基数比较  

从前面的讨论不难看出，对于任意一个给定的自然数$n$，该自然数其实就是对所有含有$n$ 个元素集合的一种抽象。例如，自然数3 就是对所有含有3 个元素集合的抽象，或者说自然数3 就是将所有含有3 个元素的集合房子一起组成集族。因此，自然数可以根据集合中所含元素个数为标准对所有有限集进行分类，从而实现对有限集基数的度量和比较。  

对无限集基数的度量和比较则没有这么简单。如前所述，任意一个无限集合，都可以找到它的一个子集与自然数集等势。因此，自然数集应当是规模最小的一种无限集合，可用自然数集作为无限集基数的最小度量单位或者度量基准。据此得到如下定义：  

【定义1.19】凡是与自然数集$N$ 等势的集合都称为可数集合，该类集合的基数记为$\aleph_{0}$，读作阿列夫零。  

【例题1.38】证明下列集合都是可数集合： （1）$O^{+}=\{x|x\in N,x$是正奇数}；（2）$P=\left\{x\middle|x\in N,x\right.$是素数}；（3）有理数集$\mathcal{Q}$。  

【证明】（1）在$O^{+}$与$N$ 之间建立如下一一对应关系：  

因此，$O^{+}$是可数集合。  

（2）在$P$ 与$N$之间建立如下一一对应关系  

$$
\begin{array}{c c c c c c c}{{N}}&{{\mathrm{~0~}}}&{{1}}&{{2}}&{{3}}&{{4}}&{{\circ\circ\circ}}\\ {{}}&{{}}&{{}}&{{}}&{{}}&{{}}&{{}}\\ {{f}}&{{\downarrow}}&{{\downarrow}}&{{\downarrow}}&{{\downarrow}}&{{\downarrow}}&{{\circ\circ\circ}}\\ {{}}&{{}}&{{}}&{{}}&{{}}&{{}}&{{}}&{{}}\\ {{P}}&{{\mathrm{~2~}}}&{{3}}&{{5}}&{{7}}&{{11}}&{{\circ\circ\circ}}\end{array}
$$

因此，$P$ 是可数集合。  

（3）因为$\mathcal{Q}$ 中的任何元素都可以表示为$\cdot p/q\ \ (p,\ q$$q$ 是整数且$q\not=0$）的形式，所以首先将$\mathcal{Q}$ 中的元素以$.p/q$的形式排成一个有序图形，然后从$.0/1^{[0]}$开始，沿着一条穿过整个图形的路径把所经过的有理数与自然数配对，如图1-6 所示。  

![](images/ab70720d52ac111f9a14a178a9b02dc0089c399104d69fed3b1066e0bab1947e.jpg)  
图1-6  

因此，$\mathcal{Q}$ 是可数集合。□  

根据上述例题，可以得到关于有限集合和可数集合的如下基本性质：  

（1）两个有限集合等势，当且仅当它们具有相同的元素个数；（2）有限集合不可能与其任何真子集合等势； （3）可数集合可以与其可数的真子集等势。  

由此可知，元素个数不相等的无限集之间仍有可能存在等势关系。因此，无限集合的基数已经不能通过集合中元素的个数来度量，或者说不能用一个自然数来度量，而是需要以自然数集或其它无限集合的基数为标准进行度量。  

现在考察这样的一个问题，除了可数集合之外，还有没有其它的无限集合？或者说，是否每一个无限集合都能够与自然数集合建立一一对应的关系？事实上并非如此，例如开区间(0, 1)就不能与自然数建立等势关系，所有与开区间(0, 1)等势的集合构成了另外一类不同规模的集合，称之为不可数集合。其具体定义如下：  

【定义1.20】开区间(0, 1)称为不可数集合，其基数记为ℵ，读作阿列夫；凡是与开区间(0, 1)等势的集合都称为不可数集合。  

【例题1.39】证明：闭区间[0, 1]是不可数集合；实数集合$R$ 是不可数集合。【证明】在闭区间[0, 1]和开区间(0, 1)之间建立如下一一对应关系：  

$$
1\,/\,2^{n}\quad\longrightarrow1\,/\,2^{n+2}\quad(n{=}1,\,2,\,3,\,\,\cdots)
$$

因此，闭区间[0, 1]和开区间$(0,1)$等势。  

在实数集$R$ 和开区间$(0,1)$之间建立如下一一对应关系：  

$$
x\rightarrow t a n\,\pi\,\,(\,\frac{2x-1}{2}\,)
$$

因此，实数集$R$ 和开区间(0, 1)等势。□  

事实上，可以证明可数集合的幂集是不可数集合，即有：  

$$
2^{\aleph_{0}}=\aleph
$$

因此，不可数集合是比可数集合规模更大的一种无限集合类型。当然，还可以考虑不可数集合的幂集、不可数集合幂集的幂集等等，由此可以构造出很多种不同基数的无限集合。关于这些无限集合基数及其性质的讨论已经超出了离散数学的范畴，有兴趣的读者可以参阅实变函数理论中与连续统相关的内容。  

## §1.3 有限集的基本计数技术  

现考察有限集的度量问题，度量有限集的目标是要统计出集合中元素的个数。当集合不是以枚举方式出现时，对元素个数的统计有时就不一定是显然的，需要一些相关技巧或技术，称之为计数技术。有限集合的计数技术在计算机问题求解或算法设计中具有基础性的重要作用。例如对于算法设计来说，如果要设计出问题求解的有效算法，很多情况下需要计算或估算出解空间或状态空间大小规模。事实上，这些解空间就是一些有限集合，度量这些有限集的大小就需要对其进行计数。目前，计数技术可大致分为基本计数技术和高级计数技术这两种基本类型，本节主要学习若干基本计数技术，具体包括加法原理与乘法原理、容斥原理与鸽笼原理、排列计数与组合计数。  

### 1.3.1 加法原理与乘法原理  

加法原理和乘法原理是最基本的计数法则，其它所有计数方法或技巧都建立在这两个法则的基础之上。  

加法原理：对于任意一个有限集合$A$，如果它可以看成是多个集合的并集且这多个集合之间互不相交，即有：  

$$
A=A_{1}\cup A_{2}\cup\cdots\cup A_{n}\ \stackrel{\mathrm{~H~}}{\cdots}\ A_{i}\cap A_{j}=\varnothing\ \left(i\neq j\right)
$$

则有：  

$$
|A|=|A_{1}|+|A_{2}|+\cdots+|A_{n}|
$$

加法原理的另外一种说法如下：  

如果$n$ 个独立事件分别有$\cdot k_{1},k_{2},\cdots,k_{n}$种方式发生，那么这$n$ 个独立事件之一发生方式的总数$k$ 有可按下式计算：  

$$
k=k_{1}+k_{2}+\dots+k_{n}
$$

加法原理的含义非常直观，其正确性是显然的。使用加法原理进行计数的关键在于如何将一个有限集合适当划分为若干互不相交的子集，并计算这些子集的基数。如果完成一个任务可以采用很多种不同的方法，而且每一种方法又有很多种不同的选择，那么完成该项任务的总方法数就等于这些所有选择数的总和。  

【例题1.40】从$A$ 到$B$，可以乘火车，也可以乘汽车，一天中火车有3 班，汽车有两班。那么一天中乘坐这些交通工具从$A$ 到$B$ 共有多少种不同的走法？  

【分析】从$A$ 到$B$ 按交通工具分可分为2 类方法：第一类：乘坐火车，有3 种方法；第二类：乘坐汽车，有2 种方法。  

【解】从$A$ 到$B$ 共有$_{3+2=5}$ 种方法。□  

乘法原理：对于任意一个有限集合$A$，如果$A$ 中的每个元素都是依次从若干个互不相交集合中各取一个元素组成的有序数列，即有：  

$A=\{a_{1}a_{2}\cdots a_{n}|a_{1}\in A_{1},a_{2}\in A_{2},\cdots a_{n}\in A_{n}$  

则有：  

$$
|A|=|A_{1}|\times|A_{2}|\times\cdots\times|A_{n}|
$$

乘法原理的另外一种说法如下：  

如果$n$ 个独立事件分别有$\cdot k_{1},k_{2},\cdots,k_{n}$种方式发生，那么这$n$ 个独立事件同时发生方式的总数$k$ 有可按下式计算：  

$$
k=k_{1}\times k_{2}\times\cdots\times k_{n}
$$

在实际使用乘法原理进行计数时，可以将问题的求解过程适当分解为若干步骤并且计算出每个步骤的选择数。此时，完成问题求解的总方法数就等于这些选择数的乘积。  

【例题1.41】如果由$A$ 去$C$ 要经过$B$，一天中由$A$去$B$ 有3 班火车，由$B$去$C$有2 班汽车，那么从合肥经过商丘到周口共有多少种不同的走法？  

【分析】从$A$ 到$C$ 必须经过$B$，再由$B$ 到$C$ 有2 个步骤.第一步由$A$ 到$B$ 有3 种方法，第二步由$B$ 到$C$ 有2 种方法。  

【解】从$A$ 经过$B$ 到$C$共有$3\times2=6$种不同的方法。□  

### 1.3.2 容斥原理与鸽笼原理  

在前述加法原理中，我们将某个集合看成是由多个集合的并运算而构成，并且要求参与并运算的多个集合互不相交。现在将加法原理中多个集合互不相交的条件去掉，由此便可得到容斥原理。因此，容斥原理可看成是加法原理的一种推广形式。  

#### 一、容斥原理及其应用  

首先考察下列问题：假设某班共有50 人，其中有32 人会唱歌、26 人会跳舞、15 人既会唱歌又会跳舞，问多少人会唱歌或会跳舞？多少人既不会唱歌也不会跳舞？  

如图1-7 所示，集合$A$ 表示班上所有会唱歌的人，$B$ 表示班上所有会跳舞的人，$A\cap B$表示班上所有既会唱歌又会跳舞人，$A\cup B$表示班上所有会唱歌或者会跳舞人。  

不难看出，若将$A$ 与$B$ 的基数直接相加，即将分别表示$A$ 和$B$ 的两个区域直接相加，则图中表示$A\cap B$的阴影部分就是双层的。因此，要想像加法原理那样用$A$ 和$B$的基数和作为$A\cup B$的基数，就必须将表示𝐴∩$B$的阴影部分去掉一层，即减去一个$|A\cap B|$，故有：  

$$
|A\cup B|=|A|+|B|-|A\cap B|=32+26-15=43(\mathcal{A})
$$

显然，班上既不会唱歌也不会跳舞的人数为：  

$$
|{\overline{{A\cup B}}}|=|U|-|A\cup B|=50-43=7(\mathcal{A})
$$

![](images/83294eaaa652139fdc533ac2326406b29ebe30c3a5ea63f76c324c67d62b5655.jpg)  
图1-7 唱歌跳舞人数集合  

一般地，对于任意给定的两个有限集合，成立如下的容斥原理：【定理1.8】假设$A$ 和$B$ 是任意两个有限集合，则有：  

$$
|A\cup B|=|A|+|B|-|A\cap B|
$$

【证明】由图1-7 可以看出，  

$$
A\cup B=(A-B)\cup(A\cap B)\cup(B-A)
$$

$$
A=(A-B)\cup(A\cap B)
$$

$$
B=(A\cap B)\cup(B-A)
$$

故有：  

$$
\left|A\right|=\left|\left(A-B\right)\cup\left(A\cap B\right)\right|=\left|A-B\right|+\left|A\cap B\right|;
$$

$$
|B|=|(A\cap B)\cup(B-A)|=|A\cap B|+|B-A|\,;
$$

$$
\left|A\cup B\right|=\left|A\right|+\left|B\right|-\left|A\cap B\right|=\left|A-B\right|+\left|A\cap B\right|+\left|B-A\right|_{\circ}
$$

结合上面三个式子，有：$|A\cup B|=|A|+|B|-|A\cap B|$。证毕！ □  

【例题1.42】给定如下集合$A$ 和$B$，验证$|A\cup B|=|A|+|B|-|A\cap B|\,.$。 $A=\{1,2,3,4\}~~~~B=\{2,3,5,6,8\}~;~~(2)~A=\{1,2,3,4\}~~~~B=\{5,6,7,8\}$  

【分析】根据定理1.8，需要先计算出$A\cup B$和$A\cap B$，再计算$A$，$B$ 和$A\cup B$的基数并代入公式的两端，验证等式成立即可。  

【解】（1）因为$A\cup B=\{1,\!2,\!3,\!4,\!5,\!6,\!8\}$，$A\cap B=\{2,\!3\}$，所以有$|A\cup B|=7$，$\left|A\cap B\right|=$2。另外$\vert A\vert=4\,,\,\,\left\vert B\right\vert=5$，从而$|A|+|B|-|A\cap B|=4+5-2=7=|A\cup B|$，等式成立。  

（2）因为$A\cup B=\{1,2,3,4,5,6,7,8\}$，$A\cap B=\emptyset$，所以有$|A\cup B|=8$，$|A\cap B|=0$。另外$|A|=4$，$|B|=4$，从而$|A|+|B|-|A\cap B|=4+4-0=8=|A\cup B|$，等式成立。□  

下面定理给出了关于三个有限集的容斥原理：【定理1.9】假设$A,B,C$ 是任意三个有限集合，则有：  

$$
\left|A\cup B\cup C\right|=\left|A\right|+\left|B\right|+\left|C\right|-\left|A\cap B\right|-\left|B\cap C\right|-\left|A\cap C\right|+\left|A\cap B\cap C\right|
$$

【证明】略 □  

【例题1.43】调查73 个某大学一年级艺体生，获得如下数据：52 人会弹钢琴，25 人会拉小提琴，20 人会吹笛子，17 人同时会弹钢琴和拉小提琴，12 人同时会弹钢琴吹笛子，7人同时会拉小提琴和吹笛子，仅有一人同时会三种乐器。问：（1）调查结果中三种乐器都不会的学生有多少？（2）调查结果中只会拉小提琴的学生有多少？  

【分析】如果假设A、$B$、$C$ 分别表示会弹钢琴、会拉小提琴和会吹笛子的人构成的集合，则（1）等价于求$|\bar{A}\cap\bar{B}\cap\bar{C}|$，（2）等价于求$|\bar{A}\cap B\cap\bar{C}|$。  

【解】设$A,\ B$、$C$ 分别表示会弹钢琴、会拉小提琴和会吹笛子的人构成的集合，则三种乐器都不会的学生的集合为$|\bar{A}\cap\bar{B}\cap\bar{C}|$，只会拉小提琴的学生的集合为$|\bar{A}\cap B\cap\bar{C}|$。  

（1）根据题意有$|U|=73$，$|A|=52$，$|B|=25$，$|C|=20$，$|A\cap B|=17$，$|A\cap C|=$12，$|B\cap C|=7$，$\left|A\cap B\cap C\right|=1$，由容斥原理得：  

$|\bar{A}\cap\bar{B}\cap\bar{C}|=|U|-(|A|+|B|+|C|)+(|A\cap B|+|A\cap C|+|B\cap C|)-(A\cap B\cap C)$ $=73-(2+25+20)+(17+12+7)-1\ \ =11$  

$|\bar{A}\cap B\cap\bar{C}|=|B|-|A\cap B|-|B\cap C|+|A\cap B\cap C|\,=\,25-17-7+1=2$ 使用数学归纳法不难将容斥原理推广到$n$ 个有限集合的情形：  

【定理1.10】考虑集合$\trianglelefteqn{A_{1}\,,\;\;A_{2}\,,\;\;A_{3}\,,\;\;\cdots\,,\;\;A_{n}\,,\;\;A=A_{1}\cup A_{2}\cup\cdots\cup A_{n}}$，那么  

$$
|A|=|A_{1}\cup A_{2}\cup\cdots\cup A_{n}|=\sum_{i=1}^{n}|A_{i}|-\sum_{1\leq i<j\leq n}\left|A_{i}\cap A_{j}\right|
$$

$$
\sum_{1\leq i<j<k\leq n}\left|A_{i}\cap A_{j}\cap A_{k}\right|-\cdots+(-1)^{n+1}|A_{1}\cap A_{2}\cap\cdots\cap A_{n}|
$$

【证明】（略）□  

【例题1.44】在24 名科技人员中：会英、日、德、法语的人数分别为13、5、10 和9。其中同时会英语、日语的人数为2；同时会英语和德语、同时会英语和法语、同时会德语和法语两种语言的人数均为4；会日语的人既不会法语也不会德语。试求：  

（1）同时会英、德、法语的人数为多少？（2）只会一种语言的人数各为多少？  

【分析】设$A,\ B\setminus\ C\setminus\ D$1）是求$|A\cap C\cap D|$$|A|-\left|\left(B\cup C\cup D\right)\cap A\right|,\;\;|B|-\left|\left(A\cup C\cup D\right)\cap B\right|,\;\;|C|-\left|\left(A\cup B\right)\cap A\right|.$ $D)\cap C|\,,\,\,\,|D|-|(A\cup B\cup C)\cap D|$的值。  

$A,\ B,\ C,\ D$ $\vert A\vert=13\,,\,\,\,\vert B\vert=5\,,\,\,\,\vert C\vert=10\,,\,\,\,\vert D\vert=9\,,\,\,\,\vert A\cap B\vert=2\,;$ $\left|A\cap C\right|=\left|A\cap D\right|=\left|C\cap D\right|=4,\ \left|B\cap C\right|=\left|B\cap D\right|=0\,;

$                                     |𝐴∩𝐵∩𝐶| = |𝐴∩𝐵∩𝐷| = |𝐵∩𝐶∩𝐷| = 0 $|A\cap B\cap C|=|A\cap B\cap D|=|B\cap C\cap D|=0\,;$ ；

                                     |𝐴∩𝐵∩𝐶∩𝐷| = 0 $\begin{array}{r}{\left|A\cap B\cap C\cap D\right|=0\,,\ \left|A\cup B\cup C\cup D\right|=24\,.}\end{array}$ 。  

（1）根据定理1.10，有：  

$$
\begin{array}{r l}&{\left|A\cup B\cup C\cup D\right|=\left(\left|A\right|+\left|B\right|+\left|C\right|+\left|D\right|\right)}\\ &{\qquad\qquad\qquad-\left(\left|A\cap B\right|+\left|A\cap C\right|+\left|A\cap D\right|+\left|B\cap C\right|+\left|B\cap D\right|+\left|C\cap D\right|\right)}\\ &{\qquad\qquad\qquad+\left(\left|A\cap B\cap C\right|+\left|A\cap B\cap D\right|+\left|B\cap C\cap D\right|+\left|A\cap C\cap D\right|\right)}\\ &{\qquad\qquad\qquad-\left(\left|A\cap B\cap C\cap D\right|\right)}\end{array}
$$

将已知条件代入上式，可得：  

$24=(13+5+10+9)-(2+4+4+4+0+0)+(0+0+0+|A\cap C\cap D|)-0$ 从而得$|A\cap C\cap D|=1$，即同时会英、德、法语的只有1 人。  

（2）设只会英、日、德、法语的人数分别为$\vert x_{1}$，$x_{2}\,,\,\,\,x_{3}\,,\,\,\,x_{4}$，则有： $x_{1}=|A|-|(B\cup C\cup D)\cap A|=|A|-|(B\cap A)\cup(C\cap A)\cup(D\cap A)|$ 由定理1.10，得：  

$$
|(B\cap A)\cup(C\cap A)\cup(D\cap A)|=2+4+4-0-0-1+0=9
$$

故有： $x_{1}=13-9=4$ 。同理可得： $x_{2}=3$ ， $x_{3}=3$ ， $x_{4}=2$ 。□  

#### 二、鸽笼原理及其应用  

鸽笼原理是数学神童狄利克雷在9 岁时提出，那时他家中有九个鸽笼十只鸽子，他观察到这样一个现象：无论怎样分配鸽笼给鸽子，必然一个鸽笼里面至少有两只鸽子，便由此提出鸽笼原理，并用该原理解决很多数学问题。鸽笼原理有时也称为抽屉法则，通俗地说，就是将5 本书放在4 个抽屉里面，必然有一个抽屉至少有两本书。  

【定理1.11】如果把多于$n$ 个的元素按任一方式分成$n$ 个集合，那么至少有一个集合中含有两个或两个以上的元素。  

【证明】用反证法。假设每个集合中的元素都小于或等于1，由于这$n$ 个集合互不相交，根据加法原理，这$n$ $n$，这与已知条件矛盾。  

在上述定理中，每个集合相当于一个鸽笼或抽屉，每个元素相当于一个鸽子或一本书。因此，通常将上述定理称为鸽笼原理或抽屉法则。这个定理咋看非常简单，却是一个蕴含着深刻数学思想的基本原理，对很多数学问题求解提供了意想不到的巧妙思路。  

鸽笼原理解决的是状态的存在性问题，而不是对状态的计数。在实际使用过程中，首先需要将实际问题中的有关要素抽象成相应的鸽子和鸽笼，然后使用鸽笼原理求解。  

【例题1.45】抽屉里有三双手套，从中至少取多少只，才能保证配成一双？  

【分析】将手套看成是鸽子，3 双手套的数量3 看成是3 个鸽笼，按照同型手套飞入同一个笼子的原则，根据鸽笼原理，需要4 只手套即可。  

【解】至少取4 只，才能保证配成一双。□【例题1.46】设1 到10 中任意选出6 个数，那么其中有两个数的和是11  

【分析】构造5 个不同的集合，每个集合包含两个数，且其和为11，即构造了5 个鸽笼，将选出的6 个数看成鸽子。根据鸽笼原理，6 个数中一定有两个数属于同一集合。  

【证明】构造5 个不同的集合$A_{1}{=}\{1,10\}$，$A_{2}{=}\{2,9\}$，$A_{3}{=}\{3,8\}$，$\scriptstyle A_{4}=\{4,\,7\}$，$A_{5}{=}\{5,6\}$作为鸽笼，从1 到10 中任意选出6 个数并将看成6 个鸽子.根据鸽笼原理，所选出的6 个数中一定有两个数属于同一集合，这两个数的和为11。证毕！□  

【例题1.47】在$n+1$个小于等于$2n$且不相等的正整数中，一定存在互素的两个数。  

【证明】先证明如下事实：任意两个相邻的正整数是互素的。用反证法，假设$_n$与$n+1$有公因子$q(q\ge2)$，则有：  

因此得到$q p_{1}+1=q p_{2}$，即：$q(p_{2}-p_{1})=1$。这与$q\geq2$，$p_{2}-p_{1}$是整数矛盾现将1，2，⋯，$2n$分成如下$n$组：$\{1,~2\}$，{3，4}，⋯，$\!\ \{2n-1,\ \,2n\}.$  

从组中任取$_{n+1}$ 个不同的数，由鸽笼原理可知，至少有两个数取自同一组，它们是相邻的数，所以它们是互素的。证毕！□  

可将鸽笼原理推广为如下更为一般的形式，称之为增强型鸽笼原理：  

【定理1.12】将$n$ 个元素以任一方式分成$m$ 个集合且$m<n$，则必然存在一个集合中至少有含有$\lfloor(n-1)/m\rfloor+1$个元素。其中$\lfloor x\rfloor$表示对实数$x$ 进行向下下取整，即取不超过$x$ 的最大整数部分。  

【证明】如果每个集合放入的对象数目都不多于$\lfloor(n-1)/m\rfloor$，那么对象的总数将不多  

于 $m\cdot\lfloor(n-1)/m\rfloor$ 个，从而不多于 $_{n-1}$  个，这与前提矛盾！命题得证 □  

在上述定理中，可将$n$ 个元素看成$n$ 只鸽子、$m$ 个集合看成$m$ 个鸽笼、$\lfloor(n-1)/m\rfloor+1$看成是重复数。在使用增强型鸽笼原理对实际问题求解过程中，首先需要将实际问题中的有关要素抽象成相应的鸽子、鸽笼和重复数，然后使用增强型鸽笼原理求解。显然，前述基本鸽笼原理可以看成是重复数为2 的增强型鸽笼原理。  

【例题1.48】如果一个图书馆里的30 本离散数学书共有12003 页，那么必然有一本离散数学书至少有401 页。  

【分析】将12003 页书看成12003 只鸽子，30 本离散书看成是鸽笼。  

【证明】设页是鸽子，离散数学书是鸽笼，把每页分配到它所出现的离散数学书中，根据定理1.12，则存在一个鸽笼至少住进$\lvert(12003–1)/30\rvert+1=401$。证毕！□  

【例题1.49】取黑白棋子21 枚，黑白数目不限，排列成3 行7 列的长方形。证明：无论怎样排放，都可以找到一个长方形，使得该长方形的四个角的棋子同色。  

【证明】设21 枚棋子排成的长方形如下：  

$$
\begin{array}{l}{{Q_{11},~Q_{12},~\cdots~,~Q_{17}}}\\ {{Q_{21},~Q_{22},~\cdots~,~Q_{27}}}\\ {{Q_{31},~Q_{32},~\cdots~,~Q_{37}}}\end{array}
$$

由增强型鸽笼原理知$Q_{11}$，$\boldsymbol{Q}_{12}$，… ，$\boldsymbol{Q}_{17}$中至少有$\lfloor(7-1)/2\rfloor+1=4$枚棋子同色，不妨设它们是$Q_{11}$，$Q_{12}$，$\mathcal{Q}_{13}$，$\mathcal{Q}_{14}$（黑子）。 再考虑$Q_{21}$，$Q_{22}$，$Q_{23}$，$Q_{24}$，如果其中有两枚黑子，那么命题已成立；若不然，$Q_{21}$，$Q_{22}$，$Q_{23}$，$Q_{24}$中至少有三枚白子，不妨设它们是$Q_{21}$，$Q_{22}$，$Q_{23}$。再考虑$Q_{31}$，$Q_{32}$，$Q_{33}$，这三枚棋子中必有$\lfloor(3-1)/2\rfloor+1=2$枚棋子同色，那么与$Q_{21}$，$Q_{22}$，$Q_{23}$ 中白子组成长方形白色的四角，满足命题要求；如果其中有两枚黑子，那么与$Q_{11}$，$Q_{12}$，$\mathcal{Q}_{13}$，$\mathcal{Q}_{14}$ 中黑子组成长方形黑色的四角，满足命题要求.□  

【例题1.50】（拉姆齐数）对于由任意6 个人组成的群体，如果其中任意两人之间要么是朋友，要么是敌人，那么该群体中要么至少存在3 个人彼此都是朋友，要么至少存在3个人彼此都是敌人。  

【分析】令$A$ 是这6 人中任意一个，则由广义鸽巢原理知：组里其他5 人中至少有3 人是$A$ 的朋友，或至少有3 个人是$A$ 的敌人。对于前一种情况，假定$B$、C、$D$是$A$ 的朋友。如果这3 人中有2 人也是朋友，那么这2 人和$A$ 构成彼此是朋友的3 人组。否则，$B$、$C.$、$D$ 构成彼此为敌人的3 人组。对于后一种情况，可用类似方法处理。  

【证明】略 □  

【例题1.51】从$_{1\sim2n}$的正整数中任取$n+1$个数，则这$n+1$个数中至少有一对数，其中一个数是另一个数的倍数。  

【解】设所取的$n+1$个数是：$a_{1}$，$a_{2},~~\cdots,~a_{n},~a_{n+1}$。对该序列中每个数去掉一切2的因子，直到剩下一个奇数为止。例如，$28=2\times14=2^{2}\times7$，去掉因子$2^{2}$，留下奇书7，结果得到由奇数组成的序列：  

$$
r_{1},\ r_{2},\ \cdots,\ r_{n+1}
$$

由于$1{\sim}2n$中只有$\cdot_{n}$个奇数，故上述序列中至少有两个数相同。不妨设$r_{i}=r_{j}=r$，则有：  

$$
a_{i}=2^{a_{i}}r,\ a_{j}=2^{a_{j}}r
$$

因此，如果$a_{i}>a_{j}$，则$a_{i}$是$a_{j}$的倍数。□  

### 1.3.3 排列计数与组合计数  

排列与组合是两类比较基本的计数问题，根据从集合中选择元素的有序与无序、是否允许重复等限制条件，可将这两类问题进一步划分为四种基本类型，即不重复的排列、不重复的组合、可重复的排列和可重复的组合。  

#### 一、不重复的排列与组合  

首先考察如下排列问题：  

某班有35 名同学，现从中选出15 名同学排成一排，问有多少种排列方式？  

这个问题有如下两个关键要点：第一、在排列中每位同学最多只能出现一次，也就是无重复性；第二、不同的次序构成不同的排列。由此得到如下不重复排列的概念：  

【定义1.21】假设$S$是由$n$ 个不同的元素组成的集合，从$S$中依次取出$r$ 个不同元素并将其按取出的次序排成一排，由此形成的一个有序排列称之为不重复$r\cdot$-排列，简称为$r\cdot$-排列或排列，不重复$r\cdot$-排列的个数称为不重复$r\cdot$-排列数，简称为$r\cdot$-排列数或排列数，记为${P}_{n}^{r}$或$P(n,r)$。称$r=n$时构成的排列称为全排列，$r<n$时构成的排列为选排列。  

【例题1.52】由5 种颜色的星状物和20 种不同的花排成如下的图案：两边一边一个星状物，中间是3 朵花。问共有多少种这样的图案？  

【解】5 种颜色的星状物取两个排列的排列数为：  

$$
P(5,2)=5\times4=20
$$

20 种不同的花取3 种排列的排列数为：  

$$
P(20,3)=20\times19\times18=6840
$$

根据乘法原理，共有图案种数为：$20\times6840=1368000$(种)。□  

根据乘法原理，显然可以得到如下结论：  

【定理1.13】对于任意两个正整数$n$ 和$r$，且$r\leq n$，成立如下$r\cdot$-排列数计算公式：  

$P(n,r)=n(n-1)(n-2)\cdots(n-r+1)\ \ ={\frac{n!}{(n-r)!}}$ 其中：$n!=n(n-1)(n-2)\cdots2\cdot1$  

【证明】略。□  

再考察下面问题：8 个人围坐在同一张圆桌上聚餐，由多少种做法？  

在这个问题中，8 位同学并不是排成一排，而且围成一个圆圈。如果围成圆圈的8 位同学通过轮换座位进行转圈，则不改变排列的类型，轮换前后的排列视为同一排列。这性质与前述排成一排的排列是很不相同的，由此得到如下圆排列的概念：  

【定义1.22】假设$S$是由$n$ 个不同的元素组成的集合，从$S$ 中依次取出$r$ 个不同元素并将其按取出的次序排成一个圆圈，由此形成的一个有序圆排列称之为不重复$r\cdot$-圆排列，简称为$r\cdot$-圆排列或圆排列，不重复$r\cdot$圆排列的个数称为不重复$r\cdot$-圆排列数，简称为$r\cdot$-圆排列数或圆排列数，记为${\cal P}_{c}(n,r)$。  

相对于上述圆排列的概念，有时亦将$r\cdot$-排列称为$r$-线排列或线排列。由前面分析不难看出，如果将每个$r\cdot$-线排列的首尾相连构成一个$r\cdot$-圆排列，则由此构成的所有圆排列必然有$r$倍的重复数。故有如下$r\cdot$-圆排列计算公式：  

【定理1.14】对于任意给定的两个正整数$n$ 和$r$，且$r\leq n$，其$r\cdot$-圆排列数为$P_{c}(n,r)$：  

$$
P_{c}(n,r)=\frac{P(n,r)}{r}=\frac{n(n-1)(n-2)\cdots(n-r+1)}{r}=\frac{n!}{r(n-r)!}
$$

【证明】因为$\ \cdot a_{1}a_{2}\cdots a_{r}\,,\ \ a_{2}a_{3}\cdots a_{r}a_{1}\,,\ \ \cdots\,,\ \ a_{r}a_{1}a_{2}\cdots a_{r-1}$是$\cdot r$个不同的排列，但是如果把它们排成一个圆圈，则可以通过转圈的方式从一个排列得到其他$.r-1$个排列，即这$\cdot r$个排列在圆排列中是同一个排列。 于是𝑆的环形$.r$排列数的$\cdot_{r}$倍就是$\cdot r$排列数，即：  

$$
\begin{array}{r}{P_{c}\big(n,~r\big)=\frac{P(n,r)}{r}}\end{array}
$$

证毕！□  

【例题1.53】问8 粒颜色不同的钻石可串成几种项圈？  

【解】8 粒钻石进行圆排列的方案为：  

$$
P_{c}(8,\!8)=8!/8=7!
$$

因为项圈正反面看起来是一样的，因此可串成的项圈种数为：$7!/2=2520$(种)。□  

【例题1.54】 5 颗红色的珠子和3 颗蓝色的珠子装在圆板的四周，试问有多少种方案？若蓝色珠子不相邻，有多少种排列方案？  

【解】若不加限制，则有$\cdot_{c1}(8,\!8)=7!$种排列方案。  

若要求蓝色珠子在一起，当把它们看做一个元素进行圆排列时，则有$P_{c2}(6,6)=5!$!种排列方案，所以此时共有$P_{c1}(6,6)\cdot P_{c2}(3,3)=5!\times6=720$种排列方案。  

最后讨论蓝珠子不相邻的情况。5 颗红珠子的圆排列有4!种，第一个蓝珠子有5 种选择的可能；第2 个蓝珠子为了避免与第1 个蓝珠子相邻，只能有4 种选择；第3 个蓝珠子只有3 种可能，故有：  

因此，若蓝色珠子不相邻，则有1440种排列方案。□  

【例题1.55】求满足下列条件的排列数。 （1）10 个男孩和5 个女孩站成一排，没有两个女孩相邻。 （2）10 个男孩和5 个女孩站成一个圆圈，没有两个女孩相邻。  

【分析】把男孩看成格子分界，每两个男孩之间看成一个空格，女孩采用插空方法站进去，可保证任意两个女孩不相邻。因此，满足条件的排列需要分两步完成。 在（1）中，首先让10 个男孩按全排列站成一排，然后将5 个女孩插入到10 个男孩所形成的11 个空格中。在（2）中，首先将10 个男孩做环排列，站成一个圆圈，然后将5 个女孩插入到10 个男孩所形成的10 个空格中。  

【解】（1）根据定理1.14，10 个男孩的全排列为10!。然后，5 个女孩插到10 个男孩所形成11 个空格中的方法数为$P(11,5)$。根据乘法原理，得到10 个男孩和5 个女孩站成一排，没有两个女孩相邻的排列数为：  

$$
10!\times P(11,5)=\frac{10!\times11!}{6!}(\nmid\nmid)
$$

（2）10 个男孩站成一个圆圈的环排列数为9!。然后，5 个女孩插入到10 个男孩所形成10 个空中的方法数为$P(10{,}5)$。根据乘法原理，得到10 个男孩和5 个女孩站成一个圆圈，没有两个两个女孩相邻的排法为：  

$$
9!\times P(10,5)=\frac{9!\times10!}{5!}
$$

以上例子的共有特点是所有选出的元素都有一定的次序。事实上，很多情况下并不需要选出的元素具有有次序。  

考察如下组合问题：  

某班有35 名同学，现从中任意选出15 名同学参加问卷活动，问有多少种选择方式？  

与前述$r$-排列问题不同的是，这个问题只考虑抽取的是哪15 名同学，并不考虑抽取次序以及与之相关的排列问题。由此得到如下不重复组合及相关组合数的概念：  

【定义1.23】假设$S$是由$n$ 个不同的元素组成的集合，从$S$中任意取出$r$ 个不同元素组成一个子集合，称每一个这样的子集合为一个不重复$r$-组合，简称为$r\cdot$-组合或组合，不重复$r$-组合的个数称为不重复$r\cdot$-组合数，简称为$r\cdot$-组合数或组合数，记为$C_{n}^{r}$或$C(n,r)$。  

显然， $r$ - 组合与 $r$ - 排列的区别在于 $r\cdot$ 组合不考虑组合中元素的排列次序， $r\cdot$ - 排列必须考 虑排列中各元素的排列次序。如果两个$r\cdot$-排列所含的元素完全相同，仅仅是排列次序不同，两个$r\cdot$-排列是同一个组合，由此得到有如下组合数计算公式：  

【定理1.15】对于任意两个正整数$n$ 和$r$，且$r\leq n$，成立如下$r-$组合数计算公式：  

$$
C(n,r)=\frac{P(n,r)}{r!}=\frac{n(n-1)(n-2)\cdots(n-r+1)}{r!}=\frac{n!}{r!(n-r)!}
$$

【证明】先从$n$ 个不同元素中选出$r$个元素，有 $C(n,r)$种选法，再把每一种选法选出的$r$个元素做全排列，有$\leftr!\rightleftharpoons$!种排法。根据乘法原理，$n$个元素的$r$排列数为： $P(n,r)=r!\;\;C(n,r)$ 𝑃(𝑛, 𝑟) = 𝑟!  𝐶(𝑛, 𝑟)  

即有：  

$$
C(n,r)=\frac{P(n,r)}{r!}\!=\!\frac{n!}{r!\left(n-r\right)!}
$$

证毕！□  

【例题1.56】从$.1{\sim}300$间任取3 个不同的数，使得这3 个数的和正好被3 整除，试问有几种方案？  

【解】这3 个数之和被3 整除是有规律的，将$1{\sim}300$的数分成如下三组：  

$$
\begin{array}{l}{A=\{1\,,\,\,4\,,\,\,7\,,\,\,\,\cdots\,,\,\,298\}}\\ {B=\{2\,,\,\,5\,,\,\,8\,,\,\,\,\cdots\,,\,\,299\}}\\ {C=\{3\,,\,\,6\,,\,\,9\,,\,\,\,\cdots\,,\,\,300\}}\end{array}
$$

下面两种情况是被3 整除的可能情况：  

（1）3 个数同属于$A$，$B$ 或$C$。 （2）3 个数分别属于$A$，$B$，$C$  

属于$A$ 的3 个数共有$C\left(\,100,3\,\right)$）种方案，同样，属于$B$ 或$C$的3 个数也各有$C$（100,3）种方案。根据乘法原理，分别属于$A$，$B$，$C$ 的3 个数应有$100^{3}$种方案。 根据加法法则，总方案数$N$ 为：  

$$
N=3C(100,\!3)+100^{3}
$$

$$
=3\times{\frac{100\times99\times98}{3\times2}}+10000000=1485100（种）
$$

#### 二、可重复的排列  

现考察这样一个问题：用1、2、3 这3 个数字可以构成多少种不同的5 位数字？  

使用乘法原理不难知道该问题解为$\ 13^{5}=243$种。这显然是一个元素可以重复的排列问题，现具体讨论这类问题。我们知道，在经典集合论中，集合中元素是不可重复的。为解决集合中重复元素的表示问题，现引入重集的概念。与集合的概念一样，重集也是一个没有具体定义的原始概念，只有通过如下方式对其含义进行描述或理解：  

所谓重集，就是在指定范围内满足给定条件、且允许多个相同对象同时出现的所有对象构成的总体，重集中每个对象仍然称为该集合的元素，重集中相同元素的个数称为元素的重数。具体地说，如果一个重集中含有 $\cdot_{n_{1}}$ 个 $\cdot a_{1}$ ， $n_{2}$ 个 $a_{2}$ ， ⋯ ， $n_{m}$ 个 $a_{m}$ ，且 $n_{1}+n_{2}+\cdots+n_{m}=$ $n$，则称该重集为含有$n$个元素的$m$元重集，记为：$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}.$。  

约定：$\infty\cdot a$表示元素$a$可在重集中出现任意多次；$\{\infty\cdot a_{1},\infty\cdot a_{2},\cdots,\infty\cdot a_{m}\}$则表示重集中所有元素均可出现任意多次，称其为无穷重$\pmb{m}$ 元重集。  

事实上，可将$m$ 元重集看成是由$m$ 个容器组成的容器组，其中第一个容器可以放入（或取出）$n_{1}$个元素$a_{1}$，第二个容器可以放入（或取出）$n_{2}$个元素$a_{2}$，…，第$m$个容器可以放入（或取出）$n_{m}$个元素$a_{m}$.对于$\infty\cdot a$，则可将其理解为可以放入（或取出）无穷多个元素$a$的容器.需要注意的是，通常认为重集不是集合，但可将集合看成是重集的特例。  

显然，用1、2、3 这个数字构成5 位数字，就是一个无穷重3 元重集中取出5 个元素的排列问题。一般地，这种重集排列问题或可重复排列问题的定义如下：  

【定义1.24】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的重集，从该重集中依次取出$r$ 个元素并将其按取出的次序排成一排，由此形成的一个有序排列称之为可重复$r$-排列，可重复$r\mathbf{\cdot}$-排列的个数称为可重复$r$-排列数；令$\cdot n_{1}+n_{2}+\cdots n_{m}=n$，则称$\cdot r=n$时构成的排列称为全排列，$r<n$时构成的排列为选排列。  

通过乘法原理不难得到如下无穷重$m$ 元重集的可重复$r\mathbf{\cdot}$-排列数计算公式  

【定理1.16】假设$\{\infty\cdot a_{1},\infty\cdot a_{2},\cdots,\infty\cdot a_{m}\}$是任意一个给定的无穷重$m$ 元重集，该重集下可重复$r$-排列数为$m^{r}$。  

【证明】无穷重数$m$ 元重集$\{\infty\cdot a_{1}$，$\infty\cdot a_{2}$，⋯，$\infty\cdot a_{m}\}$ $r$-排列的每一个位置上，均有$m$  种选择方案，故而 $r$ - 排列数为 $\ \ \cdot m^{r}$ 。□  

【例题1.57】（1）用7 颗六彩珠串成长链，可串出多少种不同长链（假定六彩珠取之不尽，且不考虑链子的反转）？（2）至少用两种颜色的六彩珠串成7 珠环链，求环链的种数（假定六彩的珠子取之不尽，且不考虑链子的反转）？  

【解】（1）用七颗六彩的珠子串成长链，可以串出不同长链的种数为：（2）至少用两种颜色的六彩珠串成7 珠环链，则可以串出环链种数为：因为用7 颗六彩珠可串出$6^{7}$种不同长链，从中要去掉6 种同色的珠子串成的长链，然  

后除以7 才是串成环链的数目。□  

注意，对于重集的圆排列，其元素个数$r$ 必须为质数，否则一个$r$圆排列未必可以展开成$r$ 个线排列。例如，对于四个两色（黑，白）的珠子，有一个如图1-8 所示的4-圆排列，但它对应的线排列只有 2  个。□  

![](images/3f1e76f81dba91759e05f5e7aace97377518f23c7e8ea20e34523f4359261b28.jpg)  
图1-8 4-圆排列  

有穷集$m$ 元重集上可重复$r\mathbf{\cdot}$-排列数的计算是一个比较复杂的问题，有兴趣的同学可以查阅相关资料，不再赘述。在此仅考虑如下比较简单的全排列数的计算问题：  

【定理1.17】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的含有$n$ 个元素的有限$m$元重集，从该重集中依次取出$n$ 个元素的全排列数为：  

$$
\frac{n!}{n_{1}!\cdot n_{2}!\cdot\dots\cdot n_{m}!}
$$

【证明】可以用$C(n,n_{1})$种方式在$n$个位置中放类型1 的$n_{1}$个物体，剩下$\cdot_{n}-n_{i}$个空位。然后用$C(n-n_{1},n_{2})$种方式放类型2 的物体，剩下$n-n_{1}-n_{2}$个空位。继续放类型3 的物体，如此类推，直到最后可用$C(n-n_{1}-n_{2}-\cdots-n_{m-1},n_{m})$种方式放类型$m$ 的物体。  

根据以上分析，由乘法法则得到不同排列的总数为：  

$$
{\begin{array}{r l}&{C(n,n_{1})C(n-n_{1},n_{2})\ \cdots\ C(n-n_{1}-n_{2}-\cdots-n_{m-1},n_{m})}\\ &{\quad={\cfrac{n!}{n_{1}!\,(n-n_{1})!}}{\cfrac{(n-n_{1})!}{n_{2}!\,(n-n_{1}-n_{2})!}}\cdots{\cfrac{(n-n_{1}-n_{2}-\cdots-n_{m-1})!}{n_{m}!\,0!}}}\end{array}}
$$

$$
=\frac{n!}{n_{1}!\cdot n_{2}!\cdot\dots\cdot n_{m}!}
$$

证毕！□  

【例题1.58】EXCELLENT 单词含有9 个字母，若重新排序字母顺序，请问能构成多少个不同字符串？  

【分析】EXCELLENT 中含有3 个E、2 个L、1 个X、1 个C、1 个N 和1 个T，考虑到EXCELLENT 中字母存在重复现象，并且重复的字母没有区别，因此不能看成是9 个字母的排列数.为了确定重排后有多少不同的字符串，可按下列方式求解：  

首先，3 个E 可用$C(9{,}3)$种不同的方式放在9 个位置，此时剩下6 个空位；然后2 个L有$C(6,\!2)$种方式放置，还剩下4 个空位；以此类推，X 有$C(4,1)$种方式放置，C 有𝐶(3,1)种方式放置，$\mathbf{N}$ 有$C(2,1)$种方式放置，T 仅有$C(1,1)$种放置方式.最后由乘法原理知，可产生不同的串数为：$C(9,3)C(6,2)C(4,1)C(3,1)C(2,1)C(1,1)\,.$。  

【解】由分析可得，重排字母顺序可构成的不同字符串数为：  

$$
C(9,3)C(6,2)C(4,1)C(3,1)C(2,1)C(1,1)
$$

$$
={\frac{9!}{3!\,6!}}\bullet{\frac{6!}{2!\,4!}}\bullet{\frac{4!}{1!\,3!}}\bullet{\frac{3!}{1!\,2!}}\bullet{\frac{2!}{1!\,1!}}\bullet{\frac{1!}{1!\,0!}}=30240(\ddagger\dag)
$$

因此，这9 个字母可以构成30240种不同的字符串。□  

#### 三、可重复的组合  

考察如下可重复的组合问题：从包含苹果、橙子和梨子的筐中任取4 个水果招待客人，假设筐中苹果、橙子和梨子的个数均多于4 个且不关心取水果的次序，问有多少种取法？  

可对这4 个水果的取法做如下枚举：  

4 个苹果；4 个橙子；4 个梨子；3 个苹果，1 个橙子；3 个苹果，1 个梨子；3 个橙子，1 个苹果；3 个橙子，1 个梨子；3 个梨子，1 个苹果；3 个梨子，1 个橙子；2 个橙子，2 个苹果；2 个橙子，2 个梨子；2 个梨子，2 个苹果；2 个橙子，1 个苹果，1 个梨子；2 个苹果，1 个梨子，1 个橙子；2 个梨子，1 个苹果，1 个橙子。  

由此可知取法一共有15 种。当水果种类或取出数目比较大时，这种枚举方法显然是不可行的。在这个问题中，可以将包含苹果、橙子和梨子的筐子分别看成是一个重集。由于不考虑取水果的次序，因此可将该问题看成是一种基于重集的可重复的组合数计算问题。  

下面具体介绍可重复的组合数计算问题的相关概念及解法。  

【定义1.25】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的重集，从该重集中任意取出$r$ 个元素组成一个子重集，称每一个这样的子重集为一个可重复$r\cdot$-组合，可重复$r\cdot$组合的个数称为可重复$r$-组合数。  

下面结合一个具体实例详细介绍可重复$r\cdot$-组合数的计算问题。  

【例题1.59】假设一钱袋中包含若干一元、五元、十元、二十元、五十元、一百元的人民币纸币，且每种纸币均超过8 张，现从钱袋中任取8 张纸币，问有多少种取法？  

【分析】由题意可知6 种不同的纸币都可以选8 次，且次序是无关的，所以是含有6 个元素的集合中可重复的8 组合数问题.  

![](images/8d5a033a1d580f44ffd5ffcda0af08a3f17a08ef2541a1f250fbf96024e54f68.jpg)  
图1-9 选择5 张纸币实例  

如图1-9(a)所示，假设有六个盒子，每个盒子可对应一种纸币。此时可将问题转化为将 8  张纸币放在 6  个盒子中。又因为 6  个盒子可由 5  条竖线隔成，若用 \* 表示纸币，那么选 择8 张纸币方法数就等价于摆放5 条相同竖线和8 颗相同星的方法数，即从13 个可能的位置选8 颗星位置的方法数.图1-9（b）列举出了其中一种方式.因此，问题的解就是从含13个物体的集合中无序地选择8 个物体的方法数，即有$C(13,5)$种方法。  

【解】 从6 类纸币的袋中选择5 张纸币的方式数有：  

$$
C(13,8)=C(13,5)={\frac{13!}{8!\,5!}}=1287({\vec{\kappa}}{\hbar})\,.
$$

因此，一共有1287 种取币方式。□  

根据上述例题的求解方法和结果，可得到如下定理：  

【定理1.18】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的$m$ 元重集，且重集中每个元素的从数均不小于 $r$ ，则基于该重集的可重复 $r\cdot$ - 组合数为 $C(m-1+r,\ r)$ 。  

【证明】当允许重复时$m$ 元素集合的每个$r$组合可以用$m{-}1$ 条竖线和$r$颗星来表示。这$m{-}1$ 条竖线用来标记$m$ 个不同的单元。每当集合的第$i$个元素出现在组合中，第$i$个单元就包含一颗星。如上例所示, 我们知道包含$m{-}1$ 条竖线和$r$颗星的每一个不同表示就对应了$m$元素集合的允许重复的一个$r$ 组合。这种表示的个数是$C(m-1+r,\ r)$，因为则种表示对应了从包含$r$ 颗星和$m{-}1$ 条竖线的$m-1+r$个位置中取$r$个位置来放$r$颗星。□  

【例题 1.60 】一家面包店卖 6  种面包，假定各种面包的数量都超过 11  个，若要买 11  个 面包，则可以有多少种选择方案？  

【解】这是一个求重集$\{\infty\cdot a_{1},\ \infty\cdot a_{2},\ \ \cdots\,,\ \infty\cdot a_{6}\}$的11-组合数的问题。因此其解是：$C{\big(}6-1+11,~11{\big)}=C{\big(}16,~11{\big)}=C{\big(}16,~5{\big)}={\frac{16\cdot15\cdot14\cdot13\cdot12}{5\cdot4\cdot3\cdot2}}=4368({\vec{\upmu}})$  

因此，有4368 种选择方案□  

【例题1.61】方程$\lfloor x_{1}+x_{2}+x_{3}=11$有多少个解？其中$x_{1}$，$x_{2}$，$x_{3}$是非负整数。  

【解】一个解对应了从3 元素集合中可重复地选11 个元素的方式，使得$\cdot x_{1}$选自第一类，$x_{2}$选自第二类，$x_{3}$选自第三类。因此，解的个数等于3 元素集合允许重复的11 组合数：  

$$
C{\bigl(}3+11\,,\,\,11{\bigr)}=C{\bigl(}13\,,\,\,11{\bigr)}=C{\bigl(}13\,,\,\,2{\bigr)}={\frac{13\cdot12}{1\cdot2}}=78
$$

因此，上述不定方程共有78个解.□  

## §1.4 有限集的高级计数技术  

前述基本计数技术主要基于静态思维，即认为求解问题处在一个相对静止状态，通过一些静态方法将这些状态的相关数量计算出来。如果求解问题在本质上具有动态演化性质，或者问题比较复杂必须考察其演变历史，对这类问题的计数必须考察问题状态的演变过程和规律，此时基于静态思维的基本计数技术就不能满足要求。本节介绍基于动态演化思想的高级计数技术，主要包括递推关系计数法、递推关系求解技术、生成函数计数法。  

### 1.4.1 递推关系计数法  

我们都学过数列知识，对于一个通项为$a_{n}$的数列$\left\{a_{n}\right\}$，其取值随着下标$n$ 变化而变化，表达的是一个动态演变过程。在很多情况下很难直接得到$a_{n}$的具体表达式，难以直接考察数列的动态演变过程。此时，为揭示数列中各项的动态演变规律，我们通常考察通项$a_{n}$与其前若干项之间的联系，或者说在通项与其前若干项之间建立一种确定的计算表达式，明确给出通项的具体构造过程，实现对动态过程的建模。由此得到如下递推关系的概念：  

【定义1.26】假设$\left\{a_{n}\right\}$是任一通项为$a_{n}$的数列，如果$a_{n}$可由其前若干项计算出来，则称该计算表达式为一个递推公式或递推关系式。为使递推公式能够进行递推计算，通常需要确定公式中一个或多个初始项的值，称这些初始项的值为递推公式的初值。如果一个数列的各项都满足递推关系，则称该数列为该递推关系的一个特解。  

例如，等差数列和等比数列都可用递推公式表示：对于公差为$d$的等差数列$\left\{a_{n}\right\}$，其递  

推公式为：$a_{n}=a_{n-1}+d$；公比$q$的等比数列$\left\{b_{n}\right\}$，其递推公式为$b_{n}=b_{n-1}q$。  

递推关系是求解组合计算问题的重要工具，在几乎所有的数学分支中都有着十分重要的作用。要使用递推关系解决有限集合的计数问题，首先必须针对求解问题演化规律建立相应的递推关系式，然后以递推关系式作为基本工具逐步实现对有限集合的计数。  

【例题1.62】有一个小孩要爬上有$n$ 个台阶的楼梯，他一步可以爬一个台阶或两个台阶。这个小孩爬上这$n$ 个台阶楼梯的不同方案数记作$a_{n}$，求$\textstyle.a_{n}$的递推关系。  

【解】爬$n$ 个台阶的方法可以分为两种： （1）先爬一个台阶，后$_{n-1}$ 个台阶有$a_{n-1}$种爬法；  

（2）先爬两个台阶，后$_{n-2}$ 个台阶有$a_{n-2}$种爬法；由加法原则 $a_{n}=a_{n-1}+a_{n-2}$，又$a_{0}=1$，$a_{1}=1$，故有：  

$$
\begin{array}{l}{\left\{a_{n}=a_{n-1}+a_{n-2}\right.}\\ {\left.a_{0}=1\,,\quad a_{1}=1\right.}\end{array}
$$

上式即为所求的递推关系。□  

【例题1.63】（汉诺塔）汉诺塔由安装在一个板上的3 根柱子和若干大小不同的盘子构成。开始时，这些盘子按照大小的次序放在一根柱子上，使得大盘子在底下，（如图1-10 所示）。游戏规则是：每一次把1 个盘子从一根柱子移动到另一根柱子，但是不允许这个盘子放在比它小的盘子上面。游戏目标是把所有的盘子按照大小的次序都放在第二根柱子上，并且将最大的盘子放在底部。  

![](images/2df41ea728f74fda2e796d2b07f7d6c42fdc11ffc705c0bef55bbffbfe2e6569.jpg)  
图1-11  中间阶段汉诺塔  

令$\cdot H_{n}$表示$n$ 个盘子的汉诺塔问题所需要移动的次数，建立一个关于$\{H_{n}\}$的递推关系。  

【解】开始$n$ 个盘子在柱1。按照游戏规则可以用$H_{n-1}$次移动将上边的$_{n-1}$ 个盘子移动到柱3（图1-11 说明了此刻的柱子和盘子）。在这些移动中保留最大的盘子不动。然后，用一次移动将最大的盘子移到第二个柱子上，再用$H_{n-1}$次移动将柱3 上的$_{n-1}$ 个盘子移动到柱2，把它们放到最大的盘子上面，这个最大的盘子一直放在柱2 的底部，由此得到：  

$$
H_{n}=2H_{n-1}+1
$$

（1-15  

当$n=1$时，一个盘子可以用1 次移动从柱1 到柱2，因此初始条件是$H_{1}=1$。  

可用迭代法求解递推关系(1 −15)  

$$
H_{n}=2H_{n-1}+1=2(2H_{n-2}+1)+1=2^{2}H_{n-2}+2+1
$$

$$
=2^{2}(2H_{n-3}+1)+2+1=2^{3}H_{n-3}+2^{2}+2+1
$$

$$
\begin{array}{c}{=2^{n-1}H_{1}+2^{n-2}+2^{n-3}+\dots+2+1}\\ {=2^{n-1}+2^{n-2}+\dots+2+1}\\ {=2^{n}}\\ {-\,1}\end{array}
$$

式(1-15)即为所求通项公式。□  

为了用序列前面的项表示$\cdot H_{n}$，重复地用到这个递推关系。在倒数第二个等式中用了初始条件${\cdot}H_{1}=1$。最后一个等式基于等比数列的求和公式得到。可用数学归纳法证明具有初始条件${\cal H}_{1}=1$的递推关系$H_{n}=2H_{n-1}+1$的解(1-15)，读者可作为课后练习自行给出。  

【例题1.64】（兔子和斐波那契数列）一对刚出生的兔子（一公一母）被放到岛上。每对兔子出生后两个月才开始繁殖后代。在出生两个月之后，每对兔子每个月都将繁殖一对新的兔子。假定兔子不会死去，找出$n$ 个月后关于岛上兔子对数的递推关系。  

表1-1 兔子对数统计表
![](images/48c972f408c0ec36343a6613cde7e3ff6f6bab3c9d1d4f4fb221bea8785469f7.jpg)  

【解】用$f_{n}$表示$n$ 个月后的兔子对数。可用递推关系建立兔子数的模型。在第一个月末，岛上兔子对数是$f_{1}=1$。由于这对兔子在第二个月没有繁殖，因此$f_{2}=1$。为找到$n$ 个月后的兔子对数，要把前一个月岛上的对数$f_{n-1}$加上新生的对数，这个数等于$\cdot f_{n-2}$，因为每对两个月大的兔子都生出一对新兔子。因此，序列$\{f_{n}\}$满足如下递推关系：  

$$
f_{n}=f_{n-1}+f_{n-2},\ n\geq3
$$

这个递推关系和初始条件$\cdot f_{1}=1,\ f_{2}=1$唯一地确定了这个序列。通常称该序列为斐波那契数列，$n$ 个月后岛上的兔子对数由斐波那契数列第$n$ 项的取值给出见表1-1。□  

### 1.4.2 递推关系的求解  

递推关系是复杂问题和动态问题求解重要工具，要使递推关系在问题求解中发挥作用特别是在计数问题中发挥作用，有时需要实现对递推关系式的求解，也就是说要找到满足递推公式的所有数列或部分数列的显示通项表达式。对递推关系式的求解是一个非常复杂的数学问题，属于离散数学及相关学科的前沿研究课题，有兴趣的读者可以查阅相关资料做进一步深入研究。作为抛砖引玉，我们仅介绍其中两种最常用的基本解法，即针对简单递推关系的迭代求解方法和针对常系数齐次线性递推关系的特征根求解方法。  

迭代求解法是一种最基本的解法，该方法主要用于求解一些比较简单的递推关系式，由如下两个基本步骤构成：  

第一、利用递推关系式对其右边的表达式进行迭代，并推测通项的显示表达式；  

第二、用数学归纳法证明得到的公式。  

【例题1.65】平面上有$n$ 条两两相交的直线，又没有任何三条直线交于一点。问共有多少个不同的交点。  

【解】设已知的$n(n\geq2)$条直线的交点数目为$h(n)$。如果增添第$n+1$条直线，它于前$n$条直线相交产生新的$n$个交点，因此有递归式$h(n+1)=h(n)+n$，或  

$$
h(n)=h(n-1)+n-1
$$

此外，$h(2)=1$。现进行迭代计算：  

$h(n)=h(n-1)+n-1=h(n-2)+n-2+n-1=h(n-3)+n-3+n-2-n-1$ $=\cdots=1+2+\cdots+(n-2)+(n-1)={\frac{n(n-1)}{2}}$                 下面用数学归纳法证明： $h(n)=n(n-1)/2$。基础步骤：$n=2$时，已知$h(2)=1$，而 $n(n-1)/2=2\times1/2=1\,\mathrm{s}$。 归纳步骤：设$h(k)=k(k-1)/2$，那么$n=k+1$时 $h(\mathfrak{n})=h(k+1)=h(k)+k=\frac{k(k-1)}{2}+k=\frac{k(k-1)+2k}{2}$ $={\frac{k(k+1)}{2}}\!=\!\,{\frac{n(n-1)}{2}}$  

归纳完成，证毕! □  

【例题1.66】在平面上有$n$ 条直线，其中无两线平行也无三线共点，求平面被这$n$ 条直线分成多少个不连通的区域？  

【解】设平面被这$n$ 条直线分成$a_{n}$个不连通的区域。显见$a_{0}=1$，$a_{1}=2$。当$n\geq2$时，去掉这$n$ 条直线中的一条直线$L$，则剩下的$_{n-1}$ 条直线把平面分成$a_{n-1}$个不连通的区域。今把1 放回原处，由题设知：$L$ 与其余$_{n-1}$ 条直线均相交且所得的$_{n-1}$ 个交点彼此相异（否则有三线共点）。这$_{n-1}$ 个交点把$L$ 分成$n$ 段，每段把一个原来的区域分成两个较小的区域，所以放回$L$ 后，不连通区域的个数等于原来不连通区域的个数与$n$之和，故有：  

$$
a_{n}=a_{n-1}+n=a_{n-2}+(n-1)+n
$$

$$
=a_{1}+2+3+\cdots+n=2+2+3+\cdots+n
$$

即有：  

$$
a_{n}=1+{\frac{n(n+1)}{2}}\;\;(\,{\mathsf{n}}\geq2\,)
$$

显然，当$\scriptstyle n=0$，1 时，此式仍成立，故有：  

$$
a_{n}=1+\frac{n(n+1)}{2}\,(\mathtt{n}\ge0)
$$

上式的数学归纳法证明与前面类似，读者可自行给出，不再赘述。综上所述，平面被这$n$ 条直线分成$1+n(n+1)/2$ 个不连通区域。□  

目前还没有一个一般性的方法或公式能够实现对任意递推关系式的求解，通常需要针对对递推关系式的具体特点给出相应的求解方法。常系数齐次线性递推关系是一种特殊的递推关系，针对这类递推关系有一套完备可行的求解理论和方法。这套求解理论和方法是求解其它递推关系式的基础，因为很多其它递推关系式都是通过设法将其转化为某种常系数齐次线性递推关系的途径实现求解。下面给出常系数齐次线性递推关系的定义：  

【定义1.27】设$a_{1}$，$a_{2}$，⋯，$a_{k}$是$k$个常数且$a_{k}\neq0$，则下列递推关系：  

$$
u_{n}=a_{1}u_{n-1}+a_{2}u_{n-2}+\cdots+a_{k}u_{n-k}(n\geq k)
$$

称为$k$阶常系数线性齐次递推关系。  

如果数列 $\{b_{n}\}_{n\geq0}$ 满足 $.b_{n}=a_{1}b_{n-1}+a_{2}b_{n-2}+\cdots+a_{k}b_{n-k}(n\geq k)$ ，则称数列 $\{b_{n}\}_{n\geq O}$ 或 $u_{n}=b_{n}{\big(}n=0,~1,~2,~\cdots{\big)}$是递推关系式(1 −17)的一个解。  

问题：递推关系式(1 −17)有没有解？如果有解，有多少个解？如何求解？下面的定理表明常系数齐次线性递推关系在满足初始条件的情况下有唯一解：  

【定理1.19】任意给出$k$个常数$b_{0}\,,\;\;b_{1}\,,\;\;\cdots\,,\;\;b_{k-1}$，有且仅有唯一一个数列是递推关系式 (1 −17) 满足初始条件 $v_{0}=b_{0}$ ， $v_{1}=b_{1}$ ， ⋯ ， $v_{k-1}=b_{k-1}$ 的解。  

【证明】当$n=0$，1，2，⋯，$k-1$时，令：  

$$
v_{n}=b_{n}{\big(}n=0,~1,~2,~\cdots,~k-1{\big)}
$$

当$n=k+1$，$k+2$，⋯时，令：  

$$
v_{n}=a_{1}v_{n-1}+a_{2}v_{n-2}+\cdots+
$$

$a_{k}v_{n-k}$  

则数列$\{v_{n}\}_{n\geq O}$是递推关系式(1 −17)满足条件$v_{0}=b_{0}$，$v_{1}=b_{1}$，⋯，$v_{k-1}=b_{k-1}$的唯一解，证毕! □  

通常将递推关系式改写成如下形式：  

$$
u_{n}-a_{1}u_{n-1}-a_{2}u_{n-2}-\cdots-a_{k}u_{n-k}=0
$$

对于常系数齐次线性递推关系的求解，基本思路是采用一种所谓特征根的方法，通过引入特征方程和特征根的概念，巧妙地将递推关系的求解问题转化为求代数方程根的求解问题。为此，我们引入如下特征方程和特征根的定义：  

【定义1.27】如下方程：  

$$
x^{k}-a_{1}x^{k-1}-a_{2}x^{k-2}-\cdots-a_{k-1}x-a_{k}=0
$$

称为递推关系式(1 −17)的特征方程，它的根称为递推关系式(1 −17)的特征根。  

因为$a_{k}\neq0$，所以0 不是递推关系式(1 −17)的特征根。 下面的定理非常关键，它给出了特征根与常系数齐次线性递推关系解之间的联系：  

【定理1.20】设$q$ 是非0 复数，则$u_{n}=q^{n}$是递推关系式(1 −17)的一个解当且仅当$q$是递推关系式(1 −17)的一个特征根。  

【证明】假设$\cdot u_{n}=q^{n}(q\neq0)$是递推关系式(1 −17)的一个解，则有：  

$$
q^{n}=a_{1}q^{n-1}+a_{2}q^{n-2}+\cdots a_{k}q^{n-k}
$$

即有$q^{k}-a_{1}q^{k-1}-a_{2}q^{k-2}-\cdots-a_{k-1}q-a_{k}=0$。因此，$q$是方程的一个根，即$q$是递推关系式(1 −17)的一个特征根。  

反之， 若 $q$ 是递推关系式 (1 −17) 的一个特征根， 则可类似证明 $u_{n}=q^{n}(q\neq0)$ 是递推关 系式(1 −17)的一个解。证毕！□  

下面定理给出了常系数齐次线性递推关系解的结构特点：  

【定理1.21】设$\cdot u_{n}=g_{i}(n)(i=1,2,\cdots,s)$均为递推关系式(1 −17)的解，$c_{i}(i=1,\!2,\cdots,s)$为任意常数，则有：  

$$
=\sum_{i=1}^{s}c_{i}g_{i}(n)
$$

也是递推关系式(1 −17)的解。  

【证明】令  

$$
b_{n}=\sum_{i=1}^{s}c_{i}g_{i}(n)
$$

因为$u_{n}=g_{i}(n)$是递推关系式(1 −17)的解，故对任一整数𝑖（$(1\leq i\leq s)$），有：  

$$
g_{i}(n)=\sum_{j=1}^{k}a_{j}g_{j}(n-j)\left(n\geq k\right)
$$

从而有：  

$$
b_{n}=\sum_{i=1}^{s}c_{i}g_{i}(n)=\sum_{i=1}^{s}c_{i}\sum_{j=1}^{k}a_{j}g_{i}(n-j)
$$

$$
=\sum_{j=1}^{k}a_{j}\sum_{i=1}^{s}c_{i}g_{i}(n-j)
$$

$$
=\sum_{j=1}^{k}a_{j}b_{n-j}\left(n\geq k\right)
$$

因此，$u_{n}=b_{n}(n=0,1,2,\cdots)$是递推关系式(1 −17)的解。证毕！□  

下面定理给出了特征方程无重根的情况下，常系数齐次线性递推关系通用求解公式，重根情况下的求根公式与此类似，读者可参阅相关资料，不再赘述。  

【定理1.22】如果递推关系式(1 −17)的$k$ 个特征根$q_{1}\,,\;\;q_{2}\,,\;\;\cdots\,,\;\;q_{k}$彼此相异，则  

$$
u_{n}=c_{1}q_{1}^{n}+c_{2}q_{2}^{n}+\cdots+c_{k}q_{k}^{n}
$$

是递推关系式(1 −17)的通解。其中$c_{1}\,,\;\;c_{2}\,,\;\;\cdots\,,\;\;c_{k}$为任意常数。  

【证明】略 □  

【例题1.67】解递推关系$.a_{n}=5a_{n-1}-6a_{n-2}\,,\;\;a_{0}=4\,,\;\;a_{1}=9(n\geq2)\,\circ$。  

【解】递推关系的特征方程为：$x^{2}-5x+6=0$。求解该方程得到特征根为：$x_{1}=2$$x_{2}=3$。故有：  

$$
a_{n}=c_{1}2^{n}+c_{2}3^{n}\quad(n=0,\!1,\!2,\cdots)
$$

其中$c_{1}$，$c_{2}$为待定常数。  

由初始条件得：$c_{1}+c_{2}=4$，$2c_{1}+3c_{2}=9$。解得$c_{1}=3$，$c_{2}=1$。  

因此，$a_{n}=2\times2^{n}+3^{n}$ 即为所求。□  

【例题1.68】求递推关系$f_{n}=f_{n-1}+f_{n-2}$满足初始条件$f_{0}=0$，$f_{1}=1$的解。  

【解】这个递推关系的方程$x^{2}-x-1=0$，解得它的两个根为：  

$$
x_{1}={\frac{1+{\sqrt{5}}}{2}}\,,\;\;x_{2}={\frac{1-{\sqrt{5}}}{2}}
$$

由此得到递推关系的通解：  

$$
f_{n}=A_{1}\times\left({\frac{1+{\sqrt{5}}}{2}}\right)^{n}+A_{2}\times\left({\frac{1-{\sqrt{5}}}{2}}\right)^{n}
$$

把$f_{0}=0$，$f_{1}=1$代入上式，得：  

$$
\left\{\begin{array}{c}{{A_{1}+A_{2}=0}}\\ {{\displaystyle{\frac{1+\sqrt{5}}{2}}A_{1}+\frac{1-\sqrt{5}}{2}A_{2}=1}}\end{array}\right.
$$

解这个线性方程组，得：$A_{1}=1/\sqrt{5}$，$A_{2}=-1/\sqrt{5}$。  

因此，所求递推关系为：  

$$
\textstyle f_{n}={\frac{1}{\sqrt{5}}}\times\left({\frac{1+{\sqrt{5}}}{2}}\right)^{n}-{\frac{1}{\sqrt{5}}}\times\left({\frac{1-{\sqrt{5}}}{2}}\right)^{n}
$$

上式即为满足初始条件的解。□  

### 1.4.3 生成函数计数法  

前面我们通过考察数列通项之间的递推关系建立求解问题的动态演化模型并据此实现对有限集合的计数。现在我们仍然以数列为基本工具，通过以数列为系数建立无穷次多项式或幂级数的方式找到联结离散数学与连续数学的桥梁，巧妙地将离散数学中离散量的计数问题转化为连续数学中对幂级数的处理问题。这种幂级数我们称之为数列的生成函数或母函数。生成函数是组合分析与计数的重要工具，运用生成函数求解某些给定条件下的组合数、排列数，以及求解某些递推关系时，有时能获得意想不到的效果。  

【定义1.28】设$\cdot x$为一抽象符号，$a_{n}$（$(n=0{,}1{,}2,\cdots)$）为实数。若函数$F(x)$可表示成  

$$
F(x)=a_{0}+a_{1}x+a_{2}x^{2}+\cdots+a_{n}x^{n}+\cdots
$$

则称$\cdot F(x)$为数列$a_{n}$$_{\imath}\left(n=0,\!1,\!2,\cdots\right)$）的生成函数。并约定，若某个$\cdot a_{i}=0(i=0,1,2,\cdots)$，则$a_{i}x^{i}$项可以略去。  

比如$|F(x)=1+x+x^{2}+x^{3}+\cdots+x^{n}+\cdots$是无穷序列1，1，1，⋯的生成函数。  

对于一个有限序列$a_{0}\,,\;\;a_{1}\,,\;\;\cdots,\;\;a_{n}\,.$，可以通过将$a_{n}$之后的项定义为0 的方式扩充成一个无限序列，由此定义生成函数。对于有限序列，当$j>n$时没有形如$|a_{j}x^{j}$的项出现，即有：  

$$
G(x)=a_{0}+a_{1}x+\cdots+a_{n}x^{n}
$$

【例题1.69】序列$1,\ \ 1,\ \ 1,\ \ 1,\ \ 1,\ \ 1$ 得生成函数是什么？【解】1，1，1，1，1，1 的生成函数是：$1+x+x^{2}+x^{3}+x^{4}+x^{5}$。因为：  

$$
{\frac{(x^{6}-1)}{(x-1)}}=1+x+x^{2}+x^{3}+x^{4}+x^{5}
$$

故此$G(x)=(x^{6}-1)/(x-1)$是序列$1,\ \ 1,\ \ 1,\ \ 1,\ \ 1,\ \ 1$ 的生成函数。□下面定理给出了生成函数在基于无穷重$m$ 元重集的可重复$r$ 组合数计算中的作用：  

【定理1.23】无穷重数的$m$元重集$\left\{\infty\cdot a_{1},\ \infty\cdot a_{2},\ \ \cdots,\ \infty\cdot a_{m-1},\ \infty\cdot a_{m}\right\}|$的$r$-组合数的母函数是$f(x)=(1+x+x^{2}+\cdots+x^{n}+\cdots)^{m}$，$f(x)$中$x^{r}$的系数等于上述$r-$组合数。  

【证明】若用$x^{i}$表示取$i$个$a_{1}$(或$a_{2}$，⋯，或$\grave{a_{m_{\perp}}}$)，那么$1+x+x^{2}+\cdots+x^{n}+\cdots$表示取$a_{1}$(或$a_{2}$，⋯，或$a_{m}$)的各种可能，故有：  

$$
(1+x+x^{2}+\cdots+x^{n}+\cdots)^{m}
$$

中$x^{r}$的系数，便是取$i_{1}$个$a_{1}$，$i_{2}$个$a_{2}$，⋯，$i_{m}$个$a_{m}$，使得$\cdot i_{1}+i_{2}+\cdots+i_{m}=r$的取法总数。也就是说$f(x)=(1+x+x^{2}+\cdots+x^{n}+\cdots)^{m}$是所求组合数的生成函数。  

$f(x)=(1+x+x^{2}+\cdots+x^{n}+\cdots)^{m}=1/(1-x)^{m}.$ 对等式$\,11+x+x^{2}+\cdots+x^{n}+\cdots=1/(1-x)$等式两边不断求导，可得：  

$$
f(x)={\frac{1}{(1-x)\ ^{m}}}=1+m x+{\frac{m(m+1)}{2!}}x^{2}+\cdots+{\frac{m(m+1)\cdots(m+r-1)}{r!}}x^{r}+\cdots
$$

或  

$$
f(x)={\frac{1}{(1-x)^{\ m}}}=1+m x+{\frac{m(m+1)}{2!}}x^{2}+\cdots+C{\bigl(}m+r-1\,,\ r{\bigr)}x^{r}+\cdots
$$

即 $m$  元重集 $\left\{\infty\cdot a_{1},\ \infty\cdot a_{2},\ \ \cdots,\ \infty\cdot a_{m-1},\ \infty\cdot a_{m}\right\}$ 的 $r\cdot$ - 组合数为 $C\!\left(m+r-1,\,\,r\right)$ 。□  

【例题1.70】设有$1\mathrm{g}$ 重的砝码一枚，${3\mathrm{g}}$ 重的砝码三枚，$7\mathrm{g}$ 重的砝码两枚。问：用这6枚砝码，能称哪几种重量的物体，有多少种称法（用不同的砝码组合视为不同称法）。  

【解】设用这六枚砝码能称$r\mathbf{g}$ 重量的物体，且有$a_{r}$种称法，则$\{a_{r}\}$的生成函数为：  

$$
f(x)=(1+x)(1+x^{3}+x^{6}+x^{9})(1+x^{7}+x^{14})
$$

展开后，得到：  

$$
\begin{array}{c}{{f(x)=1+x+x^{3}+x^{4}+x^{6}+2x^{7}+x^{8}+x^{9}+2x^{10}+x^{11}+x^{13}+2x^{14}+x^{15}}}\\ {{{}~~~~~~~~~~~~~~~~~+x^{16}+2x^{17}+x^{18}+x^{20}+x^{21}+x^{23}+x^{24}}}\end{array}
$$

因此，在重量不超过$24\mathrm{g}$ 重的物体中，除了$\mathrm{2g,~5g,~12g,~19g,~22g}$的不能称外，其它重量的物体都可以称。其中，$7\mathrm{g},\ 10\mathrm{g},\ 14\mathrm{g},\ 17\mathrm{g}$ 的物体，都有两种不同称法。□  

【例题1.71】求$.e_{1}+e_{2}+e_{3}=17$的解的个数，其中$e_{1}$，$e_{2}$，$e_{3}$是非负整数，满足$2\leq e_{1}\leq$5，$3\leq e_{2}\leq6$，$4\leq e_{3}\leq7\,\mathrm{\circ}$。  

【解】具有上述限制的解的个数是生成函数：  

$$
(x^{2}+x^{3}+x^{4}+x^{5})\ (x^{3}+x^{4}+x^{5}+x^{6})\ (x^{4}+x^{5}+x^{6}+x^{7})
$$

的展开式中$x^{17}$的系数。这是因为我们在乘积中得到等于$\cdot x^{17}$的项是通过在第一个和中取$x^{e_{1}}$，在第二个和中取$x^{e_{2}}$，在第三个和中取$x^{e_{3}}$，其中幂指数$.e_{1}$，$e_{2}$和$e_{3}$满足方程$\,[e_{1}+e_{2}+e_{3}=17$和给定的限制。  

不难看出在这个乘积中的$x^{17}$得系数是3。因此，存在3 个解。□  

【例题1.72】把8 块相同的饼干分给3 个不同的孩子，如果每个孩子至少接受2 块饼干并且不超过4 块饼干，那么有多少种不同的分配方式？  

【解】每个孩子至少接受2 块、3 块或4 块饼干，故此，对于每个孩子，生成函数中都存在一个$(\,x^{2}+x^{3}+x^{4}\,)$）因式与之对应。一共有3 个孩子，故生成函数为：  

$$
(x^{2}+x^{3}+x^{4})^{3}
$$

上式展开式中$x^{8}$的系数6 即为所求方案数，故有6 种分配方案。□  

## §1.5 习题 <abd>

1. 列出下列集合的所有元素：  

（1）大于0 且小于20 的素数组成的集合； $\{(x,y)|x,y\in N\land0\leq x\leq2\land3\leq y\leq5\land x+y=5\};$ （3）大于10 且小于30 的偶数组成的集合。  

2. 设$E$是某高中一年级学生集合，$A$，$B$是$E$的子集，且$A=\{x|x$是男生}，$B=$$\{x|x$是校足球队队员}，试用描述法表示$A\cup B$，$A\cap B$，$A-B$，$B-A$，$A\oplus\mathtt{B}$，$\bar{A},\ \bar{B}$.  

3. 判断下面每组的两个集合是否相等：  

$$
A=\{3,\!1,\!1,\!5,\!5\},B=\{1,\!3,\!5\};\qquad\quad(2)\;\;A{=}\emptyset,\!B{=}\{\emptyset\};
$$

(3) $A=\varnothing.$, $B=\{x|x$是有理数并且是无理数}；  $(4)A=\{1,\!2,\emptyset\},\!B=\{\{\emptyset\},\!2,\!1\}.$4．求下列集合的幂集。  

$$
\{1,\ 2,\ 3\};\ (\ 2)\ \ \{\emptyset,\ \{\emptyset\}\};\ (\ 3)\ \{\emptyset,\ \ a,\ \{\ a\ \}\}\ (\ 4)\ \ \{1,\ 2,\ 3,\ 4\}
$$

5．设集合$E=\{1,\!2,\!3,\!4,\!5\}$，$A=\{1,5\}$，$B=\{2{,}3{,}5\}$，$C=\{2,4\}$，求下列集合：  

$$
\gamma\,\bar{B};\;\;(\,2\,)\;\;\;(A\cup B\,)\;-\;C;\;\;(\,3\,)\;\;P(A)\!-\!P(C);\;\;(\,4\,)\;\;A\oplus\bar{C}
$$

6. 化简下列集合：  

$\{2,3\}\cup\{\{2\},\ \ \{3\}\}\cup\{2,\ \ \{3\}\}\cup\{\{2\},\ \ 3\};$ $((A\cup B\cup C)\ \ \cap(A\cup B))-\ \ ((A\cup(B-C))\cap A)\,\circ$  

7．求下列集合的基数和每个集合的幂集。  

$$
\{1,2,3\};~(2)~\{1,~\{2,3\}\};~(3)~\{\{1,~\{2,3\}\}\};~(4)~\{\{\emptyset,~2\},~\{2\}\}\circ\Phi
$$

8. 试证明下面公式：  

$$
A\cap\emptyset=\emptyset\;\;;\;\;(\,2\,)\;\;A\cap A=\mathrm{A}\;\;;\;\;(\,3\,)\;\;A\cap(A\cup B)=A_{\circ}
$$

9. 设𝐴和$B$是任意集合，试问：  

（1）若$A-B=B$，则𝐴和$B$是什么关系？ （2）若$\boldsymbol{A}-\boldsymbol{\mathrm{B}}=\boldsymbol{\mathrm{B}}-\boldsymbol{\mathrm{A}}$，则𝐴和$B$又是什么关系？  

10. 设𝐴和$B$为任意集合，证明：$A\oplus B=(A\cup B)\cap\;\;((\cup\bar{B})=(A\cup B)-(A\cap B)$  

11．证明下列等式：  
$$
(A\cup B)\cap(\bar{A}\cup C)=(A\cap C)\cup(\bar{A}\cap B);
$$

$$
(A\cup B)\cap(A\cup C)=A\cup(B\cap C)\,.
$$

12. 简要说明{2}与$\{\{2\}\}$的区别，列出它们的元素与子集。13. 假设全集$U=\{1,\!2,\!3,\!4,\!5,\!6,\!7,\!8,\!9,\!10\}$,使用比特串表示下面的集合。  

14．证明$\{\{a\},\{a,b\}\}=\{\{c\},\{c,d\}\}$当且仅当$a=c$，$b=d$，其中$a,b,c,d$是任意给定的。15. 用归纳法证明，对一切正整数$_n$，有：  

$$
(1+2+\cdots+n)^{2}=1^{3}+2^{3}+\cdots+n^{3}
$$

16. 对所有自然数$n$，证明下列每一关系式：  

$$
\sum_{i=0}^{n}i^{2}={\frac{n(n+1)(2n+1)}{6}}\qquad(\,2\,)\ \sum_{i=0}^{n}(2i+1)=(n+1)^{2}
$$

$$
\sum_{i=0}^{n}i(i!)=(n+1)!-1
$$

17. 证明：对任何自然数，有$2.5^{n}\geq n^{2}$  

18. 一个体育团体共25 人，其中14 人会踢足球，12 人会打乒乓球，6 人既会踢足球又会打乒乓球，5 人及会打篮球又会踢足球，还有2 人这三种球都会打，而6 个会打篮球的人都会打另一种球(指这三种球). 求不会打这三种球的人数.  

19．某班有学生60 人，其中有38 人学习Java 语言，有16 人学习$C$语言，有21 人学习$C^{++}$语言；有3 人这三种语言都学习，有2 人这三种语言都不学习，问仅学习两门语言的学生数是多少?  

20. 一个棋手有11 周时间准备锦标赛，他决定每天至少下一盘棋，一周中下棋的次数  
21. 在边长为1 的正方形内任取5 点，则其中至少有两点，它们之间的距离不超过√2.
21.  证明：任选8 个整数用7 去除，则它们当中至少有两个数有相同的余数。 
21. 一个学生用37 天时间来准备考试。根据自己的经验她知道复习所需时间不会超过60 小时，而她又希望每天至少复习一个小时。证明：不管如何安排每天得复习时数，总有连续的若干日，其间她恰好复习了13 个小时。
21. 设𝐴、𝐵、$C$是3 个城市，从𝐴到𝐵有3 条路，从𝐵到𝐶有2 条路，从𝐴直接到𝐶有4 条路，请问从 $A$  到 𝐶 有多少种不同的方法 ?  
21. 设𝐴、$B$为二元集和五元集，则从𝐴到𝐵有多少个函数？其中有多少个单射函数？ 
21.   9 个人坐成一个圆圈，有多少种坐法？ 
21.  3 男3 女围着圆桌而坐，男、女交替就坐，请问有多少种坐法？ 
21.  从某班选6 个男生、3 个女生排成一排（1）如果女生不相邻，有多少种排法？（2）如果排成一圈，有多少种排法? 
21. 从一副52 张（不含大小王）的扑克牌中，（1）至少摸多少张，就可保证有3 张同花色？（2）至少摸多少张，就可保证有3 张不同花色？（3）至少摸多少张就可保证有2 张牌是黑桃？（4）至少摸多少张就可保证有1 张$A?$
21.  在某次考试中，要求学生从10 个要回答的问题中选8 个，问有多少种选法？如果前3 个问题必须回答，那么又有多少种选法？ 
21.  一个俱乐部有10 名男成员和12 名女成员，现在从中选出4 人组成一个委员会，若：（1）至少有2 名女的；（2）除了上述要求外，又指定𝑀，$N$两女士不能同时入选。各有多少种不同的选法？ 
21.  将5 个物体放入6 个盒子中有多少种方式，如果： （1）物体与盒子都是有标号的？      （2）物体是有标号的，但是盒子没有标号？ （3）物体没有标号，但是盒子有标号？（4）物体和盒子都没有标号？
21. 将10 个不可辨别的球放入8 个可辨别的盒子里，共有多少种方法？ 
21.  使用EVERGREEN 中的字母可以构造多少个至少含有5 个字符的串？ 
21.  书架上12 本书排成一排，从中选5 本且使得没有2 本书相邻，有多少种方法？ 
21. 一楼梯有𝑛级台阶，某人由下向上走. 若每一步只能跨一级或两级楼梯，问他从地面走到第$n$级楼梯有多少种走法？ 
21. 将10 个不可辨别的球放入8 个可辨别的盒子里，共有多少种方法？ 
21. 从整数1,2，…，100 中选取两个数，使得它们的差正好是7，有多少种不同的选法？若选出的两个数之差小于等于7，有多少种不同的选法？ 
21.  用高级语言设计程序，从1,2,3,4,5 开始生成{1,2,3,4,5}的所有全排列. 
21.  写一个程序：输入两个正整数$_n$和$r$，如果$r\leq n$，那么返回从$_n$个对象中每次取$\boldsymbol{.r}$个对象的与组合数。  