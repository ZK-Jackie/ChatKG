# 第一章  集合与计数基础  

离散数学以各种离散量的概念、关系、结构和运算性质为研究对象，以充分满足计算机相关学科对离散量进行表示和处理的数学需求。正如微积分支撑了作为近代工业文明基础的物理学，离散数学支撑了作为现代信息社会基础的计算机科学。事实上，离散数学是一门综合的数学学科，由多个数学分支组成，包括集合论、数理逻辑、图论、数论、组合分析、代数结构等，分别从不同角度出发研究各种离散量之间数与形的关系。本章比较系统地介绍集合论与计数的基础知识， 它们是学习各个离散数学分支所必备的入门基础。 尽管读者可能已 经从其它途径获悉其中某些概念，但是要想掌握作为支撑整个计算机学科基石的离散数学，就必须重新审视和系统地学习这些入门知识。


## § 1.1 集合的基本知识  

集合论是整个数学的基础和出发点， 当然也是离散数学的基础和出发点， 要学好离散数 学，首先必须学习集合论的有关知识。学习集合论还有一个非常重要的原因，那就是计算机的各个领域都与集合论有着极其密切的关系。因为集合不仅可以表示数值信息，而且还可表示和处理各种非数值信息，例如对各种数据的增删查改、对数据之间关系的描述等等，甚至可以让这些数据信息像数值一样进行运算。在本节，我们将学习集合论的基本知识，包括数学危机与集合论的由来、集合的概念与表示、集合的基本运算及运算性质等。  

### 1.1.1 数学危机与集合论  

众所周知，数学是整个自然科学体系的基础，人们对自然界的认识结论一般需要通过数学演算或数学证明来保证其正确性。打铁还需自身硬，从理论上说，数学既然能够作为一种可以鉴别认识结论真伪的基本工具，那么其自身就不应该有任何错误或矛盾。但实际情况并没有这么简单，千百年来陆续出现的希帕索斯悖论、贝克莱悖论、理发师悖论，使得数学理论的正确性面临一次又一次严峻挑战，历史上称之为数学危机。为拯救数学于危机之中，捍卫数学理论的正确性，无数杰出科学家做了大量深入系统的研究工作。直到在十九世纪初，柯西、维尔斯特拉斯等数学家通过创立极限理论，终于解决了希帕索斯悖论、贝克莱悖论问题，为实数理论和微积分的正确性奠定了坚实的基础。  

但是，极限理论在逻辑上还有需要完善的地方.因为极限概念由自然数定义，要保证极限理论的正确性，首先必须要保证自然数概念及相关理论的正确性。虽然自然数是大家熟知且常用的一个基本概念，大家从小学就开始学习自然数的计数和运算，但是对自然数概念的理解主要还是依靠经验。为保证极限理论的正确性，必须对自然数进行正式的数学定义。数学家冯·诺依曼用集合的方式定义了自然数并取得成功。由此，对整个数学理论体系正确性和无矛盾性的论证就转化为对集合论的正确性和无矛盾性的论证，集合论成为整个数学大厦的根基。尽管卢素提出理发师悖论指出了集合论的局限性，一度动摇了这个根基，但是有惊无险，策莫罗提出的公理化集合论有效解决了理发师悖论问题，不仅稳定了数学根基，而且进一步确立了集合论在整个数学大厦中的基础地位。集合论被誉为十九世纪最伟大的数学成就，集合论的创始人康托被誉为整个十九世纪最伟大的数学家，没有之一。  

### 1.1.2 集合的概念与表示  

集合论从一个比数更加基本的概念——集合出发，定义出数和数的运算，进而演化出整个数学学科的理论体系。本小节将从集合的基本概念出发，介绍集合论中最为基础的知识，包括集合概念的含义、元素的概念与性质、集合的表示方法、集合之间的相等与包含关系、若干常用的特殊集合等。  

#### 一、集合与元素的概念  

我们知道，如果要定义一个概念，必须要使用其它概念。例如，在“边长相等的三角形是等边三角形”这个定义中，就要用到边长、相等、三角形等概念。而要定义其它概念就必须使用另外其它的概念，而且不能循环使用。如此下去，必然会存在一些最原始的概念作为一切概念的出发点，只能使用这些原始概念来定义其它概念而不能用其它概念来定义这些原始概念。也就是说，这些原始概念的含义是不言自明的，只能通过其它的概念去理解或解释其含义，而不能对其下严格的定义。例如，几何学中的点、线、面的概念就是原始概念，我们都知道这些概念的具体含义，但它们是没有定义的。  

集合就是这样一种没有定义的原始概念，我们可对其含义进行如下描述或理解：  

所谓集合，就是在指定范围内满足给定条件、能相互区分的所有对象构成的总体，集合中每个对象称为该集合的元素。  

（1） 硬币有两面——正面和反面，“正面、反面”构成一集合。（2） 计算机内存的全体单元构成一集合。 （3） 所有三角形构成的三角形集合。 （4） 所有正整数的集合。  

根据集合概念的上述解释，不难看出元素与集合之间的归属关系是明确的：对于任意一个集合和任意一个对象，该对象要么属于这个集合，要么不属于这个集合，两者必居其一且仅居其一。除此之外，还可看出集合中每个元素必须满足如下三条基本性质：  

1。互异性：集合中的每个元素都是互不相同的，凡是相同的元素都视为同一元素。例如集合{5, 5, 6}应该理解为$\{5,\,6\}$。  

2。可分性：集合中的每个元素都是可以明确加以区分的对象。3。无序性：集合中的元素之间是没有次序的。例如：{5, 6}和{6, 5}应视为同一集合。  

通常用带下标或不带下标的大写英文字母$A$，$B$，$C$，…表示集合，用带下标或不带下标的小写英文字母$x$，y，$z$，…表示集合中的对象或元素。  

【定义1.1】对于任意一个对象$x$ 和任意一个集合𝐴，当对象$x$ 是集合$\cdot A$中元素时，称$x$属于𝑨，记为$x\in A$；当对象$x$ 不是集合$A$ 中元素时，称$_x$ 不属于$A$，记为$x\notin A$。  

罗素悖论产生的原因是集合的定义不受限制。经过研究发现如果允许将集合作为其自身的元素，则会产生一些矛盾或悖论.因此，德国数学家康托之后创立的许多公理化集合论都直接或间接地限制集合成为它自己的元素，有效避免了罗素悖论。  

#### 二、集合的表示方法  

集合的表示方法主要有枚举法、描述法、归纳法和文氏图法。  

##### 1.枚举法  

所谓枚举法，就是列出集合中所有元素或者可以看出元素变化规律的部分元素。对于一个集合，如果该集合中仅含个数较少的有限个元素，或者集合中元素之间有明显关系时，通常使用枚举法表示该集合。  



枚举法表示的是集合的外延，是一种显示表示方法，具有直观性强、易于理解等优点。但对于元素数目较多的集合，枚举法显然不是一种有效方法、甚至不可行。从计算机的角度看，如果一次性将大量数据输入计算机，将占据大量内存。因此，有时需要使用描述法、归纳法等其它方式来表示集合。  

##### 2.描述法  

所谓描述法，就是描述集合中元素所具备的某种特性来表示集合。通常用数学符号来表示集合中的任意元素都具有性质$P$。集合描述法表示的具体形式如下：  

$$
A=\{x|P(x)\}
$$

其中：符号$P(x)$表示元素$x$具有性质$P$  



描述法表示的是集合的内涵，是一种隐式表示方法，表达内容具有一定的抽象性和普适性。描述法的优点是不需要列出集合中全部元素，只需给出集合中元素的描述特性。因此，描述法的表达能力很强，既可表示有限集合，也可表示无限集合。  

##### 3.归纳法  

归纳法是一种基于构造策略的表示方法。该方法通过定义一些规则把集合构造出来，由此实现对集合的表示。具体的构造规则通常由如下三个部分组成：  

（1）基础部分：确定集合中某些最基本的元素；（2）归纳部分：确定由集合中已有元素构造出新元素的规则或方法；（3）边界部分：确定集合在通过构造元素实现不断扩张的过程中不能超过的界限。  

上述基础部分决定了该集合为非空集合并确定了集合的初始元素，归纳部分则根据集合中初始元素通过一定的规则或方法不断构造出新的元素，是集合不断扩张的过程，边界部分则是对集合的扩张进行限制，给出了集合的边界，由此构成一个具有确定边界的集合。  

总之，基础部分和归纳部分确定了集合中至少包含哪些元素，边界部分则是确定了集合中最多包含哪些元素。  

集合归纳表示法的构造性特点非常适合用计算机进行处理，在计算机相关领域得到广泛应用。在后续内容中，我们将会看到，通过用归纳法构造集合的方式来定义一个概念或设计一个算法，在计算机相关领域是一件屡见不鲜的事情。  



##### 4.文氏图法  

文氏图（或称文恩图）以英国数学家文恩的名字命名.文恩在1881 年介绍了这种图的使用方法。文氏图用长方形表示全集，用长方形内部的圆或其它几何图形表示普通集合。文氏图常用于形象地表示集合之间的关系。  



#### 三、集合与集合的关系  

如前所述，集合中凡是相同的元素都看成是同一个元素，而且集合中元素之间的排列次序也不加区分，或者说是无序的。如此一来，集合就完全取决于集合中的元素。换句话说，对于任意两个集合，如果这两个集合中具有完全相同的元素，那么这两个集合就是完全一样的。或者说，这两个集合是相等的。于是得到如下关于集合相等的外延性原理：  

【定理1.1】（外延性原理）对于任意的集合$A$ 和集合$B$，$\pmb{A}$ 与$\pmb{B}$ 相等当且仅当两者具有相同元素；或者说，$\pmb{A}$ 与$\pmb{B}$ 相等当且仅当$A$ 中每个元素都属于$B$ 且$B$ 中每个元素都属于$A$。如果集合$A$ 与$B$ 相等，则记为$A=B$；否则，如果$A$ 与$B$ 不相等，则记为$A\ne B$。  



【定理1.2】集合的相等关系具有如下三条基本性质： （1）自反性：对于任意给定的集合$A$，成立$A{=}A$； （2）对称性：对于任意给定的两个集合$A$ 和$B$，若有$A{=}B$，则有$B{=}A$；  

（3）传递性：对于任意三个集合$A$、$B$、$C$，若有$A{=}B$ 且$B{=}C$，则有$_{A=C}$  



由【例题1.9】可以看出，集合$C$ 中的每个元素都是集合$A$ 中的元素，此时$A$ 完全包含了$C$，可将$C$ 看成是$A$ 的一个部分，由此得到如下集合的包含关系和子集的概念：  

【定义1.2】对于任意两个集合$A$ 和$B$，若$B$ 中的每个元素都是$A$ 中的元素，则称$\pmb{B}$ 包含于$\pmb{A}$（或$\pmb{A}$ 包含$\pmb{B}$），记为$B\subseteq A$，亦称$\pmb{B}$ 是$\pmb{A}$ 的子集，称符号$\subseteq$为集合之间的包含关系。如果$B$ 不能被$A$ 所包含，则称$\pmb{B}$ 不是$\pmb{A}$ 的子集，记为$B\nsubseteq A$。  

【定理1.3】集合的包含关系具有如下三条基本性质：（1）自反性：对于任意给定的集合$A$，都成立$A\subseteq A$  

（2）反对称性：对于任意两个集合$A$ 和$B$，$A{=}B$当且仅当$A\subseteq B$且$B\subseteq A$（3）传递性：对于任意三个集合$A$、$B$、$C$，若$A\subseteq B$且$B\subseteq C$，则$A\subseteq C$  



【定义1.3】对于任意两个集合$A$ 和$B$，如果$B\subseteq A$且$A\neq B$，则称$B$ 是$A$ 的真子集，记为$\mathrm{B}\subset\mathrm{A}$，并称符号$\subset$为集合之间的真包含关系。  



#### 四、常用的特殊集合  

集合论中有一些非常重要和常用的特殊集合，它们分别具有一些特殊性质。离散数学中很多基本概念的定义及其性质讨论都离不开它们。下面具体介绍这些特殊集合的基本概念及性质，包括空集、全集、有限集、无限集、子集、幂集等。  

##### 1.空集与全集  

通常将不包含任何元素的集合定义为空集，即有：  

【定义1.4】不含任何元素的集合称为空集，记作$\varnothing$。 

【定理1.4】空集是一切集合的子集并且是绝对唯一的。  

在日常生活和实际工作中，对任何一个问题的讨论和处理一般都是在一个相对固定的范围之内。这个范围构成了问题讨论的默认论域或背景，由此得到如下全集的概念：  

【定义1.5】相对固定范围之内所有元素组成的集合称为全集，通常用$U$ 表示。  

在集合的文氏图表示法中，一般用矩形表示全集，圆形表示非全集集合。 对于每个具体的问题，默认论域或背景应当是唯一的，否则就会引起该问题在概念理解上的歧义和混乱。但是，对于不同的问题，通常具有与之相应的不同默认论域或背景，因而具有与之相应的不同全集。因此，全集是相对唯一的。  

##### 2.有限集与无限集  

在集合的理论研究和实际应用中，经常需要对集合中元素的数量规模进行度量，由此得到集合基数的概念，具体定义如下：  

【定义1.6】对于任意集合$A$，$A$ 中所含元素的个数称为$A$ 的基数，记为$|A|\circ$  



【定义1.7】对于任意给定的集合$A$，如果它的基数是一个有限数，则称该集合是一个有限集，否则称之为无限集。  

有限集中元素的个数是有限的，无限集中元素的个数是无限的。无论从概念上还是方法看，有限集和无限集的规模度量或计数都有着本质上的区别，我们将在后续相关内容中对此做具体介绍和分析。  

##### 3.有限子集与幂集  

对于有限集合，我们可以构造出相关的子集并对子集进行计数，具体定义如下：  

【定义1.8】设$A$ 是任一有限集合，若$A$ 中含有$n$ 个元素，即有$\left|A\right|{=}n$，则称$A$ 为$n$ 元集合。对于$A$ 的任意一个子集$B$，若$B$ 中含有$m$ 个元素，则称$B$ 为$A$ 的$m$ 元子集。  

也就是说：$n$ 元集合共有$2^{n}$个不同的子集。  

事实上，对于任意一个集合$A$，还可以将其每个子集分别作为一个元素构成一个新的集合，由此得到如下幂集的概念：  

【定义1.9】假设$A$ 任意一个给定的集合，以$A$ 的所有不同子集为元素构成的集合称为$A$ 的幂集，记为$P(A)$或$2^{A}$，即有：  

$$
P(A)=\{B|B\subseteq A\}
$$

对于以集合作为元素的集合，亦即集合的集合，通常称之为集族。由此可知，幂集其实就是一种特殊的集族。  



### 1.1.3 集合的基本运算  

我们学过实数的加、减、乘、除、乘方、开方等各种运算，通过这些运算可由已有实数生成新的实数。事实上，从数学方法论的角度来看，运算一种非常基本的数学手段。对于任何一个数学概念，在确定其内涵之后，我们总是通过构造概念运算的方式产生新的概念，代数式通过运算可以产生新的代数式、函数通过运算可以产生新的函数、命题通过运算可以产生新的命题、矩阵通过运算可以产生新的矩阵，等等。对集合的学习和探讨也是如此，在掌握集合的基本概念之后，下面进一步学习集合的基本运算及其性质，通过运算机制从已有集合中构造出新的集合，具体包括交运算、并运算、差运算、补运算和对称差运算。  

#### 一、交运算与并运算  

有时候需要将两个集合的中的元素合并起来构成一个新的集合，由此得到集合并运算的概念；有时需要将两个集合中的共同部分取出来构成一个新的集合，由此得到集合交运算的概念。这两个运算的具体定义如下：  

【定义1.10】对于任意两个集合$A$ 和$B$， $A\cup B=\left\{x\middle|x\in A\right.$或者$\cdot x\in B\}$称为$A$ 和$B$ 并集，亦称$A\cup B$为集合$A$ 和$B$ 的并运算；$A\cap B=\{x|x\in A$并且$x\in B.$}称为$A$ 和$B$ 交集，亦  称$A\cap B$为集合$A$ 和$B$ 的交运算。  

由上述定义可知，对于任意两个集合$A$ 和$B$，两者并运算的结果产生一个新集合，该集合是由$A$ 和$B$ 中元素合并而成，如图$1{\cdot}2(a)$所示；两者交运算结果产生另外一个新集合，该集合由$A$ 和$B$ 的共同部分组成，或者说由同时属于$A$ 和$B$ 的元素组成，如图1-2(b)所示。  

![](images/4fb6199ac21b049856dda6721c89f3d4f0739da1971ad0bbc7426e82d630f6b5.jpg)  
图1-2 并、交运算的文氏图  



不难看出，并运算和交运算其实分别就是实数加法和乘法在集合论领域的推广。根据并运算与交运算的定义，不难证明它们满足如下基本运算性质：  

(1) 幂等律：对于任意集合$A$，有：$A\cup A=A$；$A\cap A=A$ (2) 交换律：对于任意两个集合$A$ 和$B$，有：$A\cup B=B\cup A$；$A\cap B=B\cap A$ (3) 结合律：对于任意三个集合$A,\ B$ 和$C$，有：  

$$
(A\cup B)\cup C=A\cup(B\cup C);\;\;(A\cap B)\cap C=A\cap(B\cap C)
$$

(4) 同一律：对于任意集合$A$，有：$A\cup\varnothing=A$；$A\cap U=A$(5) 零  律：对于任意集合$A$，有：$A\cup U=U$；$A\cap\varnothing=\varnothing$(6) 分配律：对于任意三个集合$A,\ B$ 和$C$，有：  

$$
\begin{array}{r}{A\cap(B\cup C)=(A\cap B)\cup(A\cap C)}\\ {A\cup(B\cap C)=(A\cup B)\cap(A\cup C)}\end{array}
$$

(7) 吸收律：对于任意两个集合$A$ 和$B$，有：  

$$
A\cup(A\cap B)=A;\,\,\,A\cap(A\cup B)=A
$$

(8) 对于任意两个集合$A$ 和$B$，有：  

$A\subseteq B$当且仅当$A\cup B=B$ $A\subseteq B$当且仅当$A\cap B=A$  

其中$U$和$\varnothing$分别表示全集和空集。  

上述性质既可根据文氏图简单直观地得到，也可根据集合相等的定义给出数学证明。现仅以分配律为例进行证明，读者可自行给出其余性质的证明。  



上述两个集合的并与交运算可以推广到如下多个集合的情形：  

【定义1.11】对于任意$n$ 个集合$A_{1},A_{2},\ldots,A_{n}$，其交运算和并运算分别为：  

$A_{1}\cap A_{2}\cap,\ldots,\cap A_{n}=\{x|x\in A_{1}$ 或 ${\boldsymbol{x}}\in A_{2}$ 或 …  或 $\textstyle{\boldsymbol{x}}\in A_{n}]$ }   $A_{1}\cup A_{2}\cup,\ldots,\cup A_{n}=\{x|x\in A_{1}$ 且 $x\in A_{2}$ 且 …  且 $x\in A_{n}\}$  



#### 二、差运算与补运算  

对于任意给定的两个集合$A$ 和$B$，有时需要将属于$A$ 但不属于$B$ 的所有元素取出来构成一个新的集合，由此得到如下集合差运算的概念：  

【定义1.12】对于任意给定的两个集合$A$ 和$B$，集合$\cdot A-B=\{x|x\in A$并且$x\notin B\}$称为$A$ 与$B$ 的差集，$A-B$亦称为集合𝐴与$B$的差运算；令$U$表示全集，则${\bar{A}}=U-A=\{x|x\in$$U$且$x\notin A\}$称为$A$ 的补集，亦称$\bar{A}$为对集合$A$ 的补运算。  

一般来说，所谓两个对象互补，是指这两个对象之间无共同部分并且若将两者合并则构成一个完整的整体。如果将全集𝑈看成是一个完整的整体，那么任何一个集合与它的补集显然构成一种互补关系。图1-3 为集合差运算和补运算的文氏图。  

![](images/3dd3ff26327d44646f11d3b3940708dbd5563cf42578e139e0a56534e35c5eff.jpg)  
图1-3 差、补运算的文氏图  



不难看出，集合的差运算和补运算其实就是实数减法运算在集合论中的推广。根据集合差运算与补运算的定义，不难证明它们满足如下基本运算性质：  

(1) 矛盾律：对于任意给定的集合$A$，有：$A\cap{\bar{A}}=\emptyset$；(2) 排中律：对于任意给定的集合$A$，有：$A\cup\bar{A}=U$  

(3) 双重否定律：对于任意给定的集合$A$，有：$\bar{\bar{A}}=A$  

(4) 德摩根律：对于任意给定的两个集合$A$ 和$B$，有： $\overline{{A\cup B}}=\bar{A}\cap\bar{B},\,\,\,\overline{{A\cap B}}=\bar{A}\cup\bar{B}$  

(5) 对于任意给定的三个集合$A$、$B$ 和$C$，有：  

$A\cup(B\cup C)=(A\cup B)\cup C;\;A\cap(B\cap C)=(A\cap B)\cap C\circ$ $A\cap(B\cup C)=(A\cap B)\cup(A\cap C);\;A\cup(B\cap C)=(A\cup B)\cap(A\cup C)\,.$ $A\cap(A\cup B)=A;\,\,\,A\cup(A\cap B)=A\,.$  

现仅以德摩根律为例给出上述运算性质的证明，读者可自行给出其余证明。【例题1.22】对于任意给定的两个集合$A$ 和$B$，证明如下德摩根律：  

$$
{\overline{{A\cup B}}}={\bar{A}}\cap{\overline{{B}}}\,;\;{\overline{{A\cap B}}}={\bar{A}}\cup{\bar{B}}
$$



#### 三、环和运算与环积运算  

对于任意给定的两个集合，有时需要对这两个集合进行比较并找出其中差异，由此得到如下集合对称差运算或者环和运算的概念：  

【定义1.13】对于任意给定的两个集合$A$ 和$B$，集合$A\oplus B=(A-B)\cup(B-A)$称为对称差集合或者环和集合，$A\oplus B$亦称为集合$A$与$B$ 对称差运算或环和运算。  

![](images/cda5b5845563c39065ac8e7bd4a9676d4d5a525cdb5bfa2dca42f0b84bd76fca.jpg)  
图1-4  环合运算  

![](images/faf26ad66d0551eb722a3198ad99afacced0684c25c72d96e83ff1cc3d2239ec.jpg)  
 图1-5 环积运算  

如图1-4 所示，对称差集合其实就是由两个集合中彼此不同的部分构成的集合，对称差运算则是对称差集合过程，即找出两个集合中彼此不同的部分，然后将其组成一个集合。不难证明对称差运算满足如下基本运算性质：  

(1) 交换律：对于任意两个集合$A$ 和$B$，有：$A\oplus B=B\oplus A$  

(2) 结合律：对于任意三个集合$A$、$B$ 和$C$，有：$(A\oplus B)\oplus C=A\oplus(B\oplus C)$  

(3) ∩对⊕分配律：对于任意三个集合$A,B$ 和$C$，有$A\cap(B\oplus C)=(A\cap B)\oplus(A\cap C)$ (4) 同一律：对于任意给定的集合$A$，有：$A\oplus\varnothing=A$  

(5) 零  律：对于任意给定的集合$A$，有：$A\oplus A=\emptyset$；$A\oplus\bar{A}=U$  

由读者自行给出上述运算性质的证明。  

有时需要对两个集合求环积运算，如图1-5 所示，所谓环积运算，其实就是环和运算的补集，具体定义如下：。  

【定义1.14】对于任意给定的两个集合$A$ 和$B$，集合$\cdot A\odot B={\overline{{A\oplus B}}}=(A\cap B)\cup({\bar{A}}\cap B).$$\bar{B}^{\cdot}$̅)称为环积集合，符号“⊙”称为环积运算。  

不难证明环积运算满足如下基本运算性质：  

(1) 交换律：对于任意两个集合$A$ 和$B$，有：$A\odot B=B\odot A$  

(2) 结合律：对于任意三个集合$A$、$B$ 和$C$，有：$(A\odot B)\odot C=A\odot(B\odot C)$  

(3) ∪对$\odot$分配律：对于任意三个集合$A,B$ 和$C$，有$A\cup(B\odot C)=(A\cup B)\odot(A\cup C)$  

(4) 同一律：对于任意给定的集合$A$，有：$A\odot\varnothing={\bar{A}}$  

(5) 零  律：对于任意给定的集合$A$，有：$A\odot A=U$；$A\odot\bar{A}=\emptyset$  

上述运算性质的证明由读者自行给出。  



### 1.1.4 集合的二进制表示  

集合在计算机中有着广泛的应用，一般都是将集合中的元素顺序的存放在计算机中，但这种存储方式会使得在计算集合的交、并、差等运算时需要对元素进行搜索，随之而来的是不必要的时间开销。为了避免这个问题，现在介绍一种比较有效的存储方法。  

假设全集$U$是有限集合，$A{=}\{a_{1},a_{2},{\ldots},a_{n}\}$是$U$的一个子集且对应一个长度为$n$的比特串$B{=}b_{1}b_{2}{...}b_{n}$。串$B$ 的每一位数字按如下方式取值：如果$a_{i}{\in}A$，则$b_{i}{=}1$，否则$b_{i}{=}0$。此时对于全集$U$ 的任意两个子集合，它们之间的交、并运算就可以按二进制数的布尔乘、布尔加运算进行，即：两个子集交的编码是两个子集编码对应位置的布尔乘；两个子集并的编码是两个子集编码对应位置的布尔加。布尔乘、布尔加的具体运算规则如下：  

$\begin{array}{r l r}{0+0=0}&{{}}&{0+1=1+0=1+1=1}\end{array}$ $\begin{array}{r l r}{1\times1=1}&{{}}&{0\times1=1\times0=0\times0=0}\end{array}$  

下面进一步考察集合补运算的二进制编码表示.假设集合$A{=}\{a_{1},\,a_{2},\,...,a_{n}\}$对应长度为$n$的比特串为$B{=}b_{1}b_{2}{\ldots}.b_{n}$，则集合$A$ 的补集的二进制编码只需要简单地把$B{=}b_{1}b_{2}{\ldots}b_{n}$ 中每个1换成0，每个0 换成1 即可。  



集合在数据库中具有着广泛应用，基于二进制编码的集合运算可以大大提高记录增、删、改的计算效率。数据库中数据在计算机系统中一般以二维表形式存在，可将其中每一列分别看作是一个集合，列标题就是该集合的名称，每一行是一个数据序列，称为记录。又可将整个二维表看成是记录的集合。下面考察一个具体例子：  



表1-1 二维表 
![](images/ed20520091902c2b692c4144896337caee56d7b09ec379326531846771b24a4c.jpg)  



## § 1.2 可数集与不可数集  

我们知道，基数是度量集合规模大小的指标，当集合基数为有限数时，该集合为有限集，其基数就是集合中元素的个数。当集合基数为无穷大时，该集合为无限集。对于无限集，如何使用基数度量其大小规模？例如，对于自然数集与有理数集，如何比较这两个无限集的基数，对于有理数集和无理数集，又如何比较两者的基数，等等。无穷大到底有多大？是否可以对无穷大的规模进行差异性分析，将其划分为不同层次或等级？本节将通过探讨与此相关的概念和问题，使得读者能够对无限集有着比较清晰的认识和本质性把握。  

### 1.2.1 无限集的度量问题  

现考察集合规模的度量问题。直观上看，集合中元素数目越多集合的规模就越大。关键是如何界定集合中元素数目的多少？对于有限集，这个不成问题，可通过对集合中元素进行计数的方法解决。然而，对于无限集来说，问题就没这么简单了。例如对于下列问题：  

正整数集合$\{1,2,3,\ \cdots\ \}$和正整数平方集合$\{1^{2},2^{2},3^{2},\ \cdots\ \}$，哪个集合的元素更多？  

显然，正整数平方集合是正整数集合的一个真子集，因此正整数集合似乎应该更大一些。但这两个集合元素之间又显然存在一一对应关系。从传统有限集合计数的观点看，两者的数目又必定是相等的。这似乎存在一种矛盾。事实上，早在1638 年，意大利物理学家伽利略也发现了类似于这样的问题，但是他无法解决并感到困惑，便提出了所谓的伽利略悖论。  

其实，无限集所具有的无限延展特性使其与有限集合有着本质性差异，对有限集合进行精确计数的方式不再适用于对无限集合的度量。因此，必须采用同时适合有限集与无限集的新方法来实现对集合规模的度量。由此得到如下关于集合等势的概念：  

【定义1.15】设$A$ 和$B$ 是任意两个集合，如果$A$ 和$B$ 之间存在一一对应的关系：  

$$
\psi{\colon}A\to B
$$

则称$\pmb{A}$ 与$\pmb{B}$ 等势，记为：$A^{\circ}B$  

显然，若 $\scriptstyle A=B$ ，则 $A^{\scriptscriptstyle\frown}B$ ，反之不然。  



【定理1.5】集合的等势满足如下三条基本性质：（1）自反性：对于任意集合$A$，有$A{\sim}A$；（2）对称性：对于任意两个集合$A$ 和$B$，如果$A{\sim}B$，则有$B{\sim}A$（3）传递性：对于任意三个集合$A$、$B$ 和$C$，如果$A{\sim}B$ 且$B{\sim}C$，则有$A{\sim}C$  



上述等势概念表达的仅仅是集合在数量规模上次序比较关系，要真正实现对无限集规模的度量，还需确定一个基本的规模度量单位作为度量标准或基准。显然，任何无限集都可生成一个子集与自然数集等势，因此可将自然数集合作为无限集规模度量的一种基准。下面着重介绍自然数的基本概念与性质。  

### 1.2.2 自然数的集合定义  

对于任意一个无限集合$A$，从中任取一个元素做为第一个元素，记为$\vert x_{1}$；然后再从𝐴−$\{x_{1}\}$中任取一个元素作为第二个元素，记为$x_{2}$；如此下去，…。由于$A$ 是一个无限集，故此这个过程可以无限进行下去，从而得到$A$ 的一个子集合$\{x_{1},x_{2},\ldots,x_{n},\ldots\}$。  

由以上分析可知，对于任意一个无限集合，都可找到它的一个子集与自然数集等势。因此，自然数集应当是刻画或度量无限集的一种最小单位。要解决无限集的度量问题，首先必须搞清楚什么是自然数和自然数集合。  

#### 一、皮亚诺公理  

我们知道，自然数是对有限集合中所含元素个数进行度量和比较的一种工具。如果将所含元素个数彼此相等的有限集合抽象成一个抽象集合，或者说从所含元素个数彼此相等的有限集合中选出一个集合作为代表构成抽象集合，那么所有这些抽象集合就可以按其规模的大小排成一个有序序列。因此，从本质上说自然数就是表示这些抽象集合及其有序序列的一种数学符号。例如，可以将自然数3 定义为能够表示所有3 元集合的一种抽象集合、将自然数5 定义为能够表示所有5 元集合的一种抽象集合，等等。自然数的上述本质特征并不难以理解，问题是如何找到一种恰当的方法来定义这种抽象集合。  

1891 年，著名数学家皮亚诺以0 和后继数这两个不定义概念外加5 条公理表述了自然数的上述本质特征，创立了如下关于自然数的皮亚诺公理系统，为自然数的抽象集合定义及相关的算术运算系统构造提供了一个标准.皮亚诺5 公理的具体内容如下：  

公理1：至少存在一个体是自然数，它被记为0； 公理2：如果$n$ 是自然数，那么$n$ 必定含有一个直接后继，记为$|n^{+}$  

公理3：0 不是任何自然数的直接后继； 公理4：如果自然数$m,n$ 的直接后继$m^{+}$, $n^{+}$相同，那么$m{=}n$  

公理5：不满足上述条件的个体均非自然数。  

可以证明，自然数的所有运算性质都可从上述5 条公理出发推演获得。根据上述5 条公理，可以构建一套比较完备的自然数算术运算系统。定义自然数其实就是要找出一系列具体个体，让它们满足这5 条公理，其中关键要点就是要给出0 和后继数的具体定义。  

#### 二、自然数的归纳定义  

1923 年，著名数学家冯·诺依曼用集合给定义了0 和后继数的概念，并由此通过归纳的方式实现自然数和自然数集合的完美定义。  

【定义1.16】对于任意一个给定的集合$A$，称集合$\cdot A^{+}=A\cup\{A\}$为$A$ 的直接后继。

【定义1.17】对于任意给定的集合$N$，若它满足如下两个条件，则称其为自然数集合：  

（1）基础条款：空集属于集合$N$，即有$\emptyset\in N$，并将$\emptyset$定义为自然数0； （2）归纳条款：对于任意一个集合$A$，若有$A\in N$，则必有$A^{+}=A\cup\{A\}\in N.$  

上述自然数集合的归纳定义是一种构造性定义方法，通过基础条款和归纳条款构造出自然数集的全部元素 . 基础条款决定了自然数集合为非空集合并确定了集合的初始元素，即自 然数0；归纳条款则以初始元素为出发点通过构造后继元素的方式不断产生新的元素。  

具体地说，按以上定义，自然数集合由如下形式的元素构成：  

$$
\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\},\ \{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\},\ \{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\}\}\},\ \cdots
$$

根据等势的定义，$\{\emptyset\}$与所有含有1 个元素的集合等势，可以看成是这些集合的代表，令其为自然数1；同理有：$\{\varnothing,\;\;\{\varnothing\}\}$与所有含有2 个元素的集合等势，可以看成是这些集合的代表，令其为自然数2；$\{\varnothing,\;\;\{\varnothing\}$，$\{\varnothing,\;\;\{\varnothing\}\}$与所有含有3 个元素的集合等势，可以看成是这些集合的代表，令其为自然数3；$\{\emptyset,\ \{\emptyset\},\ \{\emptyset,\ \{\emptyset\}\}\}$与所有含有4 个元素的集合等势，可以看成是这些集合的代表，令其为自然数4；如此下去，便可得到所有自然数：0, 1, 2, 3, 4，…，并显然成立如下递推关系：  

$$
0\!\!=\!\!\emptyset;\;\;1\!\!=\!\!\{0\};\;\;2\!\!=\!\!\{0\,,\;\;1\};\;\;3\!\!=\!\!\{0\,,\;\;1\,,\;\;2\};\;\;4\!\!=\!\!\{0\,,\;\;1\,,\;\;2\,,\;\,3\};\;\;\cdots
$$

一般地，有：  

$$
n=\{0\,,\ 1\,,\ 2\,,\ \dots\ \,,\ n-1\}
$$

下述定理表明上述自然数定义满足皮亚诺公理系统的要求：【定理1.6】自然数的集合定义满足皮亚诺提出的5 条公理。  



有了自然数，便可以定义自然数集合上的各种运算、函数和特殊自然数，这里就不再一一赘述，下面仅给出自然数子集上最大数和最小数的相关定义：  

【定义1.18】如果对$x$ 作不少于一次的后继运算后得到$y$，那么称$x<y$。如果$x$在自然数子集$K$ 中，$K$ 中没有其它数小于$x$，那么称$x$ 是子集$K$ 中的最小数，如果$x$ 在自然数子集$K$ 中，$x$ 不小于$K$中其它数，那么称$x$ 是子集$K$ 中的最大数。  

根据上述定义，在由单个自然数$a$ 组成自然数子集$\{a\}$中，$a$ 既是最小数也是最大数。下面定理给出了自然数子集中最小值和最大值的存在性：  

【定理1.7】自然数集合具有如下三个基本性质：  

（1）0 是自然数集合的最小数。  

（2）自然数集合的所有非空子集具有最小数（最小数原理），从而正整数集合的所有非空子集均有最小数。  

（3）自然数集合的所有非空有限子集均有最大数，从而正整数集合的所有非空有限子集均有最大数。  



#### 三、自然数的归纳证明  

使用归纳法不仅可以实现对自然数集合的一种构造性定义，而且还提供了关于自然数命题的一种有效证明方法，即自然数的归纳证明法。这种证明法两种具体形式，分别基于数学归纳法第一原理和数学归纳法第二原理。  

【数学归纳法第一原理】假设$P(n)$是一个关于自然数$n$ 的命题，若有：  

（1）基础步骤：$P(0)$为真；  

（2）归纳步骤：对于任意正整数$k$，如果$P(k)$为真，则$P(k{+}1)$为真。则$P(n)$对一切自然数$n$ 均为真。  

【证明】假设已经对$P(n)$完成了基础步骤和归纳步骤的证明，但是存在某个自然数$m_{0}$使得 $P(m_{0})$为假。令集合$S$ 为所有使得$P(n)$为假的自然数组成的集合，即：  

$S=\{m|m为自然数且P(m)为假\} $

由于$\cdot m_{0}\in S$，故𝑆为非空集合，根据定理1.7 中的最小数原理知，$S$中必然存在最小的自然数$s$。由于$P(0)$为真，故$s\neq0$。因此，$s-1$为自然数且不在集合𝑆中，即$P(s-1)$为真。根据归纳假设有$P(s)$为真，这与$s\in S$矛盾！故$P(n)$对一切自然数$n$ 均为真。□  

使用数学归纳法第一原理完成证明的关键在于：首先需要假定对任意一个正整数$k$，$P(\mathrm{k})$为真，然后在此假定下证明$P(k{+}1)$必为真。如果用数学归纳法完成了上述原理中的两  

个步骤，那么就证明了对所有自然数而言$P(n)$为真。  



【数学归纳法第二原理】假设$P(n)$是一个关于自然数$n$ 的命题，若有：  

1）基础步骤：$P(1)$为真；  

（ 2 ）归纳步骤：对于任意正整数 $k$ ，若 $P(1),P(2),\dots,P(k)$ 均为真，则 $P(k{+}1)$ 为真。 则$P(n)$对一切自然数$n$ 均为真。  



### 1.2.3 无限集的基数比较  

从前面的讨论不难看出，对于任意一个给定的自然数$n$，该自然数其实就是对所有含有$n$ 个元素集合的一种抽象。例如，自然数3 就是对所有含有3 个元素集合的抽象，或者说自然数3 就是将所有含有3 个元素的集合房子一起组成集族。因此，自然数可以根据集合中所含元素个数为标准对所有有限集进行分类，从而实现对有限集基数的度量和比较。  

对无限集基数的度量和比较则没有这么简单。如前所述，任意一个无限集合，都可以找到它的一个子集与自然数集等势。因此，自然数集应当是规模最小的一种无限集合，可用自然数集作为无限集基数的最小度量单位或者度量基准。据此得到如下定义：  

【定义1.19】凡是与自然数集$N$ 等势的集合都称为可数集合，该类集合的基数记为$\aleph_{0}$，读作阿列夫零。  



根据上述例题，可以得到关于有限集合和可数集合的如下基本性质：  

（1）两个有限集合等势，当且仅当它们具有相同的元素个数；（2）有限集合不可能与其任何真子集合等势； （3）可数集合可以与其可数的真子集等势。  

由此可知，元素个数不相等的无限集之间仍有可能存在等势关系。因此，无限集合的基数已经不能通过集合中元素的个数来度量，或者说不能用一个自然数来度量，而是需要以自然数集或其它无限集合的基数为标准进行度量。  

现在考察这样的一个问题，除了可数集合之外，还有没有其它的无限集合？或者说，是否每一个无限集合都能够与自然数集合建立一一对应的关系？事实上并非如此，例如开区间(0, 1)就不能与自然数建立等势关系，所有与开区间(0, 1)等势的集合构成了另外一类不同规模的集合，称之为不可数集合。其具体定义如下：  

【定义1.20】开区间(0, 1)称为不可数集合，其基数记为ℵ，读作阿列夫；凡是与开区间(0, 1)等势的集合都称为不可数集合。  

因此，不可数集合是比可数集合规模更大的一种无限集合类型。当然，还可以考虑不可数集合的幂集、不可数集合幂集的幂集等等，由此可以构造出很多种不同基数的无限集合。关于这些无限集合基数及其性质的讨论已经超出了离散数学的范畴，有兴趣的读者可以参阅实变函数理论中与连续统相关的内容。  

## § 1.3 有限集的基本计数技术  

现考察有限集的度量问题，度量有限集的目标是要统计出集合中元素的个数。当集合不是以枚举方式出现时，对元素个数的统计有时就不一定是显然的，需要一些相关技巧或技术，称之为计数技术。有限集合的计数技术在计算机问题求解或算法设计中具有基础性的重要作用。例如对于算法设计来说，如果要设计出问题求解的有效算法，很多情况下需要计算或估算出解空间或状态空间大小规模。事实上，这些解空间就是一些有限集合，度量这些有限集的大小就需要对其进行计数。目前，计数技术可大致分为基本计数技术和高级计数技术这两种基本类型，本节主要学习若干基本计数技术，具体包括加法原理与乘法原理、容斥原理与鸽笼原理、排列计数与组合计数。  

### 1.3.1 加法原理与乘法原理  

加法原理和乘法原理是最基本的计数法则，其它所有计数方法或技巧都建立在这两个法则的基础之上。  

加法原理：对于任意一个有限集合$A$，如果它可以看成是多个集合的并集且这多个集合之间互不相交，即有：  

$$
A=A_{1}\cup A_{2}\cup\cdots\cup A_{n}\ \stackrel{\mathrm{~H~}}{\cdots}\ A_{i}\cap A_{j}=\varnothing\ \left(i\neq j\right)
$$

则有：  

$$
|A|=|A_{1}|+|A_{2}|+\cdots+|A_{n}|
$$

加法原理的另外一种说法如下：  

如果$n$ 个独立事件分别有$\cdot k_{1},k_{2},\cdots,k_{n}$种方式发生，那么这$n$ 个独立事件之一发生方式的总数$k$ 有可按下式计算：  

$$
k=k_{1}+k_{2}+\dots+k_{n}
$$

加法原理的含义非常直观，其正确性是显然的。使用加法原理进行计数的关键在于如何将一个有限集合适当划分为若干互不相交的子集，并计算这些子集的基数。如果完成一个任务可以采用很多种不同的方法，而且每一种方法又有很多种不同的选择，那么完成该项任务的总方法数就等于这些所有选择数的总和。  



### 1.3.2 容斥原理与鸽笼原理  

在前述加法原理中，我们将某个集合看成是由多个集合的并运算而构成，并且要求参与并运算的多个集合互不相交。现在将加法原理中多个集合互不相交的条件去掉，由此便可得到容斥原理。因此，容斥原理可看成是加法原理的一种推广形式。  

#### 一、容斥原理及其应用  

首先考察下列问题：假设某班共有50 人，其中有32 人会唱歌、26 人会跳舞、15 人既会唱歌又会跳舞，问多少人会唱歌或会跳舞？多少人既不会唱歌也不会跳舞？  

如图1-7 所示，集合$A$ 表示班上所有会唱歌的人，$B$ 表示班上所有会跳舞的人，$A\cap B$表示班上所有既会唱歌又会跳舞人，$A\cup B$表示班上所有会唱歌或者会跳舞人。  

不难看出，若将$A$ 与$B$ 的基数直接相加，即将分别表示$A$ 和$B$ 的两个区域直接相加，则图中表示$A\cap B$的阴影部分就是双层的。因此，要想像加法原理那样用$A$ 和$B$的基数和作为$A\cup B$的基数，就必须将表示𝐴∩$B$的阴影部分去掉一层，即减去一个$|A\cap B|$，故有：  

$$
|A\cup B|=|A|+|B|-|A\cap B|=32+26-15=43(\mathcal{A})
$$

显然，班上既不会唱歌也不会跳舞的人数为：  

$$
|{\overline{{A\cup B}}}|=|U|-|A\cup B|=50-43=7(\mathcal{A})
$$

![](images/83294eaaa652139fdc533ac2326406b29ebe30c3a5ea63f76c324c67d62b5655.jpg)  
图1-7 唱歌跳舞人数集合  

一般地，对于任意给定的两个有限集合，成立如下的容斥原理：【定理1.8】假设$A$ 和$B$ 是任意两个有限集合，则有：  

$$
|A\cup B|=|A|+|B|-|A\cap B|
$$



#### 二、鸽笼原理及其应用  

鸽笼原理是数学神童狄利克雷在9 岁时提出，那时他家中有九个鸽笼十只鸽子，他观察到这样一个现象：无论怎样分配鸽笼给鸽子，必然一个鸽笼里面至少有两只鸽子，便由此提出鸽笼原理，并用该原理解决很多数学问题。鸽笼原理有时也称为抽屉法则，通俗地说，就是将5 本书放在4 个抽屉里面，必然有一个抽屉至少有两本书。  

【定理1.11】如果把多于$n$ 个的元素按任一方式分成$n$ 个集合，那么至少有一个集合中含有两个或两个以上的元素。  



【定理1.12】将$n$ 个元素以任一方式分成$m$ 个集合且$m<n$，则必然存在一个集合中至少有含有$\lfloor(n-1)/m\rfloor+1$个元素。其中$\lfloor x\rfloor$表示对实数$x$ 进行向下下取整，即取不超过$x$ 的最大整数部分。  





### 1.3.3 排列计数与组合计数  

排列与组合是两类比较基本的计数问题，根据从集合中选择元素的有序与无序、是否允许重复等限制条件，可将这两类问题进一步划分为四种基本类型，即不重复的排列、不重复的组合、可重复的排列和可重复的组合。  

#### 一、不重复的排列与组合  

首先考察如下排列问题：  

某班有35 名同学，现从中选出15 名同学排成一排，问有多少种排列方式？  

这个问题有如下两个关键要点：第一、在排列中每位同学最多只能出现一次，也就是无重复性；第二、不同的次序构成不同的排列。由此得到如下不重复排列的概念：  

【定义1.21】假设$S$是由$n$ 个不同的元素组成的集合，从$S$中依次取出$r$ 个不同元素并将其按取出的次序排成一排，由此形成的一个有序排列称之为不重复$r\cdot$-排列，简称为$r\cdot$-排列或排列，不重复$r\cdot$-排列的个数称为不重复$r\cdot$-排列数，简称为$r\cdot$-排列数或排列数，记为${P}_{n}^{r}$或$P(n,r)$。称$r=n$时构成的排列称为全排列，$r<n$时构成的排列为选排列。  



根据乘法原理，显然可以得到如下结论：  

【定理1.13】对于任意两个正整数$n$ 和$r$，且$r\leq n$，成立如下$r\cdot$-排列数计算公式：  

$P(n,r)=n(n-1)(n-2)\cdots(n-r+1)\ \ ={\frac{n!}{(n-r)!}}$ 其中：$n!=n(n-1)(n-2)\cdots2\cdot1$  



【定义1.22】假设$S$是由$n$ 个不同的元素组成的集合，从$S$ 中依次取出$r$ 个不同元素并将其按取出的次序排成一个圆圈，由此形成的一个有序圆排列称之为不重复$r\cdot$-圆排列，简称为$r\cdot$-圆排列或圆排列，不重复$r\cdot$圆排列的个数称为不重复$r\cdot$-圆排列数，简称为$r\cdot$-圆排列数或圆排列数，记为${\cal P}_{c}(n,r)$。  

相对于上述圆排列的概念，有时亦将$r\cdot$-排列称为$r$-线排列或线排列。由前面分析不难看出，如果将每个$r\cdot$-线排列的首尾相连构成一个$r\cdot$-圆排列，则由此构成的所有圆排列必然有$r$倍的重复数。故有如下$r\cdot$-圆排列计算公式：  

【定理1.14】对于任意给定的两个正整数$n$ 和$r$，且$r\leq n$，其$r\cdot$-圆排列数为$P_{c}(n,r)$：  

$$
P_{c}(n,r)=\frac{P(n,r)}{r}=\frac{n(n-1)(n-2)\cdots(n-r+1)}{r}=\frac{n!}{r(n-r)!}
$$

以上例子的共有特点是所有选出的元素都有一定的次序。事实上，很多情况下并不需要选出的元素具有有次序。  

考察如下组合问题：  

某班有35 名同学，现从中任意选出15 名同学参加问卷活动，问有多少种选择方式？  

与前述$r$-排列问题不同的是，这个问题只考虑抽取的是哪15 名同学，并不考虑抽取次序以及与之相关的排列问题。由此得到如下不重复组合及相关组合数的概念：  

【定义1.23】假设$S$是由$n$ 个不同的元素组成的集合，从$S$中任意取出$r$ 个不同元素组成一个子集合，称每一个这样的子集合为一个不重复$r$-组合，简称为$r\cdot$-组合或组合，不重复$r$-组合的个数称为不重复$r\cdot$-组合数，简称为$r\cdot$-组合数或组合数，记为$C_{n}^{r}$或$C(n,r)$。  

显然， $r$ - 组合与 $r$ - 排列的区别在于 $r\cdot$ 组合不考虑组合中元素的排列次序， $r\cdot$ - 排列必须考 虑排列中各元素的排列次序。如果两个$r\cdot$-排列所含的元素完全相同，仅仅是排列次序不同，两个$r\cdot$-排列是同一个组合，由此得到有如下组合数计算公式：  

【定理1.15】对于任意两个正整数$n$ 和$r$，且$r\leq n$，成立如下$r-$组合数计算公式：  

$$
C(n,r)=\frac{P(n,r)}{r!}=\frac{n(n-1)(n-2)\cdots(n-r+1)}{r!}=\frac{n!}{r!(n-r)!}
$$

#### 二、可重复的排列  

现考察这样一个问题：用1、2、3 这3 个数字可以构成多少种不同的5 位数字？  

使用乘法原理不难知道该问题解为$\ 13^{5}=243$种。这显然是一个元素可以重复的排列问题，现具体讨论这类问题。我们知道，在经典集合论中，集合中元素是不可重复的。为解决集合中重复元素的表示问题，现引入重集的概念。与集合的概念一样，重集也是一个没有具体定义的原始概念，只有通过如下方式对其含义进行描述或理解：  

所谓重集，就是在指定范围内满足给定条件、且允许多个相同对象同时出现的所有对象构成的总体，重集中每个对象仍然称为该集合的元素，重集中相同元素的个数称为元素的重数。具体地说，如果一个重集中含有 $\cdot_{n_{1}}$ 个 $\cdot a_{1}$ ， $n_{2}$ 个 $a_{2}$ ， ⋯ ， $n_{m}$ 个 $a_{m}$ ，且 $n_{1}+n_{2}+\cdots+n_{m}=$ $n$，则称该重集为含有$n$个元素的$m$元重集，记为：$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}.$。  

约定：$\infty\cdot a$表示元素$a$可在重集中出现任意多次；$\{\infty\cdot a_{1},\infty\cdot a_{2},\cdots,\infty\cdot a_{m}\}$则表示重集中所有元素均可出现任意多次，称其为无穷重$\pmb{m}$ 元重集。  

事实上，可将$m$ 元重集看成是由$m$ 个容器组成的容器组，其中第一个容器可以放入（或取出）$n_{1}$个元素$a_{1}$，第二个容器可以放入（或取出）$n_{2}$个元素$a_{2}$，…，第$m$个容器可以放入（或取出）$n_{m}$个元素$a_{m}$.对于$\infty\cdot a$，则可将其理解为可以放入（或取出）无穷多个元素$a$的容器.需要注意的是，通常认为重集不是集合，但可将集合看成是重集的特例。  

显然，用1、2、3 这个数字构成5 位数字，就是一个无穷重3 元重集中取出5 个元素的排列问题。一般地，这种重集排列问题或可重复排列问题的定义如下：  

【定义1.24】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的重集，从该重集中依次取出$r$ 个元素并将其按取出的次序排成一排，由此形成的一个有序排列称之为可重复$r$-排列，可重复$r\mathbf{\cdot}$-排列的个数称为可重复$r$-排列数；令$\cdot n_{1}+n_{2}+\cdots n_{m}=n$，则称$\cdot r=n$时构成的排列称为全排列，$r<n$时构成的排列为选排列。  

通过乘法原理不难得到如下无穷重$m$ 元重集的可重复$r\mathbf{\cdot}$-排列数计算公式  

【定理1.16】假设$\{\infty\cdot a_{1},\infty\cdot a_{2},\cdots,\infty\cdot a_{m}\}$是任意一个给定的无穷重$m$ 元重集，该重集下可重复$r$-排列数为$m^{r}$。  

【证明】无穷重数$m$ 元重集$\{\infty\cdot a_{1}$，$\infty\cdot a_{2}$，⋯，$\infty\cdot a_{m}\}$ $r$-排列的每一个位置上，均有$m$  种选择方案，故而 $r$ - 排列数为 $\ \ \cdot m^{r}$ 。□  

【例题1.57】（1）用7 颗六彩珠串成长链，可串出多少种不同长链（假定六彩珠取之不尽，且不考虑链子的反转）？（2）至少用两种颜色的六彩珠串成7 珠环链，求环链的种数（假定六彩的珠子取之不尽，且不考虑链子的反转）？  



![](images/3f1e76f81dba91759e05f5e7aace97377518f23c7e8ea20e34523f4359261b28.jpg)  
图1-8 4-圆排列  

有穷集$m$ 元重集上可重复$r\mathbf{\cdot}$-排列数的计算是一个比较复杂的问题，有兴趣的同学可以查阅相关资料，不再赘述。在此仅考虑如下比较简单的全排列数的计算问题：  

【定理1.17】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的含有$n$ 个元素的有限$m$元重集，从该重集中依次取出$n$ 个元素的全排列数为：  

$$
\frac{n!}{n_{1}!\cdot n_{2}!\cdot\dots\cdot n_{m}!}
$$



【例题1.58】EXCELLENT 单词含有9 个字母，若重新排序字母顺序，请问能构成多少个不同字符串？  



#### 三、可重复的组合  

考察如下可重复的组合问题：从包含苹果、橙子和梨子的筐中任取4 个水果招待客人，假设筐中苹果、橙子和梨子的个数均多于4 个且不关心取水果的次序，问有多少种取法？  

可对这4 个水果的取法做如下枚举：  

4 个苹果；4 个橙子；4 个梨子；3 个苹果，1 个橙子；3 个苹果，1 个梨子；3 个橙子，1 个苹果；3 个橙子，1 个梨子；3 个梨子，1 个苹果；3 个梨子，1 个橙子；2 个橙子，2 个苹果；2 个橙子，2 个梨子；2 个梨子，2 个苹果；2 个橙子，1 个苹果，1 个梨子；2 个苹果，1 个梨子，1 个橙子；2 个梨子，1 个苹果，1 个橙子。  

由此可知取法一共有15 种。当水果种类或取出数目比较大时，这种枚举方法显然是不可行的。在这个问题中，可以将包含苹果、橙子和梨子的筐子分别看成是一个重集。由于不考虑取水果的次序，因此可将该问题看成是一种基于重集的可重复的组合数计算问题。  

下面具体介绍可重复的组合数计算问题的相关概念及解法。  

【定义1.25】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的重集，从该重集中任意取出$r$ 个元素组成一个子重集，称每一个这样的子重集为一个可重复$r\cdot$-组合，可重复$r\cdot$组合的个数称为可重复$r$-组合数。  

下面结合一个具体实例详细介绍可重复$r\cdot$-组合数的计算问题。  



【定理1.18】假设$\{n_{1}\cdot a_{1},n_{2}\cdot a_{2},\cdots,n_{m}\cdot a_{m}\}$是任意一个给定的$m$ 元重集，且重集中每个元素的从数均不小于 $r$ ，则基于该重集的可重复 $r\cdot$ - 组合数为 $C(m-1+r,\ r)$ 。  



## § 1.4 有限集的高级计数技术  

前述基本计数技术主要基于静态思维，即认为求解问题处在一个相对静止状态，通过一些静态方法将这些状态的相关数量计算出来。如果求解问题在本质上具有动态演化性质，或者问题比较复杂必须考察其演变历史，对这类问题的计数必须考察问题状态的演变过程和规律，此时基于静态思维的基本计数技术就不能满足要求。本节介绍基于动态演化思想的高级计数技术，主要包括递推关系计数法、递推关系求解技术、生成函数计数法。  

### 1.4.1 递推关系计数法  

我们都学过数列知识，对于一个通项为$a_{n}$的数列$\left\{a_{n}\right\}$，其取值随着下标$n$ 变化而变化，表达的是一个动态演变过程。在很多情况下很难直接得到$a_{n}$的具体表达式，难以直接考察数列的动态演变过程。此时，为揭示数列中各项的动态演变规律，我们通常考察通项$a_{n}$与其前若干项之间的联系，或者说在通项与其前若干项之间建立一种确定的计算表达式，明确给出通项的具体构造过程，实现对动态过程的建模。由此得到如下递推关系的概念：  

【定义1.26】假设$\left\{a_{n}\right\}$是任一通项为$a_{n}$的数列，如果$a_{n}$可由其前若干项计算出来，则称该计算表达式为一个递推公式或递推关系式。为使递推公式能够进行递推计算，通常需要确定公式中一个或多个初始项的值，称这些初始项的值为递推公式的初值。如果一个数列的各项都满足递推关系，则称该数列为该递推关系的一个特解。  

例如，等差数列和等比数列都可用递推公式表示：对于公差为$d$的等差数列$\left\{a_{n}\right\}$，其递  

推公式为：$a_{n}=a_{n-1}+d$；公比$q$的等比数列$\left\{b_{n}\right\}$，其递推公式为$b_{n}=b_{n-1}q$。  

递推关系是求解组合计算问题的重要工具，在几乎所有的数学分支中都有着十分重要的作用。要使用递推关系解决有限集合的计数问题，首先必须针对求解问题演化规律建立相应的递推关系式，然后以递推关系式作为基本工具逐步实现对有限集合的计数。  



### 1.4.2 递推关系的求解  

递推关系是复杂问题和动态问题求解重要工具，要使递推关系在问题求解中发挥作用特别是在计数问题中发挥作用，有时需要实现对递推关系式的求解，也就是说要找到满足递推公式的所有数列或部分数列的显示通项表达式。对递推关系式的求解是一个非常复杂的数学问题，属于离散数学及相关学科的前沿研究课题，有兴趣的读者可以查阅相关资料做进一步深入研究。作为抛砖引玉，我们仅介绍其中两种最常用的基本解法，即针对简单递推关系的迭代求解方法和针对常系数齐次线性递推关系的特征根求解方法。  

迭代求解法是一种最基本的解法，该方法主要用于求解一些比较简单的递推关系式，由如下两个基本步骤构成：  

第一、利用递推关系式对其右边的表达式进行迭代，并推测通项的显示表达式；  

第二、用数学归纳法证明得到的公式。  

  

目前还没有一个一般性的方法或公式能够实现对任意递推关系式的求解，通常需要针对对递推关系式的具体特点给出相应的求解方法。常系数齐次线性递推关系是一种特殊的递推关系，针对这类递推关系有一套完备可行的求解理论和方法。这套求解理论和方法是求解其它递推关系式的基础，因为很多其它递推关系式都是通过设法将其转化为某种常系数齐次线性递推关系的途径实现求解。下面给出常系数齐次线性递推关系的定义：  

【定义1.27】设$a_{1}$，$a_{2}$，⋯，$a_{k}$是$k$个常数且$a_{k}\neq0$，则下列递推关系：  

$$
u_{n}=a_{1}u_{n-1}+a_{2}u_{n-2}+\cdots+a_{k}u_{n-k}(n\geq k)
$$

称为$k$阶常系数线性齐次递推关系。  

如果数列 $\{b_{n}\}_{n\geq0}$ 满足 $.b_{n}=a_{1}b_{n-1}+a_{2}b_{n-2}+\cdots+a_{k}b_{n-k}(n\geq k)$ ，则称数列 $\{b_{n}\}_{n\geq O}$ 或 $u_{n}=b_{n}{\big(}n=0,~1,~2,~\cdots{\big)}$是递推关系式(1 −17)的一个解。  

问题：递推关系式(1 −17)有没有解？如果有解，有多少个解？如何求解？下面的定理表明常系数齐次线性递推关系在满足初始条件的情况下有唯一解：  

【定理1.19】任意给出$k$个常数$b_{0}\,,\;\;b_{1}\,,\;\;\cdots\,,\;\;b_{k-1}$，有且仅有唯一一个数列是递推关系式 (1 −17) 满足初始条件 $v_{0}=b_{0}$ ， $v_{1}=b_{1}$ ， ⋯ ， $v_{k-1}=b_{k-1}$ 的解。  

对于常系数齐次线性递推关系的求解，基本思路是采用一种所谓特征根的方法，通过引入特征方程和特征根的概念，巧妙地将递推关系的求解问题转化为求代数方程根的求解问题。为此，我们引入如下特征方程和特征根的定义：  

【定义1.27】如下方程：  

$$
x^{k}-a_{1}x^{k-1}-a_{2}x^{k-2}-\cdots-a_{k-1}x-a_{k}=0
$$

称为递推关系式(1 −17)的特征方程，它的根称为递推关系式(1 −17)的特征根。  

因为$a_{k}\neq0$，所以0 不是递推关系式(1 −17)的特征根。 下面的定理非常关键，它给出了特征根与常系数齐次线性递推关系解之间的联系：  

【定理1.20】设$q$ 是非0 复数，则$u_{n}=q^{n}$是递推关系式(1 −17)的一个解当且仅当$q$是递推关系式(1 −17)的一个特征根。  



下面定理给出了常系数齐次线性递推关系解的结构特点：  

【定理1.21】设$\cdot u_{n}=g_{i}(n)(i=1,2,\cdots,s)$均为递推关系式(1 −17)的解，$c_{i}(i=1,\!2,\cdots,s)$为任意常数，则有：  

$$
=\sum_{i=1}^{s}c_{i}g_{i}(n)
$$

也是递推关系式(1 −17)的解。  



【定理1.22】如果递推关系式(1 −17)的$k$ 个特征根$q_{1}\,,\;\;q_{2}\,,\;\;\cdots\,,\;\;q_{k}$彼此相异，则  

$$
u_{n}=c_{1}q_{1}^{n}+c_{2}q_{2}^{n}+\cdots+c_{k}q_{k}^{n}
$$

是递推关系式(1 −17)的通解。其中$c_{1}\,,\;\;c_{2}\,,\;\;\cdots\,,\;\;c_{k}$为任意常数。  



### 1.4.3 生成函数计数法  

前面我们通过考察数列通项之间的递推关系建立求解问题的动态演化模型并据此实现对有限集合的计数。现在我们仍然以数列为基本工具，通过以数列为系数建立无穷次多项式或幂级数的方式找到联结离散数学与连续数学的桥梁，巧妙地将离散数学中离散量的计数问题转化为连续数学中对幂级数的处理问题。这种幂级数我们称之为数列的生成函数或母函数。生成函数是组合分析与计数的重要工具，运用生成函数求解某些给定条件下的组合数、排列数，以及求解某些递推关系时，有时能获得意想不到的效果。  

【定义1.28】设$\cdot x$为一抽象符号，$a_{n}$（$(n=0{,}1{,}2,\cdots)$）为实数。若函数$F(x)$可表示成  

$$
F(x)=a_{0}+a_{1}x+a_{2}x^{2}+\cdots+a_{n}x^{n}+\cdots
$$

则称$\cdot F(x)$为数列$a_{n}$$_{\imath}\left(n=0,\!1,\!2,\cdots\right)$）的生成函数。并约定，若某个$\cdot a_{i}=0(i=0,1,2,\cdots)$，则$a_{i}x^{i}$项可以略去。  

比如$|F(x)=1+x+x^{2}+x^{3}+\cdots+x^{n}+\cdots$是无穷序列1，1，1，⋯的生成函数。  

对于一个有限序列$a_{0}\,,\;\;a_{1}\,,\;\;\cdots,\;\;a_{n}\,.$，可以通过将$a_{n}$之后的项定义为0 的方式扩充成一个无限序列，由此定义生成函数。对于有限序列，当$j>n$时没有形如$|a_{j}x^{j}$的项出现，即有：  

$$
G(x)=a_{0}+a_{1}x+\cdots+a_{n}x^{n}
$$



【定理1.23】无穷重数的$m$元重集$\left\{\infty\cdot a_{1},\ \infty\cdot a_{2},\ \ \cdots,\ \infty\cdot a_{m-1},\ \infty\cdot a_{m}\right\}|$的$r$-组合数的母函数是$f(x)=(1+x+x^{2}+\cdots+x^{n}+\cdots)^{m}$，$f(x)$中$x^{r}$的系数等于上述$r-$组合数。  
