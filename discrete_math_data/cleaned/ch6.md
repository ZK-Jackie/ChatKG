# 第六章 特殊关系模型  

前面学习了关系模型的概念及其五个基本性质。不难发现，日常生活或工作中很多关系虽然从表面上看形态各异、互不相同，但都满足一些相同的基本性质。例如集合之间的相等关系、直线之间的平行关系、多边形之间的全等关系、学生同学关系、整数之间的同余关系等等，它们都满足自反性、对称性和传递性这三条基本性质。我们自然会想到把所有满足这三条性质的关系归为一类特殊关系，并考察这类关系有什么特殊性质和特殊作用，以便在大量错综复杂的具体关系中找到一些共性特征和规律性认识。同样，还有一些关系满足另外一些基本性质，例如集合之间的包含关系、整数之间的整除关系、实数之间的大小关系、英文单词之间的字典排序关系等等，这些关系虽然表面上互不相同、各不相关，但它们都满足自反性、反对称性和传递性这三条基本性质。我们自然会将所有这类关系归为另外一类特殊关系，并考察这类关系有什么相应的特殊性质和特殊作用。通过以上分析，不难得到研究关系的一个普适性方法，就是以关系模型的五个基本性质为标准，将所有关系按它们对这些基本性质满足程度和状态的不同划分为若干特殊类型，然后分门别类地研究同类型关系的共同性质和不同类型关系之间的区别与联系，由此构建各种特殊关系模型及相关理论。显然，通过状态组合构造出的特殊关系有很多，不便一一枚举。作为代表，本章着重介绍其中三种最典型、最基本的特殊关系模型，并分别讨论它们各自的作用，即等价关系模型与元素的分类、相容关系模型与元素的聚类、偏序关系模型与元素的比较。  

## § 6.1 等价关系与元素分类  

等价关系，顾名思义就是表示相同、相等、平等、一致等含义的关系，刻画的是对象之间在某个方面的无差异性。可用等价关系将集合中元素进行分类，使得属于同一类的元素彼此之间具有等价关系，而分属不同类型的元素之间不具有等价关系。属于同一类的元素因其相互之间满足等价关系而可将它们看成是一些无差异的个体，进而将这些无差异个体抽象成一个个体或代表元，由此实现对集合的化简。目前，等价关系可以有效地实现对数据的抽象和化简，已在计算机及相关信息领域得到广泛应用。本节具体介绍等价关系的基本知识，主要包括等价关系与等价类的概念和性质、集合划分与商集的相关知识。  

### 6.1.1  等价关系与等价类  

如前所述，集合的相等关系、直线的平行关系、多边形的全等关系、学生同学关系、整数的同余关系等等，它们都满足自反性、对称性和传递性这三条基本性质。不难看出，这些关系均是表示相同、相等、平等、一致等含义的关系。据此得到等价关系的定义：  

【定义6.1】假设𝐴是任一给定的非空集合，$R$是$𝐴$上的一个二元关系，如果$𝑅$满足自反性、对称性和传递性，则称$𝑅$是一个等价关系。此时，对于$𝐴$中任意两个元素${x}$和$y$，如果$\langle x,y\rangle\in$$R$，则称$x$与𝑦等价，记为$x{\sim}y$。  

从定义可知：关系$R$是等价关系当且仅当$𝑅$同时具备自反性、对称性和传递性；关系$𝑅$不是等价关系当且仅当$𝑅$不具备自反性或对称性或传递性。因此，等价关系的定义是判断关等价关系的一个很好判据。  



显然， 上述每个等价类其实就相当于例题 6.4  中等价关系图的每个完全子图或等价关系矩阵的每个子矩阵块。据此给出如下等价类的一般定义：  

【定义6.2】设$R$是非空集合𝐴上的等价关系，对任意$x\in A$，称下列集合：  

$$
[x]_{R}=\{y|y\in A\land\langle x,y\rangle\in R\}
$$

为$𝑥$关于$𝑅$的等价类，或称为由$x$生成的一个$R $等价类，并称$x$称$[x]_{R}$的生成元或代表元。  

由上述定义可知等价类有以下性质：  

（1）等价类产生的前提是关系$R$必须是等价关系； 

（2）$𝐴$中所有与$$x$$有关系$𝑅$的元素$𝑦$构成了$[x]_{R}$； 

（3）$𝐴$中任意一个元素一定对应一个由其生成的等价类；  

（4）$R$具有自反性意味着对任意$x\in A$，$[x]_{R}$非空。 （5）$R$具有对称性意味着对任意$x,y\in A$，若有 $y\in[x]_{R}$，则有$x\in[y]_{R}$  

从例6.1.2 知，模3 同余关系是一个等价关系，可求出$A=\{1,\!2,\!3,\!4,\!5,\!6,\!7\}$中每个元素的$[1]_{R}=[4]_{R}=[7]_{R}=\{1,4,7\};\,\,\,[2]_{R}=[5]_{R}=\{2,5\};\,\,\,[3]_{R}=\{6\}_{\circ}$  

综合以上分析，可以看出等价类具有下性质： 

【定理6.1】设$R$是非空集合$𝐴$上的等价关系，对于任意$x,y\in A$，成立： 

（1）$\left[x\right]_{R}\neq\emptyset$且$[x]_{R}\subseteq A$；           （2）若$\langle x,y\rangle\in R$，则$[x]_{R}=[y]_{R}$；

（3）若$\langle x,y\rangle\not\in R$，则$[x]_{R}\cap[y]_{R}=\emptyset$； （4）$\mathsf{U}_{x\in A}[x]_{R}=A\,。$  



上述定理表明，对于非空集合$𝐴$上的等价关系$R$，可用$R$的所有等价类将集合$𝐴$划分成若干个互不相交的子集合，每个子集合就是一个等价类。接下来讨论这种划分问题。  

### 6.1.2 集合的划分与商集  

在日常生活和工作中，我们经常将比较大的集合划分为若干比较小的集合，以便于分门别类地处理或管理，例如对于一个具有几千学生规模的学校，需将所有学生的集合划分为几十个班级，然后以每个班级为单位进行管理；再如，将中国的所有领土划分为省或直辖市等若干行政区域，这样每个中国人都可以归属到某个确定的行政区域。不难看出，对集合的一种划分其实就是实现了对集合中元素的一种分类，不同的划分构成了对集合元素的不同分类。例如，我们既可将所有人划分为男人、女人这两类，也可将所有人划分为小孩、年轻人、中年人和老年人这几类。分类是一种非常基本的问题求解策略。例如人工智能中的人脸识别、语言识别、自然语言理解、知识发现、机器博弈等很多问题都可归结为分类问题，从而将对该类问题的求解转化为对分类器的设计。设计分类器一直是科学理论与工程应用研究的热门前沿课题，例如深度学习模型中的卷积神经网络就是一个有效的分类器。下面我们从等价关系和集合划分的角度来学习集合中元素分类的基本知识。首先给出集合划分的定义：  

【定义6.3】假设$𝐴$任一非空集合，$S$是$𝐴$的非空子集$S_{i}$组成的集族$S=\{S_{1},S_{2},\cdots,S_{m}\}$，  且满足:$S_{i}\cap S_{j}=\emptyset\,\,\,{\mathrm{;}}\,\,\,S_{1}\cup S_{2}\cup\dots\cup S_{m}=\,\,\,A\,,$，则称$𝑆$是$𝐴$的一个划分, $S_{1},S_{2},\cdots,S_{m}$分别称为划分$𝑆$的一个划分块或划分类。  



设$R$是非空集合$ A$上的等价关系，则有定理6.1 知等价关系$R$的所有等价类组成的集族构成了集合$𝐴$的划分，我们称这个集族为集合$𝐴$关于$R$的商集，具体定义如下：  

【定义6.4】假设$𝐴$任一非空集合，$R$是$𝐴$上的一个等价关系，称$𝑅$的所有等价类组成的集族为集合$𝐴$关于等价关系$R$的商集，记为${A}/R$。即有：$A/R=\{[x]_{R}|x\in A\}$。  

我们知道商的概念与除法有关，比如把一块蛋糕平均分成四份，可以从不同的角度来看这件事：从算术的角度看，就是1 用4 除，得到的每份$1/4$ 就是商；集合的角度看，所谓商就是将一个大的集合分成了四个小的非空集合，这正是商集概念的含义。  



下面我们介绍两个特殊的等价关系及其商集：  

（1）非空集合𝐴上的完全关系$E_{A}$显然是$𝐴$的一个等价关系。由于对$\forall x\in A$有$[x]_{E_{A}}=A$，故$E_{A}$的商集就是以𝐴为元素的集合，即有$A/E_{A}=\{A\}$。  

（2）非空集合$𝐴$上的恒等关系$I_{A}$显然是$𝐴$的一个等价关系。由于对$\forall x\in A$有$\left[x\right]_{I_{A}}=\left\{x\right\}$，故$I_{A}$的商集就是所有以$\{x\}$为元素组成的集合，即有$A/I_{A}=\left\{\{x\}|x\in A\right\}$。  

从集合划分角度看，完全关系$E_{A}$给了集合$𝐴$的一个最粗略划分，即将整个$𝐴$作为一个划分块，而恒等关系$I_{A}$给出了$𝐴$的一个最细致划分，即分别将$𝐴$中每个元素作为一个一划分块。  

如前所述，非空集合$𝐴$上的每个等价关系$R$都会产生一个商集$A/R$，而且这个商集正好构  

成集合$𝐴$的一个划分。现在考虑一个相反的问题，非空集合$𝐴$上的任何一个划分是否能够产生一个与之相应的等价关系？下面的定理给出了肯定的回答：  

【定理6.2】 假设$\{S=\{S_{1},S_{2},\cdots,S_{m}\}$是非空集合𝐴一个划分，则如下关系  

$$
R=(S_{1}\times S_{1})\cup(S_{2}\times S_{2})\cup\cdots\cup(S_{m}\times S_{m})\quad\text{(6-2)}
$$

是$A$上的等价关系，称之为由该划分所导出的等价关系。

 

上述定理表明，对于非空集合上的任一划分，都可根据该划分构造出一个相应的等价关系，并给出了等价关系的具体构造方法。由此可知，非空集合上的划分与等价关系之间构成了一一对应的关系，即：非空集合的每一种划分都对应着该集合上的一个等价关系；反之，非空集合上每个等价关系都对应着这该集合的一个划分。因此，今后我们既可用集合划分方法解决等价关系问题，也可用等价关系方法解决集合划分问题。或者说，既可用元素分类方法解决等价关系问题，也可用等价关系方法元素分类问题。  



## § 6.2 相容关系与元素聚类  

相容关系，顾名思义就是一种能求同存异的关系，表示对象之间存在一些相同点或共性,例如国家之间的共同利益、人与人之间的共同兴趣爱好等。日常工作和生活中人与人之间的朋友关系、英文单词之间存在共同字母的关系等都可看成是相容关系。与等价关系相比，相容关系所表示对象之间的联系显然要弱一些，因为等价关系要求的是对象之间完全相同或相等。类似于等价关系可构造对集合的划分，相容关系则可构造对集合的覆盖。与划分不同的是构成集合覆盖的各个相容类之间的交集可以为非空。也就是说，集合中的同一元素可同时属于多个不同相容类。这相当于对集合中的元素进行聚类,因为在集合元素的聚类过程中，同一元素可同时聚合到多个不同的类别当中。这是元素聚类与元素分类的主要区别。聚类是有别于分类的另外一种非常重要的问题求解方法，可用于计算机数据分析相关的很多领域，例如数据挖掘和目标识别中的聚类分析等等。本节主要介绍相容关系的基本知识，主要包括相容关系与相容类的概念和性质、集合覆盖与完全覆盖的相关知识。  

### 6.2.1 相容关系与相容类  

相容关系表示的是一种求同存异的关系，对象之间有一些共同点但不完全相同。现在我们从数学的角度来考察相容关系。如前所述，人与人之间的朋友关系、英文单词之间存在共同字母的关系等都可看成是相容关系。不难发现，这些相容关系都满足自反性和对称性，但不满足传递性。由此得到如下关于相容关系的定义：  

【定义6.5】设$𝑅$为非空集合$𝐴$上的关系，若$R$满足自反性和对称性，则称$𝑅$为$𝐴$上的一个相容关系。此时，对于$𝐴$中任意两个元素$x$和𝑦，若$\langle x,y\rangle\in R$，则称$x$与𝑦相容，记为$x\approx y$。  

根据上述定义，不难发现所有的等价关系都可以看成是一种特殊的相容关系，即满足传递性的相容关系，但相容关系不一定是等价关系。  



与等价关系中等价类的概念类似，对于非空集合$𝐴$上的相容关系$R$，将𝐴中一些彼此具有相容关系$R$的元素放在一起构成𝐴的一个子集，由此得到如下相容类的概念：  

【定义6.6】设$ R$是非空集合$𝐴$上的一个相容关系，集合$C$是$𝐴$的某个子集，若对于任意的$x,y\in C$都有$\langle x,y\rangle\in R$，则称$C$是由相容关系$R$的一个相容类。  

例如，在例题6.16 中，$\{a\},\{a,e\},\{b,c\}$等都是$R$的相容类，$\{b,c\}\cup\{d\}=\{b,c,d\}$也是𝑅的相容类，但$\{a,e\}$与任何非空集合的并集都不再是$R$的相容类，此时称$\{a,e\}$为$R$的一个最大相容类，其具体定义如下：  

【定义6.7】设$R$是非空集合$𝐴$上的一个相容关系，$C$是$R$的一个相容类，若在$C$中添加$𝐴$的任何其他元素后，就不再构成相容类，则称$C$为$R$ 的一个最大相容类，记为$C_{R}$。  

例如，在例题6.16 中，$\{a,e\}$和$\{b,c,d\}$都是$R$ 的一个最大相容类。可用相容关系的简化关系图求最大相容类，具体方法如下：  

（1）图中最大完全多边形顶点构成的集合是最大相容类。 

（2）图中每个孤立结点是构成的集合分别是一个最大相容类。  

（3）如果图中某条边不是任何一个完全多边形的边，则该边的两个端点构成的集合是一个最大相容类。  



【定理6.3】设$R$是非空集合$𝐴$上的一个相容关系， $C$是$R$的一个相容类，那么必存在𝑅的一个最大相容类$C_{R}$，使得$C\subseteq C_{R}$。  

### 6.2.2  集合的覆盖  

我们知道，集合上的任何一个等价关系都可以确定该集合的一个划分。那么，集合上的任何一个相容关系是否也能确定该集合的一个划分呢？答案显然是否定的。因为任何一个等价关系都是相容关系，但是相容关系不一定是等价关系。既然显然关系不一定能够对集合产生一个划分，那么它对集合能产生什么另外的效果呢？现在就来考察这个问题。  

在对集合的划分过程中，要求不同划分块之间的交集为空集，也就是说不同划分块之间不能有共同部分。现在取消这个限制，由此得到如下关于集合覆盖的概念：  

【定义6.8】假设$𝐴$任一非空集合，$Q$是$𝐴$的非空子集$Q_{i}$组成的集族$\begin{array}{r}{\boldsymbol{ Q}=\{Q_{1},Q_{2},\cdots,Q_{m}\},}\end{array}$，且满足$Q_{1}\cup Q_{2}\cup\cdots\cup Q_{m}=A$，则称$ Q$是$𝐴$的一个覆盖, $Q_{1},Q_{2},\cdots,Q_{m}$分别称为覆盖$Q$的一个 覆盖块或覆盖类。  

从上述定义可以看出，划分一定是覆盖，但覆盖不一定是划分。例如，在$A=\{1,\!2,\!3\}$的如下子集中，$A_{1},A_{2},A_{3}.$,是覆盖，$A_{1},A_{2}$,是覆盖也是划分，$A_{4}$既不是覆盖也不是划分。  

$$
A_{1}=\big\{\{1\},\{2\},\{3\}\big\},A_{2}=\big\{\{1,2\},\{3\}\big\},A_{3}=\big\{\{1,2\},\{2,3\}\big\},A_{4}=\big\{\{1\},\{3\}\big\}
$$



设$ R$是非空集合$𝐴$上的一个相容关系，下面的定理表明，以$R$的所有最大相容类为元素构成的集合可以能够构成$𝐴$的一个覆盖，并由此到完全覆盖的概念：  

【定理6.4】设$\cdot R$是非空集合𝐴上的一个相容关系，由$R$所有最大相容类为元素构成的集合可以构成𝐴的一个覆盖，并称之为𝐴的一个完全覆盖，记为$C_{R}(A)$。  



【定理6.5】设$\boldsymbol{Q}=\{\;\boldsymbol{Q}_{1},\boldsymbol{Q}_{2},\cdots,\boldsymbol{Q}_{m}\},$为集合$𝐴$的任一覆盖，则由该覆盖确定的关系：  

$$
R=(Q_{1}\times Q_{1})\cup(Q_{2}\times Q_{2})\cup\cdots\cup(Q_{m}\times Q_{m})\quad\text{(6-3)}
$$

是$𝐴$上的相容关系，称之为由该覆盖所导出的相容关系。 



上述定理表明了对于非空集合$𝐴$上的任意一个覆盖，都可以构造出相应的一个相容关系。但是，不同的覆盖有可能产生相同的相容关系。例如，对于集合$A=\{1,\!2,\!3,\!4,\!5\}$上的两个覆盖{{1,2,3}, {3,4}}和{{1,2}, {2,3},{1,3},{3,4}}，易知它们产生的相容关系均为：  

$$
R=\{\langle1,1\rangle,\langle1,2\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,2\rangle,\langle1,3\rangle,\langle3,1\rangle,\langle3,3\rangle,\langle4,4\rangle,\langle3,4\rangle,\langle4,3\rangle\}
$$

因此，非空集合$𝐴$上的相容关系与$𝐴$上的覆盖之间不是一一对应的关系。但是，对于$𝐴$上任意一个给定的相容关系$R$，其所有最大相容类$C_{R}$构成的集合是唯一确定的，因而由$R$所有最大相容类$C_{R}$为元素构成的𝐴最大覆盖$C_{R}(A)$也是唯一确定的。也就是说，非空集合$𝐴$上的每  

个相容关系唯一确定$𝐴$上的一个完全覆盖。  



## § 6.3 偏序关系与元素比较  

前面讨论的等价关系和相容关系主要刻画对象之间的在某些方面的无差异性或存在某些共性特征。序关系刻画则是对象之间的在某些方面差异性，通过对集合中元素之间的差异性比较建立一种具有层次性的离散结构。日常生活和工作中常用的序关系有很多种，包括拟序关系、偏序关系、全序关系和良序关系等，其中的偏序关系最为典型也相对复杂，本节着重介绍偏序关系的相关知识。如果掌握了偏序关系的概念和性质，那么对拟序关系、全序关系和良序关系等其它序关系知识的学习问题就可迎刃而解。  

### 6.3.1 偏序关系与哈斯图  

次序是日常生活和工作中经常遇到的一种关系，例如体育竞赛中的排名、全国高校排名、家族的长幼辈分、某单位的行政职位的级别、实数之间的大小关系、集合之间的包含关系、自然数集合上的整除关系等等，都是次序关系，刻画的是对象之间在某个方面的差异性比较关系。现在我们用数学方法来表示和处理这种序关系。  

我们知道，某集合幂集上的包含关系满足自反性、反对称性和传递性，自然数集合上的整除关系也满足自反性、反对称性和传递性。将这类关系抽象出来，可得到一种名为偏序关系的特殊关系，其具体定义如下：  

【定义6.9】设$R$非空集合$𝐴$上的一个二元关系，如果$𝑅$满足自反性、反对称性和传递性，则称 $R$是$𝐴$上的一个偏序关系,简称为偏序，记为$\preccurlyeq$，读作小于等于或先于。对于𝐴上的任意两个元素$x,y$，如果序偶$\langle x,y\rangle\in R$，则称$x$与𝑦可比且$x$前于$y$或$x$先于$ y$，记为$x\preccurlyeq y$。如果集合$𝐴$上有偏序关系$R$，则称$;A$为是一个偏序集,记为$\langle A,\preccurlyeq\rangle$。  

从上述定义可知，定义中小于等于或先于的含义并不一定是指数的大小，主要是指偏序关系中的顺序，$x$小于等于或先于$ y$的具体含义是：依照这个序关系$x$排在𝑦的前面或者$x$就是$y$。此外，定义中并没有保证$𝐴$中任意两个元素之间都必须具有这种序关系。这正是偏序的含义。所谓偏序,就是集合中的部分元素之间存在这种序关系。  

例如，集合$ A=\{2,4,6,8\}$上的整除关系为：  

$$
R=\{\ \langle2,2\rangle,\langle2,4\rangle,\langle2,6\rangle,\langle2,8\rangle,\langle4,6\rangle,\langle4,8\rangle,\langle6,6\rangle,\langle8,8\rangle\}
$$

显然关系$R$具有自反性、反对称性和传递性，故为偏序关系。$\langle A,R\rangle$是一个偏序集。在这个偏序集中，4和8是可比的且4 先于8，而4 和6是不可比的。  



【定义6.10】设$𝑅$非空集合$𝐴$上的一个二元关系，如果$R$满足反自反性、反对称性和传递性，则称$𝑅$是$𝐴$上的一个拟序关系或半序关系,简称为拟序或半序，记为$\prec$，读作小于。对于$𝐴$上的任意两个元素$x,y$，如果序偶$\langle x,y\rangle\in R$，则称$x$与$𝑦$可比且$$x$$小于$ y$，记为$x\prec y$。如果集合$𝐴$上有偏序关系$R$，则称$𝐴$为是一个拟序集或半序集,记为$\langle A,\prec\rangle$。  

从上述定义可知，定义中小于的含义并不是指数的大小，而是指偏序关系中的顺序，$x$小于𝑦的含义是：依照这个序关系$x$排在𝑦的前面。显然，拟序关系的自反闭包就是偏序关系。因此，偏序关系是拟序关系一种扩充，拟序关系是偏序关系的一种缩减。例如，实数集上的实数小于关系就是一种拟序关系，小于等于关系则是一种偏序关系。  



### 6.3.2 偏序集的特殊元素  

如前所述，偏序集中的偏序关系主要用于集合中元素的差异性比较，既然有比较，就有可能产生一些特殊元素，例如可能会存在某个特殊元素，该元素先于集合中所有元素或者除其自身外集合没有其它元素先于该元素，由此得到偏序集中最小元和极小元的概念。当然，与此相对应，偏序集中也可能存在名为最大元或极大元的特殊元素。不难看出，在哈斯图中一些特殊的点，如最高层的点，最底层的点等等，它们都是偏序集中的特殊元素。下面逐步学习偏序集的常用特殊元素，首先给出如下最小元和最大元的定义：  

【定义6.11】对于偏序集$<A,\preccurlyeq>$和集合𝐴的任意子集$B$：

 若有$b\in B$，使得任意$x\in B$都有${x\preccurlyeq b}$，则称$ b$为$ B$的最大元素，简称最大元；

 若有$b\in B$，使得任意$x\in B$都有$b\preccurlyeq x$，则称$b$为$ B$的最小元素，简称最小元。  

从上述定义可以看出：  

（1）最大元和最小元其实是集合$𝐴$的某个子集合$ B$上的特殊元素，当$B=A$时，此时的最大元和最小元就是整个偏序集合𝐴的最大元和最小元。  

（2）对于集合$B$上的最大元$b$，要求$B$中所有元素都先于$b$，或者说$b$大于或等于$B$中所有元素，这本身就蕴含着一个前提，就是要求$b$与集合$ B$中所有元素都可比，否则$b$就不能成为最大元。由于偏序关系中不是任意两个元素都是可比的，故集合$𝐵$上的最大元可能不存在。  

（3）同样，对于集合$𝐵$上的最小元$𝑏$，要求元素$b$先于$B$中所有元素，或者说$𝑏$小于或等于$B$中所有元素，也蕴含着它与𝐵中所有元素都可比的前提，因此也有可能不存在。  



下面的定理给出了最大元和最小元的唯一性  

【定理6.6】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的有限子集，若$B$存在最大元或最小元，则该最大元或最小元必唯一。  



如前所述，集合$ B$上最大元和最小元必须与$B$中每个元素可比。这个要求比较苛刻会导致最大元和最小元不存在。现取消这种限制，得到如下极大元和极小元的定义：  

【定义6.12】对于偏序集$\langle A,\preccurlyeq\rangle$和集合𝐴的任意子集${B}$：

若有$b\in B$，使得$B$中不存在其他元素${x}$满足$b\preccurlyeq x$，则称$b$为$B$的极大元素,简称极大元；

若有$b\in B$，使得$B$中不存在其他元素${x}$满足$x\preccurlyeq b$，则称$b$为$B$的极小元素，简称极小元。  

从上述定义可以看出，所谓集合$B$中的极大元$b$，就是$B$中除了$b$之外没有任何其它元素，使得$b$先于该元素，也就是说，对于$B$中任何元素，要么它与$b$不可比，要么它小于或等于$𝑏$。因此，对于$𝐴$的任意子集$B$，$B$上的极大元总是存在的。同理，所谓集合$ B$中的极小元$𝑏$，就是$B$中除了$b$之外没有任何其它元素先于$b$，也就是说，对于$B$中任何元素，要么它与$𝑏$不可比，$b$要么小于或等于它。对于$𝐴$的任意子集${B}$，$B$上的极小元也总是存在的。  

下面的定理给出了最大元、极大元、最小元和极小元之间的关系：  

【定理6.7】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的有限子集。则：

 $b$是$B$的最大元$\Leftrightarrow b$是$B$的唯一极大元；$b$是$B$的最小元$\Leftrightarrow b$是$B$的唯一极小元  



【注意】 极大元，极小元并不要求唯一, 但必须是集合$𝐴$中的元素。此外，极大元和极小元可以是同一个元素。  

前面关于偏序集$\langle A,\preccurlyeq\rangle$的四个特殊元素均要求属于集合$𝐴$的某个子集合$ B$，现在取消这个限制，集合 $A$中取其子集$B$的特殊元素，得到$B$的上界和下界、上确界和下确界的概念：  

【定义6.13】对于偏序集$\langle A,\preccurlyeq\rangle$和集合$𝐴$的任意子集${B}$

如果存在元素$a\in A$，对于任意的$x\in B$，有$x\preccurlyeq a$，则称$^{.}a$是$B$的一个上界；

 如果存在元素$a\in A$，对于任意的$x\in B$，有$a\preccurlyeq x$，则称$^{.}a$是$B$的一个下界；  

如果存在子集$B$的上界$a$，使得$B$的任意上界$x$都有$a\leq x$，则称$a$为子集$B$的最小上界或上确界，记为sup$(B)=a$；  

如果存在子集$B$的下界$a$，使得$B$的任意下界$x$都有$x\leq a$，则称$a$为子集$B$的最大下界或下确界，记为𝑖𝑛$\iota f(B)=a$。  

从上述定义不难看出：  

（1）子集$B$的上界、下界、上确界和下确界都可以在集合$𝐴$寻找，可以属于集合$B$，也可以不属于集合$ B$。  

（2）子集$B$的上界和下界可能存在，也可能不存在，如果存在也不一定唯一。  

（3）所谓上确界，其实就是最小的上界；所谓下确界，其实就是最大的下界。上下确界可能存在，也可能不存在，如果存在，必定唯一。  

（4）子集$B$若有上确界，则必有上界，若有下确界，则必有下界，反之不然。  



下面的定理给出了本节所定义8 个特殊元素之间的关系：  

【定理6.8】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的子集。则： 

（1）若$b$是$B$的最大元$\Rightarrow b$是$B$的极大元、上界、上确界；  

（2）若$b$是$B$的最小元$\Rightarrow b$是$B$的极小元、下界、下确界； 

（3）若$a$是$B$的上界，且$a\in B\Rightarrow a$是$B$的最大元； 

（4）若$a$是$B$的下界，且$a\in B\Rightarrow a$是$B$的最小元。

 

### 6.3.3  全序与良序  

前述集合$𝐴$上偏序关系并不保证$𝐴$上的任何两个元素之间都是可比的，也是就是说并不保证任何两个元素之间都存在序关系。然而，在很多场合我们都需要对所关心的所有对象排个次序，例如体育比赛中的种子选手排名、全国各高校的综合排名、大会嘉宾代表的入场次序等等，都需要对所有对象进行排序。现有偏序关系模型显然不能正确表示和处理这类问题。故须加强偏序关系约束条件，在偏序关系基础上引入全序关系，其具体定义如下：  

【定义6.14】对于偏序集$\langle A,\preccurlyeq\rangle$，如果$𝐴$中任意两个元素${x}$和$\boldsymbol{y}$都是可比的，即$x\preccurlyeq y$或者$y\preccurlyeq x$，则称该偏序关系为全序关系或线序关系，简称为全序或线序。并称$\langle A,\preccurlyeq\rangle$为全序集或线序集，也可称为集合$𝐴$的链。  

由上述定义可知，全序关系必定是偏序关系，偏序关系则不一定是全序关系。 

  

可用全序的概念定义偏序集$\langle A,\preccurlyeq\rangle$的一些特殊子集合，具体定义如下：  

【定义6.15】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的任一子集，如果$𝐵$中任意两个元素都是可比的，则称$B$是$𝐴$的一条链，$B$中元素的个数称为该链的长度；反之，如果$B$中任意两个元素都是不可比的，则称 $B$是$𝐴$的一条反链，$B$中元素的个数称为该反链的长度。对于$𝐴$中由单个元素组成的集合，规定它既是链也是反链。  

例如，在偏序集〈{1,2,3,4,5,6,7,8,9}, |〉中，{1,2,4,8}是一条长度为4 的链，{2,4}是一条长度为2 的链，{2,3}则是一条长度为2 的反链。  

偏序集中的链表达了偏序集中部分元素之间存在全序关系，反链则表达了偏序集中部分元素相互之间不存在任何序关系。显然，链表达的是一种串行执行结构，反链表达的是一种并行执行结构。因此，可以使用偏序集中链和反链的概念优化实际问题求解的业务流程，有效提高问题求解的工作效率。  

![](images/18f7caa4d0b707d1ff49eb6f7a547c82b50926bf7ba3ab409aa786a7fcff2f4c.jpg)  
图6-22 保险索赔业务流程  

例如，图6-22 是一个关于保险索赔的流程图。图中方框代表处理流程中业务，圆圈代表某种分支选择。将流程中循环抽象成一个单一的结点，如用单个结点𝑇代替流程图中业务$T_{7}$、$T_{8}$及其后的分支结点。由此得到的所有结点构成集合$𝐴$，在该集合元素之间定义如下偏序关系≼：对$\forall x,y\in A$，当且仅当$x=y$或者$𝑦$必须在$x$完成后才能开始时，成立$x\preccurlyeq y$。如此，集合$𝐴$与其上的偏序关系$\preccurlyeq$便构成一个偏序集$\langle A,\preccurlyeq\rangle$，

图6.23 为其哈斯图。  

考虑偏序集中的链，最长链有4 条，其中2 条分别是：  

$\{T_1,T_2,T_3,S_1,T_6,,S_2,T,T_{10}\}; \{T_1,T_2,T_3,S_1,T_6,,S_2,T_9,T_{10}\}$

长度都是8。显然，最长链的长度代表了整个流程中必须顺序执行的任务最多有多少个。如果完成每项任务的时间差距不大，那么这种最长链就反映了完成整个任务的最少时间。  

![](images/598fd43b47030dd50e3aa3bc789da0841fc0eb2b823d2c8cd7d0b88fecfb1eab.jpg)  
图6-23 业务关系哈斯图  

并行执行业务是提供效率的一种有效途径。在一个偏序集中，如果能够将业务按照不相交的链进行分解，那么这些不相交的链就可在一定程度上并行执行。另一方面，如果把偏序集分解成不相交的反链，那么最长的反链长度则代表了在某个时间区间极大可并行的任务数。下面定理刻画了偏序集的分解与反链之间的关系：  

【定义6.16】设$\langle A,\preccurlyeq\rangle$为偏序集，如果$𝐴$中最长的链长度为$n$，则该偏序集可以分解为$𝑛$条不相交的反链。  



我们知道，对于一个偏序集合$\langle A,\preccurlyeq\rangle$，其任何子集${B}$上的最大值和最小值不一定存在或者不一定都存在。如果我们把偏序集合$\langle A,\preccurlyeq\rangle$的约束条件加强，要求$𝐴$的任何子集$𝐵$上的必须存在最小值，则得到如下良序关系的概念：  

【定义6.17】对于偏序集$\langle A,\preccurlyeq\rangle$，如果$𝐴$的任意一个非空子集$B$中都含有最小元素，则称该偏序关系为良序关系，简称为良序。称$\langle A,\preccurlyeq\rangle$为良序集。  

由上述定义可知，良序关系一定是偏序关系和全序关系，但偏序关系和全序关系不一定是良序关系。例如，实数集合上的小于等于关系显然是全序关系，但不是良序关系，因为开区间(0,1)没有最小值。不过有限的全序集一定是良序集。对于任何一个有限偏序集，可以通过适当排序将其改造成为一个全序集，从而使其成为良序集。  

## § 6.4 特殊关系的应用  

###   6.4.1 粗集定义问题  

现实世界中很多对象群体的边界是很模糊或者不确定的，例如，对于“中年人”这样的群体，怎样用集合或者其它数学工具进行描述？如果将“中年人”这个群体看出是一个集合$𝑆$的话，则$𝑆$就不是经典意义下的集合，因为其成员不确定。事实上，可以使用两个经典集合来刻画$𝑆$，一个叫做$𝑆$的上近似集合${S}\uparrow$，一个叫做$𝑆$的下近似集合$ S\downarrow$，让前者$𝑆↑$尽可能的小，后者$𝑆↑$尽可能的大。当$𝑆↑$能够等同于$𝑆↓$时,$S$就是经典集合，当$𝑆↑$不能够等同于$𝑆↓$时，则称$𝑆$是粗糙集或粗集。例如，可以用$S\uparrow=\{x|25\le x\le60\}$，即用25 岁至60 岁的人的集合，表示“中年人的集合”；还可以用$S\downarrow=\{x|30\le x\le50\}$，即用30 岁至50 岁的人的集合，表示“中年人的集合”。由于无法构造适当的“中年人的集合”的上下近似$S\uparrow=S\downarrow$，因此，“中年人的集合”$𝑆$是一个粗糙集。  

那么如何用准确的数学语言来定义粗糙集呢？下面通过等价关系给出粗集准确的数学定义。设$U$是个体域（或全集），$R$是$U$上的等价关系，则可由$R$导出的$U$的一个划分，如图$6-$$24\left(a\right)$所示，每个方格表示划分的一个单元，也就是一个$ R$等价类。  

如图$6–24\left(b\right)$所示，若$𝑆$是粗糙集，则$𝑆$的上下近似分别是两个粗线条勾画出的多边形，其中$S\uparrow$由与$𝑆$交不空方格的并组成，$S\downarrow$由包含于$𝑆$的方格并组成。  

![](images/05225fe2f04f5f432dc9b2bbf25b62263d90d0d724be9df376f08ea318717259.jpg)  

通过以上分析，就可以给出粗糙集𝑆的定义： 

【定义6.18】设$U$是个体域(或全集)，$R$是$U$上的等价关系，已知$𝑆$的成员均在$U$中。令： ${\begin{array}{l l}{S\uparrow=\cup\,\{[x]_{R}|[x]_{R}\cap S\neq\emptyset\}}&{;\;\;S\downarrow=\cup\,\{[x]_{R}|[x]_{R}\subseteq S\}}\end{array}}\quad\text{(6-4)}$  

那么称$S\uparrow$为$𝑆$的上近似，$S\downarrow$为$𝑆$的下近似。当$\textit{S}\uparrow=\textit{S}$↓时，$S$即是$U$的子集；当$S\uparrow\ne\textit{S}\downarrow$时，称 $𝑆$ 是 $U$ 的粗糙子集，简称为粗糙集或粗集。  

例如，表是考生情况调查表，其中$U$为被调查对象，$R$为高考成绩$(A-$优，$B-$良，$C-$中，$D-$差)；$X$为升学情况($+$为上，$/$为未上)。可根据高考成绩和升学状况进行分类，并可分别计算出下近似集、上近似集。  

表6-3 对集合𝑈的两种划分 
![](images/23b7c96f86908a1723f3af9fc2fde337caca13329476de93665a25a8e36ee553.jpg)  

![](images/1cdfc65fbfddc11bcd85c455f6521676d2bf7ff363efa7f28d82ea21a3e04ed5.jpg)  

事实上，可分别按成绩和升学对$U$进行划分：  

$U/R=\{\{1,6\},\{2\},\{3,5\},\{4\}\}=\{Y_{1},Y_{2},Y_{3},Y_{4}\};\quad U/X=\{\{2,3,5,6\},\{1,4\}\}=\{X_{1},X_{2}\}$ 分别得到粗糙集$S$的上近似和下近似集合：  

$$
S(X_{1})\uparrow=Y_{1}\cup Y_{2}\cup Y_{3}=\{1,2,3,5,6\}\;\;;\;\;\;S(X_{2})\uparrow=Y_{1}\cup Y_{4}=\{1,4,6\};
$$

$$
S(X_{1})\downarrow=Y_{2}\cup Y_{3}=\{2,3,5\}\;\;;\;\;\;S(X_{2})\downarrow=\;\;Y_{4}=\{4\}。
$$

粗糙集可以表示含义模糊且不太确定的概念，大大拓广了经典集合的概念和应用范围，更为重要的是，粗糙集可由经典集合借助等价关系进行定义，具有坚实的理论基础。目前，粗糙集理论在模式识别、数据挖掘等技术领域得到广泛应用。  

###   6.4.2 得分评判问题  

在很多需要排名次的非相互对抗场合，如歌手大赛中的参赛选手、成员的考评、电视节目中主持人大赛中参赛选手的考评等，其评断标准并不像球赛中进球、失球那样准确无误，往往由评判员们分别打分，通过分数计算名次。然而，分数有其不公平的一面。例如，甲、乙、丙三名歌手的得分分别为94 分，92 分，90 分。  

甲的分数-乙的分数$=$乙的分数-丙的分数。  

虽然这两个差相等，但并不能说明甲高出乙的水平等于乙高出丙的水平，因为这里1 分所表示的水平差距并不唯一确定，而是与评判者紧密相关。又如，对于期末考试中某班平均分语文85 分与数学60 分，该班某学生语文80 分，数学70 分，尽管$80>70$，也不能说明这名学生语文学的比数学好。因为这里分数基准点是不一致的。因此有了“标准分”和“等级记分”等科学记分方法，如 “优秀，良好，合格，不合格”四级打分法便是其中一种。  

由偏序关系的定义可知，任何排名次必是一个偏序关系，并且在很大情况下应是线性关系。因此，在上述排名场合（如歌手大赛考评等）可使用“0-1”法记分，并利用偏序关系的反对称性，在比赛过程对选手进行动态排名。下面结合具体实例介绍具体排名过程：  

设有 $A_{1},A_{2},A_{3},A_{4},A_{5},A_{6}$ 这 6  名参赛者，按其下标次序出场比赛。分别为每名评判员准 备一张如表$6–4$ 所示的表格用于对选手进行打分评判。  

表6-4 评判表 
![](images/4c85af2d68ddc01acb3d234836cc3dd6fee35852bbb1e27a76917d56b5336e04.jpg)  

每个评判员的打分方法如下：当$A_{2}$参赛结束时，立即把他与$A_{1}$比较，谁更好一些，若$A_{2}$好一些，在表6-4 的$\mathsf{C}_{21}$位置填上1，若$A_{1}$好一些，则在该位置填上0；$A_{3}$参赛结束后，依次与$A_{1}$、$A_{2}$比较谁好一些，好一些为1，差一些为0，并把这两个比较出来的数依次填在${\mathsf C}_{31}$和  

${\mathsf{C}}_{32}$的位置上。如此下去，知道所有的选手参赛结束。即有：  

$$
C_{ij}=\begin{cases}1&\quad\text{当}A_i\text{比}A_j\text{好时}\\0&\quad\text{当}A_i\text{比}A_j\text{好时}\end{cases}\quad(j<i)\quad\text{(6-5)}
$$

注意的是，当某一位选手比赛结束都要与他参赛的每一名选手比较而且给出谁好谁差的结论(是1 还是0)。也可以利用偏序关系的传递性减少比较次数。如$A_{5}$比$A_{1}$强，而此时已经有$\mathsf{C}_{31}=\mathsf{C}_{41}=0$，则必有${\mathsf{C}}_{53}={\mathsf{C}}_{54}=1$。表6-5 是某一位评判员所裁判的结果。  

表6-5   评判结果 
![](images/0095a64294f10a0d76e1eae14906fdb5c9f5e6a5bc895b20e56aa4e7f6a6e039.jpg)  

如$|A_{5}$行说明$A_{5}$比$A_{1}$好，比$A_{2}$差，比$A_{3}$好，比$A_{4}$  

然后对表6-5 进行整理：首先利用偏序关系的反对称性填充表格的上角，上表虚线为对称轴，右上角各个位置(如$\mathsf C_{12}$)看它的对称位置(即$\mathsf{C}_{21}$)上的数，若其对称位置上数为$1\left(\mathbb{C}_{21}=1\right)$,则它为$0\left(\mathsf{C}_{12}=0\right)$)；若其对称位置上的数为1，则它就是0。即有：  

$$
\mathrm{C}_{ij}=\begin{cases}0&\quad\text{当C}_{ji}=1\text{时}\\1&\quad\text{当C}_{ji}=0\text{时}\end{cases}\quad(i<j)\quad\text{(6-6)}
$$

完成后如表6-6 所示：  

表6-6 对评判结果的整理 
![](images/620931865382a676e3093ac6d3295347415e7bef2cda108424f0318f6d3c3129.jpg)  

把表6-6 各行的数字加起来填入总分列中（倒数第二列），这个列中各数分别为其所在行中相应选手的得分。它们不可能有两个相等的数，否则说明评判或填表有误应作废。把这个列的各数相加填入这一列最后一格为总分和$σ$。事实上$σ$是一个固定数$σ=m(m-1)/2$其中$m$为参赛选手的人数。本例中$m=6$，故有$σ=6*(6-1)/2=15$。  

把表6-6 中各列数字加起来，填入最后一行（即总分行）的相应位置上，分别为其所在列上相应选手的失分，以虚线为对称轴和其对称位置上的得分加起来应该等于$m-1$，  

减1 是因为自己不与自己比较，总分行总分和也等于$m(m-1)/2$。表的最后一列是把各选手的得分转化为人们习惯的百分制，本例中用的是$(m-1)*$得分数$+60$，以避免出现低于60 分的情况，最后把所有评判员有效给出的各个选手成绩相应加起来求平均成绩，按平均成绩高低排名次，此时可能出现并列名次。  
