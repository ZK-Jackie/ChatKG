# 第六章 特殊关系模型  

前面学习了关系模型的概念及其五个基本性质。不难发现，日常生活或工作中很多关系虽然从表面上看形态各异、互不相同，但都满足一些相同的基本性质。例如集合之间的相等关系、直线之间的平行关系、多边形之间的全等关系、学生同学关系、整数之间的同余关系等等，它们都满足自反性、对称性和传递性这三条基本性质。我们自然会想到把所有满足这三条性质的关系归为一类特殊关系，并考察这类关系有什么特殊性质和特殊作用，以便在大量错综复杂的具体关系中找到一些共性特征和规律性认识。同样，还有一些关系满足另外一些基本性质，例如集合之间的包含关系、整数之间的整除关系、实数之间的大小关系、英文单词之间的字典排序关系等等，这些关系虽然表面上互不相同、各不相关，但它们都满足自反性、反对称性和传递性这三条基本性质。我们自然会将所有这类关系归为另外一类特殊关系，并考察这类关系有什么相应的特殊性质和特殊作用。通过以上分析，不难得到研究关系的一个普适性方法，就是以关系模型的五个基本性质为标准，将所有关系按它们对这些基本性质满足程度和状态的不同划分为若干特殊类型，然后分门别类地研究同类型关系的共同性质和不同类型关系之间的区别与联系，由此构建各种特殊关系模型及相关理论。显然，通过状态组合构造出的特殊关系有很多，不便一一枚举。作为代表，本章着重介绍其中三种最典型、最基本的特殊关系模型，并分别讨论它们各自的作用，即等价关系模型与元素的分类、相容关系模型与元素的聚类、偏序关系模型与元素的比较。  

## $\pmb{\S6.1}$  等价关系与元素分类  

等价关系，顾名思义就是表示相同、相等、平等、一致等含义的关系，刻画的是对象之间在某个方面的无差异性。可用等价关系将集合中元素进行分类，使得属于同一类的元素彼此之间具有等价关系，而分属不同类型的元素之间不具有等价关系。属于同一类的元素因其相互之间满足等价关系而可将它们看成是一些无差异的个体，进而将这些无差异个体抽象成一个个体或代表元，由此实现对集合的化简。目前，等价关系可以有效地实现对数据的抽象和化简，已在计算机及相关信息领域得到广泛应用。本节具体介绍等价关系的基本知识，主要包括等价关系与等价类的概念和性质、集合划分与商集的相关知识。  

### 6.1.1  等价关系与等价类  

如前所述，集合的相等关系、直线的平行关系、多边形的全等关系、学生同学关系、整数的同余关系等等，它们都满足自反性、对称性和传递性这三条基本性质。不难看出，这些关系均是表示相同、相等、平等、一致等含义的关系。据此得到等价关系的定义：  

【定义6.1】假设𝐴是任一给定的非空集合，$R$是$𝐴$上的一个二元关系，如果$𝑅$满足自反性、对称性和传递性，则称$𝑅$是一个等价关系。此时，对于$𝐴$中任意两个元素${x}$和$y$，如果$\langle x,y\rangle\in$$R$，则称$x$与𝑦等价，记为$x{\sim}y$。  

从定义可知：关系$R$是等价关系当且仅当$𝑅$同时具备自反性、对称性和传递性；关系$𝑅$不是等价关系当且仅当$𝑅$不具备自反性或对称性或传递性。因此，等价关系的定义是判断关等价关系的一个很好判据。  

【例题6.1】根据定义判断下述关系哪些是等价关系、哪些不是，并说出理由。 

（1）集合上的恒等关系和完全关系； 

（2）某人群上的朋友关系； 

（3）合肥工业大学2016 级新生集合上的同姓关系。  

【分析】根据等价关系的定义可知，满足自反性、对称性和传递性即为等价关系。  

【解】（1）集合上的恒等关系是自反的、对称的和传递的，因此是等价关系，完全关系也是自反的、对称的和传递的，因此也是等价关系；  

（2）朋友关系是自反和对称的但不是传递的，所以朋友关系不是等价关系；

 （3）全体新生的同姓关系是自反的、对称的和传递的，因此是等价关系。  

【例题6.2】设$A=\{1,\!2,\!3,\!4,\!5,\!6,\!7\}$,证明$𝐴$上模3 同余关系$𝑅$是等价关系，并画出关系图。  

【证明】𝑅= {〈1,4〉, 〈1,7〉,〈4,7〉,〈7,1〉, 〈4,1〉, 〈7,4〉,〈5,2〉,〈2,5〉, 〈3,6〉, 〈6,3〉,〈1,1〉,〈2,2〉, 〈3,3〉}显然$R$满足自反性，对称性和传递性，因而是等价关系。𝑅的关系图如图6-1 所示。从关系图中可以看出，集合{1,4,7}中的元素彼此等价并构成一个完全子图，集合{2,5}中的元素彼此等价并构成一个完全子图，集合{3,6}中的元素彼此等价并构成一个完全子图。  

![](images/595b70d6efb270b2747e3e2a63c95621e6a78bb13a8e92ec923027e8ce4db2b5.jpg)  

事实上，对于任何正整数$m$,模$m$同余关系：  

$$
R=\{\langle x,y\rangle|x\in Z\land y\in Z\land x\equiv y{\bmod{m}}\}
$$

显然是整数集上等价关系。下面再看一些等价关系的例子：  

【例题6.3】设集合$A=\{1,\!2,\!3\}$，关系$R=\{\langle1,2\rangle,\langle1,3\rangle\}$，现对$R$依次求自反、对称和传递三种闭包，共有如下6 种不同顺序：  

$$
r s t(R),r t s(R),s t r(R),s r t(R),t s r(R),t r s(R)
$$

问其中哪些关系是等价关系？  

【分析】利用闭包运算的性质可以大大化简计算的步骤，然后依次逐步画出对应的关系图，即可得出结果。  

【解】由于$s r(R)=r s(R);t r(R)=r t(R);s t(R)\subseteq t s(R)$，故有：  

$$
t s r(R)=t r s(R)=r t s(R){};\,\,\,s t r(R)=s r t(R)=r s t(R)
$$

依次画出关系$R$、$t s r(R)$和$s t r(R)$的关系图，如图6-2 所示。其中(a)图表示最初的关系，(b)图表示第一种闭包运算后的关系图，(c)图表示第二种闭包运算后的关系图。  

![](images/17dbe0a8041936370136d3d422d24e3171c82f8d7cf9a31a0f01ced2b98e2703.jpg)  

图 6-2 原关系图与闭包运算后的关系图  

由关系图可以看出，(b)满足自反性，传递性和对称性，因此第一种闭包运算后的关系为等价关系，而(c)图仅满足自反性和对称性，不满足传递性，因此第二种闭包运算后的关系不是等价关系。  

【例题6.4】设集合$A=\{a,b,c,d,e\}$上的关系$R_{1}$和$R_{2}$如下：  

$R_{1}=\{\langle a,a\rangle,\langle a,b\rangle,\langle b,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle e,e\rangle\}$ ${R_{2}}=\{\langle a,b\rangle,\langle b,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle d,e\rangle\}$  

试判断$R_{1}$和$R_{2}$是否为等价关系，并用关系矩阵和关系图表示其中的等价关系。 

【分析】主要利用等价关系的性质进行判断。  

【解】关系$R_{1}$具有自反性、对称性和传递性，所以，关系$R_{1}$是等价关系。其关系矩阵和关系如图6-3 所示。  

![](images/0cc5af854d514d1da37371644bef643be75bd36fbac343e00318962fd3c57e9a.jpg)  
图6-3 $R_1$ 的关系矩阵和关系图  

关系$R_{2}$不具有自反性、对称性和传递性，故不是等价关系。 

从上述关系矩阵和关系图可以看出，相互等价的元素组成了关系图中相互连通的完全子图，并构成关系矩阵中元素全部为1 的若干子矩阵快。不难看出，每个完全子图或子矩阵块都是由集合中彼此相互等价的元素组成。下面结合具体实例分析它们的具体含义。  

假设$𝐴$是一所学校所有学生组成的集合，$𝑅$是$𝐴$上的同姓关系，则$𝑅$显然是一个等价关系。对于$𝐴$中任意一个学生$𝑥$，集合$𝐴$中所有与$x$同姓的学生可以组成$𝐴$的一个子集。一般称这个子集为$x$在等价关系$R$下等价类。因为这个子集中所有学生都与$x$具有等价关系$𝑅$。由此可知，集合$𝐴$中每个元素${x}$都可依据等价关系$R$构造出与之相应的一个$𝐴$的子集，即$x$的等价类。不难看出,每个等价类就代表一个姓氏。因此，$ 𝐴$中彼此等价元素对应的等价类相等，也就是说彼此等价的元素共享相同的等价类，彼此不等价元素的等价类互不相交。如果有两个不相等的等价类交集为非空，则存在学生同时属于两个不同的等价类，也就是说这个学生同时有两个不同的姓氏，这显然是不符合规定的。  

显然， 上述每个等价类其实就相当于例题 6.4  中等价关系图的每个完全子图或等价关系矩阵的每个子矩阵块。据此给出如下等价类的一般定义：  

【定义6.2】设$R$是非空集合𝐴上的等价关系，对任意$x\in A$，称下列集合：  

$$
[x]_{R}=\{y|y\in A\land\langle x,y\rangle\in R\}
$$

为$𝑥$关于$𝑅$的等价类，或称为由$x$生成的一个$R $等价类，并称$x$称$[x]_{R}$的生成元或代表元。  

由上述定义可知等价类有以下性质：  

（1）等价类产生的前提是关系$R$必须是等价关系； 

（2）$𝐴$中所有与$$x$$有关系$𝑅$的元素$𝑦$构成了$[x]_{R}$； 

（3）$𝐴$中任意一个元素一定对应一个由其生成的等价类；  

（4）$R$具有自反性意味着对任意$x\in A$，$[x]_{R}$非空。 （5）$R$具有对称性意味着对任意$x,y\in A$，若有 $y\in[x]_{R}$，则有$x\in[y]_{R}$  

从例6.1.2 知，模3 同余关系是一个等价关系，可求出$A=\{1,\!2,\!3,\!4,\!5,\!6,\!7\}$中每个元素的$[1]_{R}=[4]_{R}=[7]_{R}=\{1,4,7\};\,\,\,[2]_{R}=[5]_{R}=\{2,5\};\,\,\,[3]_{R}=\{6\}_{\circ}$  

综合以上分析，可以看出等价类具有下性质： 

【定理6.1】设$R$是非空集合$𝐴$上的等价关系，对于任意$x,y\in A$，成立： 

（1）$\left[x\right]_{R}\neq\emptyset$且$[x]_{R}\subseteq A$；           （2）若$\langle x,y\rangle\in R$，则$[x]_{R}=[y]_{R}$；

（3）若$\langle x,y\rangle\not\in R$，则$[x]_{R}\cap[y]_{R}=\emptyset$； （4）$\mathsf{U}_{x\in A}[x]_{R}=A\,。$  

【证明】（1）由等价关系$R$的自反性知，对$\forall x\in A$,有$\langle x,x\rangle\in R$即$x\in[x]_{R}$，故$\left[x\right]_{R}\neq\emptyset$$[x]_{R}\subseteq A$是显然的。  

（2）首先对于$[x]_{R}$中的任一元素$z$，有：  

$$
z\in[x]_{R}\Leftrightarrow\langle x,z\rangle\in R\Leftrightarrow\langle z,x\rangle\in R
$$

故有：  

$$
\langle z,x\rangle\in R\land\langle x,y\rangle\in R\Rightarrow\langle z,y\rangle\in R\Rightarrow\langle y,z\rangle\in R\Rightarrow z\in[y]_{R}
$$

即有$[x]_{R}\subseteq[y]_{R}$。同理可证$[y]_{R}\subseteq[x]_{R}$。从而有：$[x]_{R}=[y]_{R}$  。

（3）假设$[x]_{R}\cap[y]_{R}\neq\emptyset$，则存在$z\in[x]_{R}\cap[y]_{R}$，即有$\left\langle z,x\right\rangle\in R\land\left\langle y,z\right\rangle\in R$。根据$R$的对称性知，有$\langle x,z\rangle\in R\land\langle z,y\rangle\in R$，即有$\langle x,y\rangle\in R$。矛盾！故$\left[x\right]_{R}\cap\left[y\right]_{R}=\varnothing$。 

（4）$\cup_{x\in A}[x]_{R}=A$表示$ R$的所有等价类的并等于集合$𝐴$。

 对$\forall x\in A$,有$x\in[x]_{R}$，而$[x]_{R}\subseteq\cup_{x\in A}[x]_{R}$，故有${x}\in\cup_{x\in A}[x]_{R}$，即有$A\subseteq\cup_{x\in A}[x]_{R}$。另一方面，由于对任意的$x\in A$，$\left[x\right]_{R}\subseteq\ A$，故有${\mathsf{U}}_{x\in A}[x]_{R}\subseteq\ A$。  

综上所述，有$\cup_{x\in A}[x]_{R}=A$。  

上述定理表明，对于非空集合$𝐴$上的等价关系$R$，可用$R$的所有等价类将集合$𝐴$划分成若干个互不相交的子集合，每个子集合就是一个等价类。接下来讨论这种划分问题。  

### 6.1.2 集合的划分与商集  

在日常生活和工作中，我们经常将比较大的集合划分为若干比较小的集合，以便于分门别类地处理或管理，例如对于一个具有几千学生规模的学校，需将所有学生的集合划分为几十个班级，然后以每个班级为单位进行管理；再如，将中国的所有领土划分为省或直辖市等若干行政区域，这样每个中国人都可以归属到某个确定的行政区域。不难看出，对集合的一种划分其实就是实现了对集合中元素的一种分类，不同的划分构成了对集合元素的不同分类。例如，我们既可将所有人划分为男人、女人这两类，也可将所有人划分为小孩、年轻人、中年人和老年人这几类。分类是一种非常基本的问题求解策略。例如人工智能中的人脸识别、语言识别、自然语言理解、知识发现、机器博弈等很多问题都可归结为分类问题，从而将对该类问题的求解转化为对分类器的设计。设计分类器一直是科学理论与工程应用研究的热门前沿课题，例如深度学习模型中的卷积神经网络就是一个有效的分类器。下面我们从等价关系和集合划分的角度来学习集合中元素分类的基本知识。首先给出集合划分的定义：  

【定义6.3】假设$𝐴$任一非空集合，$S$是$𝐴$的非空子集$S_{i}$组成的集族$S=\{S_{1},S_{2},\cdots,S_{m}\}$，  且满足:$S_{i}\cap S_{j}=\emptyset\,\,\,{\mathrm{;}}\,\,\,S_{1}\cup S_{2}\cup\dots\cup S_{m}=\,\,\,A\,,$，则称$𝑆$是$𝐴$的一个划分, $S_{1},S_{2},\cdots,S_{m}$分别称为划分$𝑆$的一个划分块或划分类。  

【例题6.5】设$A=\{a,b,c\}$，判断下面子集族是否为$𝐴$的划分：  

$$
\pi_{1}=\{\{\emptyset\},\{a\},\{a,b\}\};\,\,\,\pi_{2}=\{\{a,c\},\{b,c\}\};\,\,\,\pi_{3}=\{\{a,b,c\}\};
$$

$$
\pi_{4}=\{\{a\},\{b\},\{c\}\};\,\,\,\pi_{5}=\{\emptyset,\{a,b\},\{b,c\}\};\,\,\,\pi_{6}=\{\{a\},\{a,b\}\}。
$$

【分析】根据划分的定义进行判断即可。  

【解】由划分的定义知$|\pi_{3},\pi_{4}$为划分，其余均不是划分。因为$\pi_{1}$中$\{\varnothing\}$不是$A$的子集，也不满足另外两个条件；$\pi_{2},\pi_{5},\pi_{6}$中有两个子集的交非空，$\pi_{6}$中所有子集并不为𝐴。  

设$R$是非空集合$ A$上的等价关系，则有定理6.1 知等价关系$R$的所有等价类组成的集族构成了集合$𝐴$的划分，我们称这个集族为集合$𝐴$关于$R$的商集，具体定义如下：  

【定义6.4】假设$𝐴$任一非空集合，$R$是$𝐴$上的一个等价关系，称$𝑅$的所有等价类组成的集族为集合$𝐴$关于等价关系$R$的商集，记为${A}/R$。即有：$A/R=\{[x]_{R}|x\in A\}$。  

我们知道商的概念与除法有关，比如把一块蛋糕平均分成四份，可以从不同的角度来看这件事：从算术的角度看，就是1 用4 除，得到的每份$1/4$ 就是商；集合的角度看，所谓商就是将一个大的集合分成了四个小的非空集合，这正是商集概念的含义。  

【例题6.6】集合 A=\{a,b,c,d,e}上的关系R$如下，求$A/R$。

 $\boldsymbol{R}=\{\langle a,a\rangle,\langle a,b\rangle,\langle b,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle e,e\rangle\}$  

【分析】 题中已给出关系$R$显然是等价关系，故只需要求出$R$的等价类即可。 

【解】由题意知$R$显然是一个等价关系。根据等价类的定义有：  
$$
[a]_{R}=[b]_{R}=\{a,b\};\,\,\,[c]_{R}=\{c\};\,\,\,[d]_{R}=[e]_{R}=\{d,e\}
$$

从而有$A/R=\{\{a,b\},\{c\},\{d,e\}\}$。  

【例题6.7】设$A=\{0,1,2,3,4,5,6,7,8,9\}$, $R$是$𝐴$上模4 同余关系，求$A/R$  。

【分析】易知$R$是$A$上的一个等价关系，其所有等价类为： $[0]_{R},[1]_{R},[2]_{R},[3]_{R},[4]_{R},[5]_{R},[6]_{R},[7]_{R},[8]_{R},[9]_{R}$  

其中有些等价类是相同的，例如$[1]_{R}=[5]_{R}=[9]_{R}$等。根据集合中元素互异性要求，商集中需将这些相等的类进行合并，由此得到商集$A/R=\{[0]_{R},[1]_{R},[2]_{R}\,\,\,,[3]_{R}\}$。  

【解】$A/R=\{\{0,\!4,\!8\},\{1,\!5,\!9\},\{2\},\{3\}\}$。  

由上述例题的解法可得到构造有限集上等价关系商集的一般方法：设$R$是非空集合有限𝐴上等价关系，任选$𝐴$中某一元素$x$并算出$[x]_{R}$，若$\left[x\right]_{R}=A$，则$A/R=[x]_{R}$；否则，在$A-\left[x\right]_{R}$中任取一元素$𝑦$并算出$[y]_{R}$,若$[x]_{R}\cup[y]_{R}=A$，则$A/R=\left[x\right]_{R}\cup\left[y\right]_{R}$；否则在$A-([x]_{R}\cup$$[y]_{R})$)中任取一元素${Z}$并算出$[z]_{R}$,如此下去，直到$A$中所有元素均属于计算出等价类的并集，此时以构造出的所有等价类为元素组成的集合就是$R$的商集$A/R$。  

下面我们介绍两个特殊的等价关系及其商集：  

（1）非空集合𝐴上的完全关系$E_{A}$显然是$𝐴$的一个等价关系。由于对$\forall x\in A$有$[x]_{E_{A}}=A$，故$E_{A}$的商集就是以𝐴为元素的集合，即有$A/E_{A}=\{A\}$。  

（2）非空集合$𝐴$上的恒等关系$I_{A}$显然是$𝐴$的一个等价关系。由于对$\forall x\in A$有$\left[x\right]_{I_{A}}=\left\{x\right\}$，故$I_{A}$的商集就是所有以$\{x\}$为元素组成的集合，即有$A/I_{A}=\left\{\{x\}|x\in A\right\}$。  

从集合划分角度看，完全关系$E_{A}$给了集合$𝐴$的一个最粗略划分，即将整个$𝐴$作为一个划分块，而恒等关系$I_{A}$给出了$𝐴$的一个最细致划分，即分别将$𝐴$中每个元素作为一个一划分块。  

如前所述，非空集合$𝐴$上的每个等价关系$R$都会产生一个商集$A/R$，而且这个商集正好构  

成集合$𝐴$的一个划分。现在考虑一个相反的问题，非空集合$𝐴$上的任何一个划分是否能够产生一个与之相应的等价关系？下面的定理给出了肯定的回答：  

【定理6.2】 假设$\{S=\{S_{1},S_{2},\cdots,S_{m}\}$是非空集合𝐴一个划分，则如下关系  

$$
R=(S_{1}\times S_{1})\cup(S_{2}\times S_{2})\cup\cdots\cup(S_{m}\times S_{m})\quad\text{(6-2)}
$$

是$A$上的等价关系，称之为由该划分所导出的等价关系。

 【证明】往证关系$R$满足自反性、对称性和传递性：  

首先证明自反性：对$\forall x\in A$，由$S_{1}\cup S_{2}\cup\cdots\cup S_{m}=\ A$知，存在某个自然数𝑖，使得$x\in$$S_{i}$。故有$\langle x,x\rangle\in S_{i}\times S_{i}$，即有$\langle x,x\rangle\in R$。因此，$R$是自反的。  

再证明对称性：对$\forall x,\mathbf{y}\in A$，若$\langle x,y\rangle\in R$，则必存在某个自然数$j$，使得$\langle x,y\rangle\in S_{j}\times S_{j}$，则有$\langle y,x\rangle\in S_{j}\times S_{j}$，故有$\langle y,x\rangle\in R$。因此，$R$是对称的。  

最后证明传递性：对$\forall x,\mathbf{y},\mathbf{z}\in A$，若$\langle x,y\rangle\in R$且$\langle y,z\rangle\in R$，则必有自然数𝑖和$j$，使得$\langle x,y\rangle\in S_{i}\times S_{i}$且$\langle y,z\rangle\in S_{j}\times S_{j}$，即 $x\in S_{i}\wedge\;y\in S_{i}\wedge\;y\in S_{j}\wedge z\in S_{j}$。从而有$y\in S_{i}\cap S_{j}$。由于$ S_{i}\cap S_{j}$非空，故有${\boldsymbol{S}}_{i}={\boldsymbol{S}}_{j}$，进而$x$与$z$属于同一个划分块。故有$\langle x,z\rangle\in R$，即$R$是传递的。  

综上所述，关系$𝑅$为$𝐴$上的等价关系。  

上述定理表明，对于非空集合上的任一划分，都可根据该划分构造出一个相应的等价关系，并给出了等价关系的具体构造方法。由此可知，非空集合上的划分与等价关系之间构成了一一对应的关系，即：非空集合的每一种划分都对应着该集合上的一个等价关系；反之，非空集合上每个等价关系都对应着这该集合的一个划分。因此，今后我们既可用集合划分方法解决等价关系问题，也可用等价关系方法解决集合划分问题。或者说，既可用元素分类方法解决等价关系问题，也可用等价关系方法元素分类问题。  

【例题6.8】  对于集合$A=\{1,\!2,\!3,\!4\}$的划分{{1},{2,3},{4}}，构造$𝐴$上等价关系$R$  

【解】令$R=(\{1\}\times\{1\})\cup(\{2,3\}\times\{2,3\})\cup(\{4\}\times\{4\})$，并对$R$做进一步展开化简： $R=\{\langle1,1\rangle\}\cup\{\langle2,2\rangle,\langle2,3\rangle,\langle3,2\rangle,\langle3,3\rangle\}\cup\{\langle4,4\rangle\}$ $=\{\langle1,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,2\rangle,\langle3,3\rangle,\langle4,4\rangle\}$  

显然，关系$R$ 是自反的、对称的和传递的，即$R$是𝐴上的等价关系。

【例题6.9】 设$A=\{1,\!2,\!3\}$。求$𝐴$上的所有的等价关系及对应的商集。 

【分析】每种划分都对应一种等价关系，求出所有划分即得到所有等价关系。  

【解】如图6-4 所示先做出$𝐴$的所有划分，从左到右分别记作$\pi_{1},\pi_{2},\pi_{3},\pi_{4},\pi_{5}$。其中$\pi_{1}$为完全关系，$\pi_{5}$为恒等关系，,$\pi_{2},\pi_{3},\pi_{4}$是具有两个划分块的划分。即有：  

$\pi_{1}=\{1,\!2,\!3\}$；$\pi_{2}=\{1\}\cup\{2,3\}.$；$\pi_{3}=\{3\}\cup\{1,\!2\}$；$\pi_{4}=\{2\}\cup\{1,3\}$；$\pi_{5}=\{1\}\cup\{2\}\cup\{3\}$  

![](images/cc2f852aa945d62bd5e37821c54075caf20063180a4a8676a595f6f4390aaea9.jpg)  
图6-4 各种划分状况  

设对应于划分$\pi_{i}$的等价关系$R_{i}$，$i=1,\!2,\!3,\!4,\!5$，则有：  

$$
R_{1}=\{1,\!2,\!3\}\times\{1,\!2,\!3\}=
$$

$\{\langle1,1\rangle,\langle1,2\rangle,\langle1,3\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,1\rangle,\langle3,2\rangle,\langle3,3\rangle\};$ $R_{2}=(\{1\}\times\{1\})\cup(\{2,3\}\times\{2,3\})=\{\langle1,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,2\rangle,\langle3,3\rangle\};$  

$R_{3}=(\{3\}\times\{3\})\cup(\{2,3\}\times\{2,3\})=\{\langle1,1\rangle,\langle1,2\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle3,3\rangle\};$ $R_{4}=(\{2\}\times\{2\})\cup(\{1,3\}\times\{1,3\})=\{\langle1,1\rangle,\langle1,3\rangle,\langle3,1\rangle,\langle2,2\rangle,\langle3,3\rangle$ $R_{5}=(\{1\}\times\{1\})\cup(\{2\}\times\{2\})\cup(\{3\}\times\{3\})=\{\langle1,1\rangle,\langle2,2\rangle,\langle3,3\rangle\}.$  

以上$R_{i}$即为所求的等价关系且每个划分块$\pi_{i}$就是$R_{i}$的商集，即有$A/R_{i}=\pi_{i}$。  

【例题6.10】设集合$A$中的元素是所有长度为4 的二进制串，定义$𝐴$上的关系$R$为：$\langle x,y\rangle\in R\Leftrightarrow x,y$中0 的个数相同  

证明$R$是$𝐴$上的等价关系，并求出其所有等价类。  

【分析】要证明$R$是$𝐴$上的等价关系，只需证明$R$同时具有自反性、对称性和传递性。由根据4 位二进制串的构成可知，其等价类按二进制串所含0 的个数求解即可。  

【证明】首先证明自反性：对$\forall a\in A$， $a$与$a$中0 的个数显然相同，故$\langle a,a\rangle\in R$。 然后证明对称性：对 $\forall a,b\in A$ ，若 $\langle a,b\rangle\in R$ ，则 $a$ 与 $b$ 中 0  的个数相同，从而 $b$ 与 $a$ 中 0 的个数也相同，故有$\langle b,a\rangle\in R$，即$R$是对称的。  

最后证明传递性：对 $\forall a,b,c\in A$ ，若 $\langle a,b\rangle\in R\in R$ ， $\langle b,c\rangle\in R$ ，则 $a$ 与 $b$ 中 0  的个数相 同，$b$与$c$中0 的个数相同，从而$a$与$c$中0 的个数相同。故有$R<a,c>\in R$，即$R$是传递的。  

综上所述，$R$是$𝐴$上的一个等价关系。$R$对应的等价类如下：

 不含0 的等价类：{1111}；含1 个0 的等价类：{0111,1011,1101,1110}  ；

含2 个0 的等价类：{0011,0101,0110,1001,1010,1100}； 

含3 个0 的等价类：$\{1000,0001,0100,0010\}$；含4 个0 的等价类：{0000}。  

【例题6.11】设$A=\{a,b,c,d,e\}$的一个划分$\pi=\{\{a\},\{b,c\},\{d,e\}\}$，试求由该划分确定的$𝐴$上等价关系$𝑅$。  

【解】方法1：通过集合运算求解。根据等价关系构造公式，有：  

$$
R=\{a\}\times\{a\}\cup\{b,c\}\times\{b,c\}\cup\{d,e\}\times\{d,e\}
$$

$$
\begin{array}{r l}&{=\{\langle a,a\rangle\}\cup\{\langle b,b\rangle,\langle b,c\rangle,\langle c,b\rangle,\langle c,c\rangle\}\cup\ \{\langle d,d\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle e,e\rangle\}}\end{array}
$$

$$
=\{\langle b,c\rangle,\langle c,b\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle e,e\rangle\}
$$

方法2：利用关系矩阵求解：  

（1）作一个$5\!\times\!5$ 的空白矩阵，先不写矩阵元素，如图6-5(a)所示。  

（2）根据划分$\pi=\{\{a\},\{b,c\},\{d,e\}\}$，将此空白矩阵按行分成3 部分，再按列划分成3部分，将该矩阵分成9 个子矩阵，如图6-5(b)所示。  

（3）将所有包含主对角元素在内的子块元素写上1，其余位置写上0，得到$R$的关系矩阵$ M_{R}$，如图6-5(d)所示。由$M_{R}$可以很容易地写出：  

$$
R=\{\langle b,c\rangle,\langle c,b\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle e,e\rangle\}
$$

![](images/7797ed32a2199e0f25d6f31936091261e1c5299328fce148db86ce58952dad7c.jpg)  
图6-5 关系矩阵求解  

方法3：利用关系图求解。  

（1）先画出5 个结点，分别标为$a,b,c,d,e$，如图6-6(a)所示；  

（2）根据划分$\pi=\{\{a\},\{b,c\},\{d,e\}\}$，分别对子集$\{a\}$，$\{b,c\}$，$\{d,e\}$进行用完全图进行描绘，如图6-6(b)所示。  

![](images/208163c9234cb517aa2317efe31ee850e0be55de1b342876ae9ad2da1b09ce83.jpg)  
图6-6 关系图求解  

显然，图6.6(b)就是等价关系$R$的关系图$G_{R}$。根据$G_{R}$容易得到：  

$$
R=\{\langle b,c\rangle,\langle c,b\rangle,\langle d,e\rangle,\langle e,d\rangle,\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle e,e\rangle\}
$$

解毕！  

## $\S\,\mathsf{6}.\,2$ 相容关系与元素聚类  

相容关系，顾名思义就是一种能求同存异的关系，表示对象之间存在一些相同点或共性,例如国家之间的共同利益、人与人之间的共同兴趣爱好等。日常工作和生活中人与人之间的朋友关系、英文单词之间存在共同字母的关系等都可看成是相容关系。与等价关系相比，相容关系所表示对象之间的联系显然要弱一些，因为等价关系要求的是对象之间完全相同或相等。类似于等价关系可构造对集合的划分，相容关系则可构造对集合的覆盖。与划分不同的是构成集合覆盖的各个相容类之间的交集可以为非空。也就是说，集合中的同一元素可同时属于多个不同相容类。这相当于对集合中的元素进行聚类,因为在集合元素的聚类过程中，同一元素可同时聚合到多个不同的类别当中。这是元素聚类与元素分类的主要区别。聚类是有别于分类的另外一种非常重要的问题求解方法，可用于计算机数据分析相关的很多领域，例如数据挖掘和目标识别中的聚类分析等等。本节主要介绍相容关系的基本知识，主要包括相容关系与相容类的概念和性质、集合覆盖与完全覆盖的相关知识。  

### 6.2.1 相容关系与相容类  

相容关系表示的是一种求同存异的关系，对象之间有一些共同点但不完全相同。现在我们从数学的角度来考察相容关系。如前所述，人与人之间的朋友关系、英文单词之间存在共同字母的关系等都可看成是相容关系。不难发现，这些相容关系都满足自反性和对称性，但不满足传递性。由此得到如下关于相容关系的定义：  

【定义6.5】设$𝑅$为非空集合$𝐴$上的关系，若$R$满足自反性和对称性，则称$𝑅$为$𝐴$上的一个相容关系。此时，对于$𝐴$中任意两个元素$x$和𝑦，若$\langle x,y\rangle\in R$，则称$x$与𝑦相容，记为$x\approx y$。  

根据上述定义，不难发现所有的等价关系都可以看成是一种特殊的相容关系，即满足传递性的相容关系，但相容关系不一定是等价关系。  

【例题6.12】判断下列关系是否为相容关系： 

（1）人群中的朋友关系；（2）某校学生中的同班关系；（3）集合上的包含关系。

 【分析】关系满足自反性和对称性即为相容关系。 

【解】（1）朋友关系满足自反性和对称性，但不满足传递性，故是相容关系；(2)同班  

关系满足自反性、对称性和传递性，因此是相容关系，也是等价关系；（3）集合上的包含关系满足自反性，不满足对称性和传递性，因此不是相容关系。  

【例题6.13】设$A=\{a b,b c d,c e,f e\},$,关系$R$定义为$𝐴$中字符串中有相同的字母，试证明关系$R$是相容关系但不是等价关系。  

【证明】根据题意，关系$R$由如下元素构成：  

$$
R=\{\langle a b,b c d\rangle,\langle b c d,c e\rangle,\langle c e,f e\rangle,\langle b c d,a b\rangle,\langle c e,b c d\rangle,
$$

$$
\langle f e,c e\rangle,\langle a b,a b\rangle,\langle b c d,b c d\rangle,\langle c e,c e\rangle,\langle f e,f e\rangle\}
$$

易知,关系$R$满足自反性和对称性。因为$\langle a b,b c d\rangle\in R$且$\langle b c d,c e\rangle\in R$，但$\langle a b,c e\rangle\notin R$。故$R$不满足传递性。因此，$R$是相容关系但不是等价关系。  

【例题6.14】设$A=\{a,b,c,d\}$中4 个元素分别表示4 个大学生，其中$a,b,c,$是校篮球队队员，$c,d$是校足球队队员，$a,d$是校排球队队员。对于$ A$中任意两名同学，如果这两名同学具有共同球队，则认为这两名同学有关系$R$，试证明关系$R$是相容关系但不是等价关系。  

【证明】根据题意，关系$R$由如下元素构成：  

$$
\begin{array}{r}{R=\{\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle a,b\rangle,\langle b,a\rangle,\langle a,c\rangle,\langle c,a\rangle,}\end{array}
$$

$$
\langle b,c\rangle,\langle c,b\rangle,\langle c,d\rangle,\langle d,c\rangle,\langle a,d\rangle,\langle d,a\rangle\}
$$

易知,关系 $R$ 满足自反性和对称性。因为 $\langle b,c\rangle\in R$ 且 $\langle c,d\rangle\in R$ ，但 $\langle b,d\rangle\not\in R$ 。故 $R$ 不满足 传递性。因此，$R$是相容关系但不是等价关系。

【例题6.15】假设集合$\mathbf{{A}}=\{3,\!4,\!5,\!6,\!10\}$，$A$上的关系定义为$R$：

$R=\left\{\langle a,b\rangle|a,b\right.$能被$𝐴$中同一个元素整除}  

试判断$R$是否为相容关系或等价关系，并画出其关系矩阵和关系图。

 【分析】判断关系是否具有自反性、对称性和传递性，然后根据定义判断。  

【解】$A$中能被素数2 整除的数4,6 和10 组成一组，能被素数3 整除的数3 和6 组成一组，能被素数5 整除的数5 和10 组成一组。由此可得：  

$$
R=\{\langle4,4\rangle,\langle4,6\rangle,\langle4,10\rangle,\langle6,4\rangle,\langle6,6\rangle,\langle6,10\rangle,\langle10,4\rangle,\langle10,6\rangle,\langle10,10\rangle,\langle3,3\rangle,\langle3,6\rangle,\langle6,3\rangle,\langle5,5\rangle,\langle5,10\rangle,\langle10,5\rangle\}
$$

关系$R$的关系矩阵和关系图如下：  

![](images/ededfa4afbaa904d00b8488c118ef3ee59fbc2b7f7cebea2babcdffbf2588486.jpg)  
图6-7 相容关系的关系矩阵和关系图  

容易验证，$R$是自反的和对称的，但不是传递的。因为$\langle3,6\rangle\in R$且$\langle6,4\rangle\in R$，但〈3,4〉∉$R$。故关系$R$是相容关系但不是等价关系。 

由上述例题可知，相容关系矩阵为对称矩阵且主对角线元素全为1，关系图中每个结点都有自环，不同结点之间若有边相连，则一定是方向相反的两条边。  

既然关系图中每个结点的自环都确定存在，那么就可将自环省略；同样，既然图中每条边都确定成对出现且方向相反，那么就可用一条无向边将其取代。由此得到相容关系图的简化图。图表示上述例题的简化图。  

【例题6.16】对于$A=\{a,b,c,d,e\}$上的关系$R$  

$$
R=\{\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle e,e\rangle,\langle a,b\rangle,\langle b,a\rangle,\langle a,e\rangle,
$$

$$
\langle e,a\rangle,\langle b,c\rangle,\langle c,b\rangle,\langle d,d\rangle,\langle d,b\rangle,\langle c,d\rangle,\langle d,c\rangle,\langle c,e\rangle,\langle e,c\rangle\}
$$

试证明$R$是$A$上的一个相容关系，并画出其关系图和简化关系图。  

【证明】关系$R$满足自反性与对称性，$R$是$𝐴$上的一个相容关系。其关系图如下图（a）所示。对相容关系而言，在它的图形表示中，每个元素的环不必画出，两个元素之间方向相反的有向边也不必画出，可代之以一条无向边，得到的图即为简化关系图。因此图（a）的简化关系图如图（b）所示。 

![](images/72b271e936ed58e0e5546eec9ca3013464b80992f853d6d6623d93df69da2b89.jpg)  
图6-8 例题6.16 相容关系图与简化图  

与等价关系中等价类的概念类似，对于非空集合$𝐴$上的相容关系$R$，将𝐴中一些彼此具有相容关系$R$的元素放在一起构成𝐴的一个子集，由此得到如下相容类的概念：  

【定义6.6】设$ R$是非空集合$𝐴$上的一个相容关系，集合$C$是$𝐴$的某个子集，若对于任意的$x,y\in C$都有$\langle x,y\rangle\in R$，则称$C$是由相容关系$R$的一个相容类。  

例如，在例题6.16 中，$\{a\},\{a,e\},\{b,c\}$等都是$R$的相容类，$\{b,c\}\cup\{d\}=\{b,c,d\}$也是𝑅的相容类，但$\{a,e\}$与任何非空集合的并集都不再是$R$的相容类，此时称$\{a,e\}$为$R$的一个最大相容类，其具体定义如下：  

【定义6.7】设$R$是非空集合$𝐴$上的一个相容关系，$C$是$R$的一个相容类，若在$C$中添加$𝐴$的任何其他元素后，就不再构成相容类，则称$C$为$R$ 的一个最大相容类，记为$C_{R}$。  

例如，在例题6.16 中，$\{a,e\}$和$\{b,c,d\}$都是$R$ 的一个最大相容类。可用相容关系的简化关系图求最大相容类，具体方法如下：  

（1）图中最大完全多边形顶点构成的集合是最大相容类。 

（2）图中每个孤立结点是构成的集合分别是一个最大相容类。  

（3）如果图中某条边不是任何一个完全多边形的边，则该边的两个端点构成的集合是一个最大相容类。  

【例题6.17】设给定相容关系图如图6-9 所示，写出其全部最大相容类。  

![](images/ded4216d53c5b7fad04a8cfe168bd0c3add0201d3048dafca8bc46e3a65b4ee8.jpg)  
图 6-9 相容关系图  

【分析】利用相容关系图及最大相容类的定义即可。  

【解】由最大相容类定义及其关系图知最大相容类为$\{a,g,d\},\{b,c,g,d\},\{g,f\},\{e\}$。 下面的定理6.3 表明了非空有限集合上最大相容类的存在性：  

【定理6.3】设$R$是非空集合$𝐴$上的一个相容关系， $C$是$R$的一个相容类，那么必存在𝑅的一个最大相容类$C_{R}$，使得$C\subseteq C_{R}$。  

【证明】设$A=\{x_{1},x_{2},\cdots,x_{n}\}$，构造相容类序列：  

$$
C_{0}\subset C_{1}\subset C_{2}\subset\cdots
$$

其中$C_{0}=C$且$C_{i+1}=C_{i}\cup\{x_{j}\}$， $j$是满足$x_{j}\notin C_{i}$且$x_{j}$与$C_{i}$中各元素都相容的最小下标。  

由于$|A|=n$，故上述相容类的构造过程至多经$n-|C|$步结束，此时序列中最后一个相容类即为所求。  

$ 【例题6.18】令x_{1}=f l y,x_{2}=a n y,x_{3}=a b l e,x_{4}=k e y,x_{5}=b o o k,x_{6}=p u m p,x_{7}=f i t,$ 集合$A=\{x_{1},x_{2},x_{3},x_{4},x_{5},x_{6},x_{7}\}$,定义$A$上的二元关系$R$为：  

$R=\{\langle\alpha,\beta\rangle|\alpha,\beta\in A$且$\alpha$和$\beta$含有相同的字母}

 试证明$R$是$𝐴$上的相容关系，列出$R$的部分相容类并用简化关系图找出全部最大相容类。  

【证明】关系$R$显然满足自反性和对称性。注意到$\langle f l y,a b l e\rangle\in R$且$\langle a b l e,b o o k\rangle\in R$，但$\langle f l y,b o o k\rangle\notin R$，故$R$不满足传递性。因此，$R$是$𝐴$上的相容关系但不是等价关系。  

下列集合都是$R$的相容类：  

$$
\{x_{1},x_{2}\},\{x_{3},x_{4}\},\{x_{1},x_{2},x_{3}\},\{x_{2},x_{3},x_{4}\},\{x_{1},x_{2},x_{4}\}
$$

$$
\{x_{3},x_{4},x_{5}\},\{x_{1},x_{3},x_{4}\},\{x_{1},x_{2},x_{3},x_{4}\},\{x_{1},x_{7}\},\{x_{6}\}
$$

![](images/dc6aec9dfd0b5bc6b97549d250a23c17e234351d2e04fcc320ee8745ede64bda.jpg)  
图6-10 相容关系图和简化关系图  

图6-10（a）和图6-9（b）分别表示相容关系$𝑅$的关系图和简化关系图，从简化关系图中可以看出𝑅的全部最大相容类为：$\{x_{1},x_{2},x_{3},x_{4}\},\{x_{3},x_{4},x_{5}\},\{x_{1},x_{7}\},\{x_{6}\}$。  

### 6.2.2  集合的覆盖  

我们知道，集合上的任何一个等价关系都可以确定该集合的一个划分。那么，集合上的任何一个相容关系是否也能确定该集合的一个划分呢？答案显然是否定的。因为任何一个等价关系都是相容关系，但是相容关系不一定是等价关系。既然显然关系不一定能够对集合产生一个划分，那么它对集合能产生什么另外的效果呢？现在就来考察这个问题。  

在对集合的划分过程中，要求不同划分块之间的交集为空集，也就是说不同划分块之间不能有共同部分。现在取消这个限制，由此得到如下关于集合覆盖的概念：  

【定义6.8】假设$𝐴$任一非空集合，$Q$是$𝐴$的非空子集$Q_{i}$组成的集族$\begin{array}{r}{\boldsymbol{ Q}=\{Q_{1},Q_{2},\cdots,Q_{m}\},}\end{array}$，且满足$Q_{1}\cup Q_{2}\cup\cdots\cup Q_{m}=A$，则称$ Q$是$𝐴$的一个覆盖, $Q_{1},Q_{2},\cdots,Q_{m}$分别称为覆盖$Q$的一个 覆盖块或覆盖类。  

从上述定义可以看出，划分一定是覆盖，但覆盖不一定是划分。例如，在$A=\{1,\!2,\!3\}$的如下子集中，$A_{1},A_{2},A_{3}.$,是覆盖，$A_{1},A_{2}$,是覆盖也是划分，$A_{4}$既不是覆盖也不是划分。  

$$
A_{1}=\big\{\{1\},\{2\},\{3\}\big\},A_{2}=\big\{\{1,2\},\{3\}\big\},A_{3}=\big\{\{1,2\},\{2,3\}\big\},A_{4}=\big\{\{1\},\{3\}\big\}
$$

【例题6.19】设集合$A=\{1,\!2,\!3,\!4\}$，判断下列集合是否是$𝐴$的覆盖： $\{\{1,2\},\{2,3\},\{1,4\}\};\;\;\{\{1,2,3,4\},\emptyset\};\;\;\{\{1\},\{2,3,4\},\{2,4\}\};$ $\{\{1,2\},\{3,4\}\};\;\;\{\{1\},\{2,3\}\};\;\;\{\{1,2,3\},\{4\}\}.$  

【分析】根据覆盖的定义进行判定。  

【解】根据集合覆盖的定义，集合{{1,2},{2,3}, {1,4}}, {{1},{2,3,4}, {2,4}}, {{1,2}, {3,4}}和$\{\{1,2,3\},\{4\}\}$都是$A$的覆盖；$\{\{1,2,3,4\},\emptyset\}$不是$𝐴$的覆盖，因为其中含有空集$\varnothing$；{{1}, {2,3}}不是$𝐴$的覆盖，因为$\{1\}\cup\{2,3\}\neq A$。  

设$ R$是非空集合$𝐴$上的一个相容关系，下面的定理表明，以$R$的所有最大相容类为元素构成的集合可以能够构成$𝐴$的一个覆盖，并由此到完全覆盖的概念：  

【定理6.4】设$\cdot R$是非空集合𝐴上的一个相容关系，由$R$所有最大相容类为元素构成的集合可以构成𝐴的一个覆盖，并称之为𝐴的一个完全覆盖，记为$C_{R}(A)$。  

【证明】设$𝑅$的所有最大相容类为元素组成的集合为{ $C_{1},C_{2},\cdots,C_{n}\}$，则由最大相容类的定义知，每个最大相容类$C_{i}$都是$𝐴$的一个非空子集合。下面证明$A=C_{1}\cup C_{2}\cup\cdots\cup C_{n}$。  

因为对于每个$C_{i}$均有$C_{i}\subseteq A$，故有$C_{1}\cup C_{2}\cup\cdots\cup C_{n}\subseteq A$  

另一方面，对于$\forall x\in A$，由于集合$\{x\}$是相容类，故存在某个最大相容类$C_{j}$，使得$\{x\}\subseteq$$C_{j}$，故有$x\in C_{j}$，即有$x\in C_{1}\cup C_{2}\cup\cdots\cup C_{n}.$。故有：$A\subseteq C_{1}\cup C_{2}\cup\cdots\cup C_{n}$。  

因此，成立$A=C_{1}\cup C_{2}\cup\cdots\cup C_{n}$。故$C_{1}\cup C_{2}\cup\cdots\cup C_{n}$是$𝐴$的一个覆盖。  

上述定理表明，非空集合$𝐴$上的任何一个相容关系$R$都可以产生一个$A$的覆盖，而且是完全覆盖。那么反过来，非空集合$𝐴$上的任何一个覆盖，是否能够产生一个与之相应的相容关系？下面的定理对此给出了肯定的回答。  

【定理6.5】设$\boldsymbol{Q}=\{\;\boldsymbol{Q}_{1},\boldsymbol{Q}_{2},\cdots,\boldsymbol{Q}_{m}\},$为集合$𝐴$的任一覆盖，则由该覆盖确定的关系：  

$$
R=(Q_{1}\times Q_{1})\cup(Q_{2}\times Q_{2})\cup\cdots\cup(Q_{m}\times Q_{m})\quad\text{(6-3)}
$$

是$𝐴$上的相容关系，称之为由该覆盖所导出的相容关系。 

【证明】需要证明关系$R$满足自反性和对称性。  

首先证明自反性：对于任意的$x\in A$，由于$Q_{1}\cup Q_{2}\cup\cdots\cup Q_{m}=A$,故存在某个自然数$𝑖$使得$x\in Q_{i}$，则有$\langle x,x\rangle\in Q_{i}\times Q_{i}$，即$\langle x,x\rangle\in R$。$R$的自反性得证。  

再证明对称性：对于任意的$x\in A$和$y\in A$，如果$\langle x,y\rangle\in R$，则存在某个自然数$j$，使得$\langle x,y\rangle\in Q_{j}\times Q_{j}$，于是$\langle y,x\rangle\in C_{j}\times C_{j}$，即$\langle y,x\rangle\in R$。$R$的对称性得证。  

综上所述，关系$R$为集合$𝐴$上的相容关系。证毕!  

上述定理表明了对于非空集合$𝐴$上的任意一个覆盖，都可以构造出相应的一个相容关系。但是，不同的覆盖有可能产生相同的相容关系。例如，对于集合$A=\{1,\!2,\!3,\!4,\!5\}$上的两个覆盖{{1,2,3}, {3,4}}和{{1,2}, {2,3},{1,3},{3,4}}，易知它们产生的相容关系均为：  

$$
R=\{\langle1,1\rangle,\langle1,2\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,2\rangle,\langle1,3\rangle,\langle3,1\rangle,\langle3,3\rangle,\langle4,4\rangle,\langle3,4\rangle,\langle4,3\rangle\}
$$

因此，非空集合$𝐴$上的相容关系与$𝐴$上的覆盖之间不是一一对应的关系。但是，对于$𝐴$上任意一个给定的相容关系$R$，其所有最大相容类$C_{R}$构成的集合是唯一确定的，因而由$R$所有最大相容类$C_{R}$为元素构成的𝐴最大覆盖$C_{R}(A)$也是唯一确定的。也就是说，非空集合$𝐴$上的每  

个相容关系唯一确定$𝐴$上的一个完全覆盖。  

【例题6.20】试给出集合$A=\{1,\!2,\!3,\!4,\!5\}$上的两个相容关系。  

【分析】首先构造集合$𝐴$的两个覆盖，然后根据覆盖构造相容关系。  

【解】易知{{1,2,3}, {4,5}}和{{1,2}, {4,3},{5}}都是$𝐴$的覆盖。由此可构造如下关系： 

$R_1=\{\langle1,1\rangle,\langle1,2\rangle,\langle1,3\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle2,3\rangle,\langle3,1\rangle,\langle3,2\rangle,\langle3,3\rangle,\langle4,4\rangle,\langle4,5\rangle,\langle5,4\rangle,\langle5,5\rangle\}; $

$R_{2}=\{\langle1,1\rangle,\langle1,2\rangle,\langle2,1\rangle,\langle2,2\rangle,\langle3,3\rangle,\langle3,4\rangle,\langle4,3\rangle,\langle4,4\rangle,\langle5,5\rangle\}_{\circ}$ 

显然，$R_{1}$和$R_{2}$都具有自反性和对称性。所以，$R_{1}$和$R_{2}$都是集合$𝐴$上的相容关系。  

## $\pmb{\S6.3}$ 偏序关系与元素比较  

前面讨论的等价关系和相容关系主要刻画对象之间的在某些方面的无差异性或存在某些共性特征。序关系刻画则是对象之间的在某些方面差异性，通过对集合中元素之间的差异性比较建立一种具有层次性的离散结构。日常生活和工作中常用的序关系有很多种，包括拟序关系、偏序关系、全序关系和良序关系等，其中的偏序关系最为典型也相对复杂，本节着重介绍偏序关系的相关知识。如果掌握了偏序关系的概念和性质，那么对拟序关系、全序关系和良序关系等其它序关系知识的学习问题就可迎刃而解。  

### 6.3.1 偏序关系与哈斯图  

次序是日常生活和工作中经常遇到的一种关系，例如体育竞赛中的排名、全国高校排名、家族的长幼辈分、某单位的行政职位的级别、实数之间的大小关系、集合之间的包含关系、自然数集合上的整除关系等等，都是次序关系，刻画的是对象之间在某个方面的差异性比较关系。现在我们用数学方法来表示和处理这种序关系。  

我们知道，某集合幂集上的包含关系满足自反性、反对称性和传递性，自然数集合上的整除关系也满足自反性、反对称性和传递性。将这类关系抽象出来，可得到一种名为偏序关系的特殊关系，其具体定义如下：  

【定义6.9】设$R$非空集合$𝐴$上的一个二元关系，如果$𝑅$满足自反性、反对称性和传递性，则称 $R$是$𝐴$上的一个偏序关系,简称为偏序，记为$\preccurlyeq$，读作小于等于或先于。对于𝐴上的任意两个元素$x,y$，如果序偶$\langle x,y\rangle\in R$，则称$x$与𝑦可比且$x$前于$y$或$x$先于$ y$，记为$x\preccurlyeq y$。如果集合$𝐴$上有偏序关系$R$，则称$;A$为是一个偏序集,记为$\langle A,\preccurlyeq\rangle$。  

从上述定义可知，定义中小于等于或先于的含义并不一定是指数的大小，主要是指偏序关系中的顺序，$x$小于等于或先于$ y$的具体含义是：依照这个序关系$x$排在𝑦的前面或者$x$就是$y$。此外，定义中并没有保证$𝐴$中任意两个元素之间都必须具有这种序关系。这正是偏序的含义。所谓偏序,就是集合中的部分元素之间存在这种序关系。  

例如，集合$ A=\{2,4,6,8\}$上的整除关系为：  

$$
R=\{\ \langle2,2\rangle,\langle2,4\rangle,\langle2,6\rangle,\langle2,8\rangle,\langle4,6\rangle,\langle4,8\rangle,\langle6,6\rangle,\langle8,8\rangle\}
$$

显然关系$R$具有自反性、反对称性和传递性，故为偏序关系。$\langle A,R\rangle$是一个偏序集。在这个偏序集中，4和8是可比的且4 先于8，而4 和6是不可比的。  

【例题6.21】 判断集合$A=\{2,\!3,\!4,\!5,\!6,\!8\}$上的整除关系是否为偏序关系，并用关系矩阵和关系图表示。  

【分析】首先求出它的整除关系$R$，利用偏序关系满足的三个性质判断是否为偏序关系。  

【解】 集合$𝐴$上的整除关系为：  

$$
R=\{\langle2,2\rangle,\langle2,4\rangle,\langle2,6\rangle,\langle2,8\rangle,\langle3,3\rangle,\langle3,6\rangle,\langle4,4\rangle,\langle4,8\rangle,\langle5,5\rangle,\langle6,6\rangle,\langle8,8\rangle\}
$$

显然，关系$R$具有自反性、反对称性和传递性，因而是偏序关系。该关系的关系矩阵和关系图如图6-11 所示。  

![](images/f11dee1b1a2b9883323e539eede196aede46674fadec7f5fbe74ab95b0b610a3.jpg)  
图6-11 整除关系的关系矩阵和关系图  

通过上例可以看出，对于非空集合上的一个偏序关系，其关系矩阵上对角线元素均为1，其关系图中每个结点都有一个自环。这是因为偏序关系满足自反性，即集合中每个元素与其自身之间具有这种序关系。如果将这种自反性关系属性改为反自反性，则可得到另外一种名为拟序关系的特殊关系，拟序关系表示的是一种严格的顺序，其具体定义如下：  

【定义6.10】设$𝑅$非空集合$𝐴$上的一个二元关系，如果$R$满足反自反性、反对称性和传递性，则称$𝑅$是$𝐴$上的一个拟序关系或半序关系,简称为拟序或半序，记为$\prec$，读作小于。对于$𝐴$上的任意两个元素$x,y$，如果序偶$\langle x,y\rangle\in R$，则称$x$与$𝑦$可比且$$x$$小于$ y$，记为$x\prec y$。如果集合$𝐴$上有偏序关系$R$，则称$𝐴$为是一个拟序集或半序集,记为$\langle A,\prec\rangle$。  

从上述定义可知，定义中小于的含义并不是指数的大小，而是指偏序关系中的顺序，$x$小于𝑦的含义是：依照这个序关系$x$排在𝑦的前面。显然，拟序关系的自反闭包就是偏序关系。因此，偏序关系是拟序关系一种扩充，拟序关系是偏序关系的一种缩减。例如，实数集上的实数小于关系就是一种拟序关系，小于等于关系则是一种偏序关系。  

【例题6.22】 写出集合$A=\{2,\!3,\!6,\!12,\!24,\!36\}$上整除关系$R$中所有序偶，判断$𝑅$是否为偏序关系，并画出其关系图。  

【分析】首先求出它的整除关系$R$，利用偏序关系满足的三个性质判断是否为偏序关系。  

【解】 集合$𝐴$上的整除关系$R$  

$$
R=\{\langle2,2\rangle,\langle2,6\rangle,\langle2,12\rangle,\langle2,24\rangle,\langle2,36\rangle,\langle3,3\rangle,\langle3,6\rangle,\langle3,12\rangle,\langle3,24\rangle,\langle3,36\rangle,\\\langle6,6\rangle,\langle6,12\rangle,\langle6,24\rangle,\langle6,36\rangle,\langle12,12\rangle,\langle12,24\rangle,\langle12,36\rangle,\langle24,24\rangle,\langle36,36\rangle\}
$$

显然 $R$具有自反性、反对称性和传递性，故为偏序关系，关系图见图6-12（a）。 

![](images/c930957281769926ddc27b57ffcc60f6d449dd3d4ef76226704e4c159f545cf2.jpg)  
图6-12 $𝑅$的关系图和哈斯图  

通过上例的关系图可以看出，有时偏序关系的关系图比较复杂容易掩盖元素之间的本  

质联系，因此需要对关系图进行化简，删除图中的冗余联结，着重显示元素之间的层次结构联系。关系图化简的基本策略如下：  

（1）根据偏序关系的自反性，关系图的每个结点都必定有一个自环，这是一个确定不变的信息，因此可以将每个结点的自环省略。  

（2）根据偏序关系的反对称性，关系图中任意两个不同结点之间最多只有一条边相联结，如果$x$与$y$可比且$x\preccurlyeq y$，则可将结点$x$画在结点𝑦下方并略去从$x$到$𝑦$的有向边箭头，改用无向边联结$x$和𝑦。  

（3）根据偏序关系的传递性，如果关系图中的某条边可以通过其它边的传递性得到，则删除该边消除冗余边。  

将偏序关系的关系图按上述策略化简后得到的无向图称为该偏序关系的哈斯图。上例中的$𝑅$的哈斯图如图6-12（b）所示。下面结合具体实例介绍哈斯图的具体画法：  

【例题6.23】 证明集合$A=\{1,2,3,4,6,8,12\}$上整除关系$𝑅$为偏序关系，并画出该关系的的关系图和哈斯图。  

【证明】集合$𝐴$上的整除关系$R$为：  

$$
R=\{\langle1,1\rangle,\langle1,2\rangle,\langle1,3\rangle,\langle1,4\rangle,\langle1,6\rangle,\langle1,8\rangle,\langle1,12\rangle,\langle2,2\rangle,\langle2,4\rangle,\langle2,6\rangle,\langle2,8\rangle,\langle2,12\rangle,\\\langle3,3\rangle,\langle3,6\rangle,\langle3,12\rangle,\langle4,4\rangle,\langle4,8\rangle,\langle4,12\rangle,\langle6,6\rangle,\langle6,12\rangle,\langle8,8\rangle,\langle12,12\rangle\}
$$


![](images/031a2dc45aa30b60f4a4e44680b664d0928c5489597d933f42dbcc5940fbe0a1.jpg)  
图6-13$ 𝑅$的关系图及哈斯图求解  

易知$𝑅$满足自反性、对称性和传递性，故为偏序关系。图6-13（a）为$𝑅$的关系图。删除每个结点的自环后得到图6-13（b），再从图6-13（b）中略去边的方向以及可由传递性产生的边，得到的图6-13（c）即为$𝑅$的哈斯图。  

构建偏序关系的哈斯图，需要掌握如下两个基本要点：  

（1）哈斯图用上下位置关系表示结点之间的先后次序，对于可比的两个结点，下面的结点总是先于上面的结点。这样整个哈斯图表现出来的是一种自下而上的层次结构，刻画结点之间由先到后的偏序关系。因此，哈斯图中结点的布局是比较关键的。靠先的结点尽量往下排，不可比的结点可以排在相同的层次。  

（2）结点之间的间接序关系可通过哈斯图的连通路径实现，因此关系图中可由传递性得到的边全是冗余边，应予以删除。对于哈斯图中任意两个结点，这两个结点可比，当且仅当这两个结点之间有一条边数大于或等于1 的由下而上的路径联结。由此可知，如果哈斯图中的两个结点之间没有由下而上的路径联结，则这两个结点之间不可比，或者说这两个结点之间没有该哈斯图所表示的偏序关系。  

【例题6.24】令集合$A=\{1,\!2,\!3,\!4,\!6,\!7,\!8,\!9\}$, $B=\{a,b,c\},\;\;R_{1}=\{\langle x,y\rangle|x\leq y,x,y\in A\},$  $R_{2}=\{\langle x,y\rangle|x|y,x,y\in A\},\;\;R_{3}=\{\langle x,y\rangle|x\subseteq y,x,y\in P(B)\}$。试画出$R_{1}$，$R_{2}$，$R_{3}$的哈斯图。  

【解】易知$R_{1},R_{2},R_{3}$均为偏序关系，其哈斯图分别如图6-14(a)、图6-14(b)和图$6-$14(c)所示。  

![](images/40353f45a065917abb125b1daa7f25540ba1cdc311599992cb7a48cfb3d54144.jpg)  
图6-14 偏序关系哈斯图的构造  

### 6.3.2 偏序集的特殊元素  

如前所述，偏序集中的偏序关系主要用于集合中元素的差异性比较，既然有比较，就有可能产生一些特殊元素，例如可能会存在某个特殊元素，该元素先于集合中所有元素或者除其自身外集合没有其它元素先于该元素，由此得到偏序集中最小元和极小元的概念。当然，与此相对应，偏序集中也可能存在名为最大元或极大元的特殊元素。不难看出，在哈斯图中一些特殊的点，如最高层的点，最底层的点等等，它们都是偏序集中的特殊元素。下面逐步学习偏序集的常用特殊元素，首先给出如下最小元和最大元的定义：  

【定义6.11】对于偏序集$<A,\preccurlyeq>$和集合𝐴的任意子集$B$：

 若有$b\in B$，使得任意$x\in B$都有${x\preccurlyeq b}$，则称$ b$为$ B$的最大元素，简称最大元；

 若有$b\in B$，使得任意$x\in B$都有$b\preccurlyeq x$，则称$b$为$ B$的最小元素，简称最小元。  

从上述定义可以看出：  

（1）最大元和最小元其实是集合$𝐴$的某个子集合$ B$上的特殊元素，当$B=A$时，此时的最大元和最小元就是整个偏序集合𝐴的最大元和最小元。  

（2）对于集合$B$上的最大元$b$，要求$B$中所有元素都先于$b$，或者说$b$大于或等于$B$中所有元素，这本身就蕴含着一个前提，就是要求$b$与集合$ B$中所有元素都可比，否则$b$就不能成为最大元。由于偏序关系中不是任意两个元素都是可比的，故集合$𝐵$上的最大元可能不存在。  

（3）同样，对于集合$𝐵$上的最小元$𝑏$，要求元素$b$先于$B$中所有元素，或者说$𝑏$小于或等于$B$中所有元素，也蕴含着它与𝐵中所有元素都可比的前提，因此也有可能不存在。  

【例题6.25】确定图6-15 的每个哈斯图表示的偏序集是否有最大元素和最小元素。  

![](images/2ef14ac551bba8655bd262c3a22e11f896458174178fc7b8211f852817fe9329.jpg)  
图6-15 偏序集最大元素及最小元素求解  

【分析】利用最大元素以及最小元素的定义即可。  

【解】对于哈斯图$G_{1}$，集合$\{a,b,c,d,e\}$上的最小元素是$a$，没有最大元；对于哈斯图$G_{2}$，集合$\{a,b,c,d\}$上既没有最大元素也没有最小元素；对于哈斯图$G_{3}$，集合$\{a,b,c,d\}$上最小元素，最大元素是$d$；对于哈斯图$G_{4}$，集合$\{a,b,c,d\}$上的最小元素是$a$，最大元素是$d$。  

下面的定理给出了最大元和最小元的唯一性  

【定理6.6】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的有限子集，若$B$存在最大元或最小元，则该最大元或最小元必唯一。  

【证明】对于偏序集$\langle A,\preccurlyeq\rangle$和集合$𝐴$的任意子集$B$,若$b$为$B$的最大元，设$x$为$ B$的另一最大元。根据最大元的定义，$B$中所有元素都要小于等于它，即$b\preccurlyeq x$且$x\preccurlyeq b$。由于偏序关系的反对称性知必有$b=x$，即$B$的最大元唯一。同理可证最小元的唯一性。  

如前所述，集合$ B$上最大元和最小元必须与$B$中每个元素可比。这个要求比较苛刻会导致最大元和最小元不存在。现取消这种限制，得到如下极大元和极小元的定义：  

【定义6.12】对于偏序集$\langle A,\preccurlyeq\rangle$和集合𝐴的任意子集${B}$：

若有$b\in B$，使得$B$中不存在其他元素${x}$满足$b\preccurlyeq x$，则称$b$为$B$的极大元素,简称极大元；

若有$b\in B$，使得$B$中不存在其他元素${x}$满足$x\preccurlyeq b$，则称$b$为$B$的极小元素，简称极小元。  

从上述定义可以看出，所谓集合$B$中的极大元$b$，就是$B$中除了$b$之外没有任何其它元素，使得$b$先于该元素，也就是说，对于$B$中任何元素，要么它与$b$不可比，要么它小于或等于$𝑏$。因此，对于$𝐴$的任意子集$B$，$B$上的极大元总是存在的。同理，所谓集合$ B$中的极小元$𝑏$，就是$B$中除了$b$之外没有任何其它元素先于$b$，也就是说，对于$B$中任何元素，要么它与$𝑏$不可比，$b$要么小于或等于它。对于$𝐴$的任意子集${B}$，$B$上的极小元也总是存在的。  

下面的定理给出了最大元、极大元、最小元和极小元之间的关系：  

【定理6.7】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的有限子集。则：

 $b$是$B$的最大元$\Leftrightarrow b$是$B$的唯一极大元；$b$是$B$的最小元$\Leftrightarrow b$是$B$的唯一极小元  

【证明】略。  

【例题6.26】对于偏序集$\langle\{a,b,c,d,e,f,g,h\},\preccurlyeq\rangle$，其哈斯图如图6-16 所示，试求其下列子集的最大元、极大元、最小元和极小元。 

（1）$B_{1}=\{b,d,e,g\}$；（2）$B_{2}=\{b,c,d,e,f,g\}$；（3）$B_{3}=\{a,c,d\}$；（4）$B_{4}=\{d,e\}$。 

【分析】根据哈斯图的特征以及各个特征元素的概念即可。 

【解】 （1）$B_{1}=\{b,d,e,g\}$：最大元、极大元：$g$；最小元、极小元：$b$；

 （2）$B_{2}=\{b,c,d,e,f,g\}$：无最大元，也无最小元；极大元：$f,g$，极小元：$b,c$； 

（3）$B_{3}=\{a,c,d\}$：无最大元，最小元：$a$；极大元：$c,d$，极小元：$a$； 

（4）$B_{4}=\{d,e\}$：无最大最小元；极大元，极小元：$d,e$。

 【例题6.27】整除关系$(N,|)$是偏序集，$A=\{2,\!3,\!4,\!5,\!6,\!7,\!8,\!9\}$，画出它的哈斯图，并求出$A$中的极大元和极小元。  

【分析】根据上节哈斯图的画法以及极大元与极小元的定义可求。应注意总结各个特殊元素在哈斯图中位置的特点。  

【解】哈斯图如图6-17 所示。则由极大元素和极小元素定义可知：$A$中极大元素为：8，6，9，5，7。极小元素为：2，3，5，7。  

![](images/0735f6b575b2d879cbc7bc4d6ff26bf40e482473a48f3addd9790cba92487771.jpg)  

【注意】 极大元，极小元并不要求唯一, 但必须是集合$𝐴$中的元素。此外，极大元和极小元可以是同一个元素。  

前面关于偏序集$\langle A,\preccurlyeq\rangle$的四个特殊元素均要求属于集合$𝐴$的某个子集合$ B$，现在取消这个限制，集合 $A$中取其子集$B$的特殊元素，得到$B$的上界和下界、上确界和下确界的概念：  

【定义6.13】对于偏序集$\langle A,\preccurlyeq\rangle$和集合$𝐴$的任意子集${B}$

如果存在元素$a\in A$，对于任意的$x\in B$，有$x\preccurlyeq a$，则称$^{.}a$是$B$的一个上界；

 如果存在元素$a\in A$，对于任意的$x\in B$，有$a\preccurlyeq x$，则称$^{.}a$是$B$的一个下界；  

如果存在子集$B$的上界$a$，使得$B$的任意上界$x$都有$a\leq x$，则称$a$为子集$B$的最小上界或上确界，记为sup$(B)=a$；  

如果存在子集$B$的下界$a$，使得$B$的任意下界$x$都有$x\leq a$，则称$a$为子集$B$的最大下界或下确界，记为𝑖𝑛$\iota f(B)=a$。  

从上述定义不难看出：  

（1）子集$B$的上界、下界、上确界和下确界都可以在集合$𝐴$寻找，可以属于集合$B$，也可以不属于集合$ B$。  

（2）子集$B$的上界和下界可能存在，也可能不存在，如果存在也不一定唯一。  

（3）所谓上确界，其实就是最小的上界；所谓下确界，其实就是最大的下界。上下确界可能存在，也可能不存在，如果存在，必定唯一。  

（4）子集$B$若有上确界，则必有上界，若有下确界，则必有下界，反之不然。  

【例题6.28】设集合$X=\{x_{1},x_{2},x_{3},x_{4},x_{5}\}$上的偏序关系如图6-18 所示。求集合$𝑋$的子集$X_{1}=\{x_{2},x_{3},x_{4}\}$，$X_{2}=\{x_{3},x_{4},x_{5}\}$，$X_{3}=\{x_{1},x_{3},x_{5}\}$的：上界、下界、上确界、下确界、最大元、最小元、极大元和极小元。  

【分析】根据各个特征点的定义，如对于$ X_{1}=\{x_{2},x_{3},x_{4}\}$，找不到元素$b\in X_{1}$使得对任意的$x\in X_{1}$，都有$ x\leq b$，因此$X_{1}$不存在最大元。可类似得到其它特殊元素。  

【解】 $X_{1}$ ， $X_{2}$ 和 $X_{3}$ 的各种特殊元素见表。  

表 6-1 特殊元素表 
![](images/59d6a971d38f3e49282422b200dc7239207de8775e9d8e6686c686c85821f4e5.jpg)  

下面的定理给出了本节所定义8 个特殊元素之间的关系：  

【定理6.8】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的子集。则： 

（1）若$b$是$B$的最大元$\Rightarrow b$是$B$的极大元、上界、上确界；  

（2）若$b$是$B$的最小元$\Rightarrow b$是$B$的极小元、下界、下确界； 

（3）若$a$是$B$的上界，且$a\in B\Rightarrow a$是$B$的最大元； 

（4）若$a$是$B$的下界，且$a\in B\Rightarrow a$是$B$的最小元。

 【证明】这里仅证明（2）和（3），（1）和（4）的证明读者可作为练习自己给出。  

对于偏序集$\langle A,\preccurlyeq\rangle$和集合𝐴的任意子集$B$，若$b$为$B$的最小元，那么，根据最小元的定义知，任意$x\in B$都有$b\leq x$，当然不存在元素$y\in B$满足$y\leq b$，所以，根据极小元和下界的定义，必有$b$为$B$的极小元，也为$ B$的下界。  

设$a$为$B$的下确界。一方面，由于最小元小于等于$B$中所有元素，故$𝑏$为$ B$的一个下界。又因$a$为$B$的下确界，即最大下界，故$b\leq a$。另一方面，$a$为$B$的下界，它小于等于$B$中所有元素，即$a\leq b$。由偏序关系的反对称性知有$b=a$，即最小元是下确界。  

（3）对于偏序集$\langle A,\preccurlyeq\rangle$和集合$𝐴$的任意子集${B}$，若$a$为$B$的上界且$a\in B$，那么，根据上界的定义知$B$中所有元素都要小于等于$a$，故$a$是$B$的最大元。  

![](images/f37ea08b404f749f56a83ec2c1d5b6f5661cf87fa9695670f3932673f6c37d08.jpg)  
图6-19 $\langle A,\preccurlyeq\rangle$的关系图  

![](images/88a23f39ebd7ea7790c9816f2d4d77415fe1b69404c632d7f75170be869b2bcf.jpg)  
图6-20 $\langle A,\preccurlyeq\rangle$的哈斯图  

【例题6.29】设$A=\{18$ 的正整数因子}，$\preccurlyeq$为整除关系，求子集：{2,3,6}，{3,6,9}，{1,2,3}，$A$的最大元、极大元、最小元、极小元、上界、下界、上确界和上确界。  

表6-2 特殊元素表 
![](images/a7e597d75f76fde629cbcea3cb9812da85f0bea0a68c016f01eb5bb129ef1475.jpg)  

解：先求集合$𝐴$，得到$A=\{1,\!2,\!3,\!6,\!9,\!18\}$。由此得到整除关系$\preccurlyeq$  

$\preccurlyeq\langle1,1\rangle$ , 〈1,2〉,〈1,3〉,〈1,9〉, 〈1,18〉,〈2,2〉, 〈2,6〉, 〈2,18〉, 〈3,3〉, 〈3,6〉,〈3,9〉, 〈3,18〉, 〈6,6〉, 〈6,18〉, 〈9,9〉, 〈9,18〉,〈18,18〉}  

则$\langle A,\preccurlyeq\rangle$是偏序集，其关系图和哈斯图如图6-19，6-20 所示。

 由上述哈斯图可得 {2,3,6} ， {3,6,9} ， {1,2,3} ， $A$ 的8 个特殊元素，如表所示。  

### 6.3.3  全序与良序  

前述集合$𝐴$上偏序关系并不保证$𝐴$上的任何两个元素之间都是可比的，也是就是说并不保证任何两个元素之间都存在序关系。然而，在很多场合我们都需要对所关心的所有对象排个次序，例如体育比赛中的种子选手排名、全国各高校的综合排名、大会嘉宾代表的入场次序等等，都需要对所有对象进行排序。现有偏序关系模型显然不能正确表示和处理这类问题。故须加强偏序关系约束条件，在偏序关系基础上引入全序关系，其具体定义如下：  

【定义6.14】对于偏序集$\langle A,\preccurlyeq\rangle$，如果$𝐴$中任意两个元素${x}$和$\boldsymbol{y}$都是可比的，即$x\preccurlyeq y$或者$y\preccurlyeq x$，则称该偏序关系为全序关系或线序关系，简称为全序或线序。并称$\langle A,\preccurlyeq\rangle$为全序集或线序集，也可称为集合$𝐴$的链。  

由上述定义可知，全序关系必定是偏序关系，偏序关系则不一定是全序关系。 

   【例题6.30】判断下列关系是否为全序关系，并给出其哈斯图：  

1）集合{2,3,4,6,8,12}上的整除关系${ R}_{1}$；  

2）{2,3,5,7,9}上的大于等于关系$R_{2}$； 

 3）实数集合上的小于等于关系${ R}_{3}$； 

4）集合$\{a,b,c\}$上的关系$R_{4}=\{\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle a,b\rangle,\langle b,c\rangle,\langle a,c\rangle\}$。

【分析】根据全序的定义进行判断。  

【解】关系1),2),3)和4)都是偏序关系。根据全序关系定义，2),3)和4)都是全序关系；

1)不是全系关系，因为集合{2,3,4,6,8,12}中元素2 和3 没有整除关系，因而不可比。同理，3 和4 不可比，3 和8 不可比，4 和6 不可比，6 和8 不可比，8 和12 不可比。  

这些关系的哈斯图如图6-21 所示。  

![](images/f4ad7701f289591b745ba4756936c2a830127201bbfcf03fec9229a1d82a4a4d.jpg)  
图 6-21 例题6-30 哈斯图  

从上述例题可以看出，全序关系的哈斯图是将集合中全部元素排成一条线，像一条链子，充分体现了其链的特征。对于这种链型结构，显然有：$A$的任一子集$B$的最大元与其极大元一致，最小元与其极小元一致。也就是说，子集$B$的最大元和最小元分别是其极大元和极小元，子集$B$的极大元和极小元分别是其最大元和最小元。  

可用全序的概念定义偏序集$\langle A,\preccurlyeq\rangle$的一些特殊子集合，具体定义如下：  

【定义6.15】设$\langle A,\preccurlyeq\rangle$是一个偏序集，$B$是$𝐴$的任一子集，如果$𝐵$中任意两个元素都是可比的，则称$B$是$𝐴$的一条链，$B$中元素的个数称为该链的长度；反之，如果$B$中任意两个元素都是不可比的，则称 $B$是$𝐴$的一条反链，$B$中元素的个数称为该反链的长度。对于$𝐴$中由单个元素组成的集合，规定它既是链也是反链。  

例如，在偏序集〈{1,2,3,4,5,6,7,8,9}, |〉中，{1,2,4,8}是一条长度为4 的链，{2,4}是一条长度为2 的链，{2,3}则是一条长度为2 的反链。  

偏序集中的链表达了偏序集中部分元素之间存在全序关系，反链则表达了偏序集中部分元素相互之间不存在任何序关系。显然，链表达的是一种串行执行结构，反链表达的是一种并行执行结构。因此，可以使用偏序集中链和反链的概念优化实际问题求解的业务流程，有效提高问题求解的工作效率。  

![](images/18f7caa4d0b707d1ff49eb6f7a547c82b50926bf7ba3ab409aa786a7fcff2f4c.jpg)  
图6-22 保险索赔业务流程  

例如，图6-22 是一个关于保险索赔的流程图。图中方框代表处理流程中业务，圆圈代表某种分支选择。将流程中循环抽象成一个单一的结点，如用单个结点𝑇代替流程图中业务$T_{7}$、$T_{8}$及其后的分支结点。由此得到的所有结点构成集合$𝐴$，在该集合元素之间定义如下偏序关系≼：对$\forall x,y\in A$，当且仅当$x=y$或者$𝑦$必须在$x$完成后才能开始时，成立$x\preccurlyeq y$。如此，集合$𝐴$与其上的偏序关系$\preccurlyeq$便构成一个偏序集$\langle A,\preccurlyeq\rangle$，

图6.23 为其哈斯图。  

考虑偏序集中的链，最长链有4 条，其中2 条分别是：  

$\{T_1,T_2,T_3,S_1,T_6,,S_2,T,T_{10}\}; \{T_1,T_2,T_3,S_1,T_6,,S_2,T_9,T_{10}\}$

长度都是8。显然，最长链的长度代表了整个流程中必须顺序执行的任务最多有多少个。如果完成每项任务的时间差距不大，那么这种最长链就反映了完成整个任务的最少时间。  

![](images/598fd43b47030dd50e3aa3bc789da0841fc0eb2b823d2c8cd7d0b88fecfb1eab.jpg)  
图6-23 业务关系哈斯图  

并行执行业务是提供效率的一种有效途径。在一个偏序集中，如果能够将业务按照不相交的链进行分解，那么这些不相交的链就可在一定程度上并行执行。另一方面，如果把偏序集分解成不相交的反链，那么最长的反链长度则代表了在某个时间区间极大可并行的任务数。下面定理刻画了偏序集的分解与反链之间的关系：  

【定义6.16】设$\langle A,\preccurlyeq\rangle$为偏序集，如果$𝐴$中最长的链长度为$n$，则该偏序集可以分解为$𝑛$条不相交的反链。  

【证明】对$𝐴$中最长链的长度$n$使用数学归纳法。当$n=1$时，集合$𝐴$本身就是一条反链，结论成立。现假设当$n=k$时结论成立。  

对于$ n=k+1$时，由于$𝐴$必有极大元，故可设$𝐴$的所有极大元组成的集合为$H$，则$H$显然是一条反链。考虑偏序集$\langle A-H,\preccurlyeq\rangle$，易知$\langle A-H,\preccurlyeq\rangle$中最长链的长度为$k$，由归纳假设知集合 $A-H$ 能够被分解成 ${k}$ 条不相交的反链。因此， $A=(A-H)\cup H$ 能被分解成 $k+1$ 条互不相 交的反链。由归纳法原理知定理结论成立。 

上述定理表明，如果一项工作由多个业务构成，并且在这些业务构成的偏序集中最长链的长度为$n$，则可将这项工作分成${n}$个阶段，每个阶段分别执行一个反链，该反链中每项业务由于它们之间没有任何序关系而可以在该阶段并行执行。  

我们知道，对于一个偏序集合$\langle A,\preccurlyeq\rangle$，其任何子集${B}$上的最大值和最小值不一定存在或者不一定都存在。如果我们把偏序集合$\langle A,\preccurlyeq\rangle$的约束条件加强，要求$𝐴$的任何子集$𝐵$上的必须存在最小值，则得到如下良序关系的概念：  

【定义6.17】对于偏序集$\langle A,\preccurlyeq\rangle$，如果$𝐴$的任意一个非空子集$B$中都含有最小元素，则称该偏序关系为良序关系，简称为良序。称$\langle A,\preccurlyeq\rangle$为良序集。  

由上述定义可知，良序关系一定是偏序关系和全序关系，但偏序关系和全序关系不一定是良序关系。例如，实数集合上的小于等于关系显然是全序关系，但不是良序关系，因为开区间(0,1)没有最小值。不过有限的全序集一定是良序集。对于任何一个有限偏序集，可以通过适当排序将其改造成为一个全序集，从而使其成为良序集。  

## $\S\,\mathsf{6}.\,4$ 特殊关系的应用  

###   6.4.1 粗集定义问题  

现实世界中很多对象群体的边界是很模糊或者不确定的，例如，对于“中年人”这样的群体，怎样用集合或者其它数学工具进行描述？如果将“中年人”这个群体看出是一个集合$𝑆$的话，则$𝑆$就不是经典意义下的集合，因为其成员不确定。事实上，可以使用两个经典集合来刻画$𝑆$，一个叫做$𝑆$的上近似集合${S}\uparrow$，一个叫做$𝑆$的下近似集合$ S\downarrow$，让前者$𝑆↑$尽可能的小，后者$𝑆↑$尽可能的大。当$𝑆↑$能够等同于$𝑆↓$时,$S$就是经典集合，当$𝑆↑$不能够等同于$𝑆↓$时，则称$𝑆$是粗糙集或粗集。例如，可以用$S\uparrow=\{x|25\le x\le60\}$，即用25 岁至60 岁的人的集合，表示“中年人的集合”；还可以用$S\downarrow=\{x|30\le x\le50\}$，即用30 岁至50 岁的人的集合，表示“中年人的集合”。由于无法构造适当的“中年人的集合”的上下近似$S\uparrow=S\downarrow$，因此，“中年人的集合”$𝑆$是一个粗糙集。  

那么如何用准确的数学语言来定义粗糙集呢？下面通过等价关系给出粗集准确的数学定义。设$U$是个体域（或全集），$R$是$U$上的等价关系，则可由$R$导出的$U$的一个划分，如图$6-$$24\left(a\right)$所示，每个方格表示划分的一个单元，也就是一个$ R$等价类。  

如图$6–24\left(b\right)$所示，若$𝑆$是粗糙集，则$𝑆$的上下近似分别是两个粗线条勾画出的多边形，其中$S\uparrow$由与$𝑆$交不空方格的并组成，$S\downarrow$由包含于$𝑆$的方格并组成。  

![](images/05225fe2f04f5f432dc9b2bbf25b62263d90d0d724be9df376f08ea318717259.jpg)  

通过以上分析，就可以给出粗糙集𝑆的定义： 

【定义6.18】设$U$是个体域(或全集)，$R$是$U$上的等价关系，已知$𝑆$的成员均在$U$中。令： ${\begin{array}{l l}{S\uparrow=\cup\,\{[x]_{R}|[x]_{R}\cap S\neq\emptyset\}}&{;\;\;S\downarrow=\cup\,\{[x]_{R}|[x]_{R}\subseteq S\}}\end{array}}\quad\text{(6-4)}$  

那么称$S\uparrow$为$𝑆$的上近似，$S\downarrow$为$𝑆$的下近似。当$\textit{S}\uparrow=\textit{S}$↓时，$S$即是$U$的子集；当$S\uparrow\ne\textit{S}\downarrow$时，称 $𝑆$ 是 $U$ 的粗糙子集，简称为粗糙集或粗集。  

例如，表是考生情况调查表，其中$U$为被调查对象，$R$为高考成绩$(A-$优，$B-$良，$C-$中，$D-$差)；$X$为升学情况($+$为上，$/$为未上)。可根据高考成绩和升学状况进行分类，并可分别计算出下近似集、上近似集。  

表6-3 对集合𝑈的两种划分 
![](images/23b7c96f86908a1723f3af9fc2fde337caca13329476de93665a25a8e36ee553.jpg)  

![](images/1cdfc65fbfddc11bcd85c455f6521676d2bf7ff363efa7f28d82ea21a3e04ed5.jpg)  

事实上，可分别按成绩和升学对$U$进行划分：  

$U/R=\{\{1,6\},\{2\},\{3,5\},\{4\}\}=\{Y_{1},Y_{2},Y_{3},Y_{4}\};\quad U/X=\{\{2,3,5,6\},\{1,4\}\}=\{X_{1},X_{2}\}$ 分别得到粗糙集$S$的上近似和下近似集合：  

$$
S(X_{1})\uparrow=Y_{1}\cup Y_{2}\cup Y_{3}=\{1,2,3,5,6\}\;\;;\;\;\;S(X_{2})\uparrow=Y_{1}\cup Y_{4}=\{1,4,6\};
$$

$$
S(X_{1})\downarrow=Y_{2}\cup Y_{3}=\{2,3,5\}\;\;;\;\;\;S(X_{2})\downarrow=\;\;Y_{4}=\{4\}。
$$

粗糙集可以表示含义模糊且不太确定的概念，大大拓广了经典集合的概念和应用范围，更为重要的是，粗糙集可由经典集合借助等价关系进行定义，具有坚实的理论基础。目前，粗糙集理论在模式识别、数据挖掘等技术领域得到广泛应用。  

###   6.4.2 得分评判问题  

在很多需要排名次的非相互对抗场合，如歌手大赛中的参赛选手、成员的考评、电视节目中主持人大赛中参赛选手的考评等，其评断标准并不像球赛中进球、失球那样准确无误，往往由评判员们分别打分，通过分数计算名次。然而，分数有其不公平的一面。例如，甲、乙、丙三名歌手的得分分别为94 分，92 分，90 分。  

甲的分数-乙的分数$=$乙的分数-丙的分数。  

虽然这两个差相等，但并不能说明甲高出乙的水平等于乙高出丙的水平，因为这里1 分所表示的水平差距并不唯一确定，而是与评判者紧密相关。又如，对于期末考试中某班平均分语文85 分与数学60 分，该班某学生语文80 分，数学70 分，尽管$80>70$，也不能说明这名学生语文学的比数学好。因为这里分数基准点是不一致的。因此有了“标准分”和“等级记分”等科学记分方法，如 “优秀，良好，合格，不合格”四级打分法便是其中一种。  

由偏序关系的定义可知，任何排名次必是一个偏序关系，并且在很大情况下应是线性关系。因此，在上述排名场合（如歌手大赛考评等）可使用“0-1”法记分，并利用偏序关系的反对称性，在比赛过程对选手进行动态排名。下面结合具体实例介绍具体排名过程：  

设有 $A_{1},A_{2},A_{3},A_{4},A_{5},A_{6}$ 这 6  名参赛者，按其下标次序出场比赛。分别为每名评判员准 备一张如表$6–4$ 所示的表格用于对选手进行打分评判。  

表6-4 评判表 
![](images/4c85af2d68ddc01acb3d234836cc3dd6fee35852bbb1e27a76917d56b5336e04.jpg)  

每个评判员的打分方法如下：当$A_{2}$参赛结束时，立即把他与$A_{1}$比较，谁更好一些，若$A_{2}$好一些，在表6-4 的$\mathsf{C}_{21}$位置填上1，若$A_{1}$好一些，则在该位置填上0；$A_{3}$参赛结束后，依次与$A_{1}$、$A_{2}$比较谁好一些，好一些为1，差一些为0，并把这两个比较出来的数依次填在${\mathsf C}_{31}$和  

${\mathsf{C}}_{32}$的位置上。如此下去，知道所有的选手参赛结束。即有：  

$$
C_{ij}=\begin{cases}1&\quad\text{当}A_i\text{比}A_j\text{好时}\\0&\quad\text{当}A_i\text{比}A_j\text{好时}\end{cases}\quad(j<i)\quad\text{(6-5)}
$$

注意的是，当某一位选手比赛结束都要与他参赛的每一名选手比较而且给出谁好谁差的结论(是1 还是0)。也可以利用偏序关系的传递性减少比较次数。如$A_{5}$比$A_{1}$强，而此时已经有$\mathsf{C}_{31}=\mathsf{C}_{41}=0$，则必有${\mathsf{C}}_{53}={\mathsf{C}}_{54}=1$。表6-5 是某一位评判员所裁判的结果。  

表6-5   评判结果 
![](images/0095a64294f10a0d76e1eae14906fdb5c9f5e6a5bc895b20e56aa4e7f6a6e039.jpg)  

如$|A_{5}$行说明$A_{5}$比$A_{1}$好，比$A_{2}$差，比$A_{3}$好，比$A_{4}$  

然后对表6-5 进行整理：首先利用偏序关系的反对称性填充表格的上角，上表虚线为对称轴，右上角各个位置(如$\mathsf C_{12}$)看它的对称位置(即$\mathsf{C}_{21}$)上的数，若其对称位置上数为$1\left(\mathbb{C}_{21}=1\right)$,则它为$0\left(\mathsf{C}_{12}=0\right)$)；若其对称位置上的数为1，则它就是0。即有：  

$$
\mathrm{C}_{ij}=\begin{cases}0&\quad\text{当C}_{ji}=1\text{时}\\1&\quad\text{当C}_{ji}=0\text{时}\end{cases}\quad(i<j)\quad\text{(6-6)}
$$

完成后如表6-6 所示：  

表6-6 对评判结果的整理 
![](images/620931865382a676e3093ac6d3295347415e7bef2cda108424f0318f6d3c3129.jpg)  

把表6-6 各行的数字加起来填入总分列中（倒数第二列），这个列中各数分别为其所在行中相应选手的得分。它们不可能有两个相等的数，否则说明评判或填表有误应作废。把这个列的各数相加填入这一列最后一格为总分和$σ$。事实上$σ$是一个固定数$σ=m(m-1)/2$其中$m$为参赛选手的人数。本例中$m=6$，故有$σ=6*(6-1)/2=15$。  

把表6-6 中各列数字加起来，填入最后一行（即总分行）的相应位置上，分别为其所在列上相应选手的失分，以虚线为对称轴和其对称位置上的得分加起来应该等于$m-1$，  

减1 是因为自己不与自己比较，总分行总分和也等于$m(m-1)/2$。表的最后一列是把各选手的得分转化为人们习惯的百分制，本例中用的是$(m-1)*$得分数$+60$，以避免出现低于60 分的情况，最后把所有评判员有效给出的各个选手成绩相应加起来求平均成绩，按平均成绩高低排名次，此时可能出现并列名次。  

## $\S\,6.\,5$ 习 题  <abd>

1. 设集合$\cdot H=\{1,\!2,\!3\}$，下列关系$R$中哪些不是$H$上的等价关系？为什么？  

$$
B=\{\langle1,1\rangle,\langle2,2\rangle,\langle3,3\rangle,\langle2,3\rangle,\langle3,2\rangle\};
$$

$$
C=\{\langle1,1\rangle,\langle2,2\rangle,\langle3,3\rangle,\langle2,3\rangle,\langle3,1\rangle\};
$$

$$
D=\{\langle1,1\rangle,\langle2,2\rangle,\langle3,3\rangle,\langle1,2\rangle,\langle2,1\rangle,\langle1,3\rangle,\langle3,1\rangle,\langle2,3\rangle,\langle3,2\rangle\}\circ
$$

$$
R=\{\langle a,a\rangle,\langle b,b\rangle,\langle c,c\rangle,\langle d,d\rangle,\langle a,b\rangle,\langle b,a\rangle,\langle c,d\rangle,\langle d,c\rangle\}
$$

画出$R$的关系图，并找出$A$中各元素等价类和𝐴的商集$A/R$ 。  

5. 设$Z^{+}=\{x|x\in Z\land x>0\},$,   $\pi_{1},\pi_{2},\pi_{3}$是$Z^{+}$的3 个划分： 

$\pi_{1}=\{\{x\}|x\in Z^{+}\}$；$\pi_{2}=\{S_{1},S_{2}\}$，$S_{1}$为素数集，$S_{2}=Z^{+}-S_{1}$；$\pi_{3}=\{Z^{+}\}$问：（1）三个划分块中划分最多的是哪一个，最少的是哪一个？  

（2）各个划分分别对应$Z^{+}$中的那种关系？（包括整除关系、包含关系、全域关系、恒等关系、含有两个等价类的等价关系。） 

6.设$A=\{a,b,c,d\},R=I_{A}\cup\{\langle a,c\rangle,\langle c,a\rangle,\langle b,d\rangle,\langle d,b\rangle\}$为𝐴上等价关系，求其所有等价类。 

8. 设$A=\{1,\!2,\!3,\!4\}$, 在$P(A)$上定义如下二元关系：$R=\{\langle s,t\rangle|s,t\in P(A)\land(|s|=|\mathfrak{t}|)\}.$。证明：$R$是$P(A)$上的等价关系并写出其商集$P(A)/R$。 

9. $R$为自然数集$\boldsymbol{.N}$上的等价关系，$\forall x,y\in N,x R y\Leftrightarrow2|(x+y)$，试确定$R$在上$N$的划分。 

10. 设$S=\{1,\!2,\!3,\!4\}$，$A=S\times S$， $A$上的关系$R$为：$\langle a,b\rangle R\langle c,d\rangle\Leftrightarrow a+b=c+d$。 

（1）证明$R$是等价关系；（2）计算出$A/R$。 

11. 设$R$是𝐴上的一个二元关系, $S=\left\{\langle a,b\rangle|(a,b\in A)\land\left(\exists c\in A,\right.\right.$ 有$\langle a,c\rangle\in R$且$\langle c,b\rangle\in R)))$}。证明:若$\cdot R$是𝐴上的等价关系，则$S$也是𝐴上的等价关系。 12. 设$A=\{a,b,c,d,e,f\},\,i$$R$是𝐴上的二元关系，且$R=\{\langle a,b\rangle,\langle a,c\rangle,\langle e,f\rangle\}.$。设$\mathbf{\nabla}^{*}=t s r(R)$，则$R^{*}$是𝐴上的等价关系。 13. 设$R,\,S$是非空集合𝐴上的等价关系，试确定下列各式中哪些是𝐴的等价关系，对不是等价关系的式子要给出反例。  

$$
(A\times A)-R~:~(\,2\,)~S-R~;~(\,3\,)~R\cup S;
$$

14. 设$R$是集合𝐴上的一个关系，对$\forall a,b,c\in A$，若$\langle a,b\rangle\in R$且$\langle a,c\rangle\in R$，则有$\langle b,c\rangle\in R$，此时称$\cdot R$为𝐴上的循环关系。证明：集合$\cdot A$上等价关系当且仅当它是满足自反性的循环关系。 15. 对图6-25 所示的两个相容关系图${\sf G}_{1}$和$\mathsf{G}_{2}$，分别求其最大相容类。  

![](images/f05ef3c0a4c3017a7e691e354fe484b916f65ee2c4efe919c32c6e18052d292f.jpg)  
图6-25 第15 题图  

16.集合 $A=$ {air ， book ， class ， go ， int ， not ， yes ， make ， program} 上关系 𝑅 定义为：两 个单词中至少一个字母相同。证明$R$是相容关系，并写出$R$产生的所有最大相容类。  

17. 设集合$\cdot X=\{x_{1},x_{2},x_{3},x_{4},x_{5},x_{6}\}$，下图6-26 表示是$X$上关系$R$的关系图.  

（1）检验$R$是$X$上的相容关系；（2）确定由$R$决定的𝑋的覆盖.  

![](images/a5dce54f5829c91af42abcb3e10b7e8e3503040704b251df297bf40cb7ccebbd.jpg)  
图6-26 第17 题图  

18. 集合$A=\{a,b,c,d,e\}$上的二元关系$R$为：  

$$
\begin{array}{r}{R=\{\langle a,a\rangle,\langle a,b\rangle,\langle a,c\rangle,\langle a,d\rangle,\langle a,e\rangle,\langle b,b\rangle,\langle b,c\rangle,\langle b,e\rangle,}\end{array}
$$

$$
\langle c,c\rangle,\langle c,d\rangle,\langle c,e\rangle,\langle d,d\rangle,\langle d,e\rangle,\langle e,e\rangle\}
$$

（1）写出$R$的关系矩阵；（2）判断$\cdot R$是否为偏序关系，为什么？  

19. 设$A=\{a,b,c,d\}$，$\pi_{i}(i=1,\!2,\!3,\!4)$是$A$的划分，其中：$\pi_{1}=\{\{a\},\{b\},\{c\},\{d\}\}$；$\pi_{2}=$$\{\{a,c\ \},\{\ b,d\}\}$；$\pi_{3}=\{\{a,b\},\{c\},\{d\}\}$；$\pi_{4}=\{\{a,b,c,d\}\}$。令$\cdot\Pi=\{\pi_{1},\pi_{2},\pi_{3},\pi_{4}\}$， $\pi_{i}\leq\pi_{j}$当且仅当$\pi_{i}$的每个划分块都包含在$\pi_{j}$的某个划分块中，求偏序集$\langle\Pi,\leq\rangle$的哈斯图。  

20. 求下列集合上整除关系并画出哈斯图，指出其极大元、最大元、极小元和最小元。  

$$
A{=}\{1,2,3,4,6,8,12,24\};\;\;(\;2\;)\;\;B=\{1,2,3,4,5,6,7,8,9\}.
$$

21. 对于图6-27 所示3 个偏序集$\langle A,R_{\leq}\rangle$的哈斯图，分别写出集合𝐴和偏序关系$R_{\leq}$的表达式。  

![](images/16da4c2bf45315468dd5eae3a10d74b6c43909c84656de8bae8fd40c89838424.jpg)  
图6-27 第21 题图  

22. 设$A=\{1,\!2,\!3,\!4\}$，图6-28 给出了𝐴上的两个偏序关系图，试画出其哈斯图，并指出每个偏序集的极大元、最大元、极小元、最小元。  

![](images/78609a9fca19b6e4ef2e83a160fceb15b04cb641bac87ea9787ac37a5adc60dd.jpg)  

图6-28 第22 题图  

23.令$\cdot A=\{\{1\},\{2\},\{4\},\{1,2\},\{1,4\},\{2,4\},\{3,4\},\{1,3,4\},\{2,3,4\}\}$，对偏序集$\langle A,{\subseteq}\rangle$回答下面问题：  

1）求极大元素和极小元素。2）存在最大元素和最小元素么？  

3）求$\{\{2\},\{4\}\}$的所有上界；4）求{{1,3,4}，{2,3,4}}的所有下界。  

24.  请分别例举出满足下列条件的偏序集 的实例：

 （1）$\langle A,{\leq}\rangle$为全序集，但𝐴的某些非空子集无最小元； 

（2）$\langle A,{\leq}\rangle$不是全序集，$A$的某些非空子集无最大元； 

（3）$A$的某些非空子集有下确界，但该子集无最小元； 

（4）$A$的某些非空子集有上界，但该子集无上确界。  

25. 设$S=\{0,1\}$，$F$是𝑆中的字符构成长度不超过4 的串集，即$F=\{\lambda,0,1,00,01,\cdots,1111\}.$。 其中𝜆表示空串。在$F$上定义偏序关系$R$：$\forall x,y\in F$，$\langle x,y\rangle\in R\Leftrightarrow x$是𝑦的前缀。画出$\langle F,R\rangle$的哈斯图并出特殊元素。对于$G\subseteq F,G=\{101,1001\}$，求$G$出的最小上界和最大下界。  

26. 设集合$A=\{3,5,15\}$，$B=\{1,\!2,\!3,\!6,\!12\}$，$C=\{3,9,27,54\}$，分别在$A,B,C$上定义整除关系，则这些整除关系显然均为偏序关系，试写出这些偏序关系的表达式，分别画出其哈斯图，并指出那些是全序关系。  

27. 设𝑅是实数集，令$X=R^{[0,1]}$，若$f,g\in S\Leftrightarrow\forall x\in[0,1],f(x)-g(x)\geq0$，试证：$S$是一个偏序集，并判断𝑆是否为全序关系。  

28.判断下列关系是否为偏序关系、全序关系或良序关系。  

（1）自然数集$N$上的小于关系；（2）自然数集$N$上的大于等于关系； 

（3）整数集𝑍上的小于等于关系；（4）幂集$\boldsymbol{\cdot}\boldsymbol{P}(N)$上的真包含关系； 

（5）幂集$P(\{a\})$上的包含关系；（6）幂集$P(\emptyset)$上的包含关系。  